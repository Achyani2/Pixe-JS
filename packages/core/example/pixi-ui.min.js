!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("pixi.js")):"function"==typeof define&&define.amd?define(["exports","pixi.js"],e):e((t=t||self).PUXI={},t.PIXI)}(this,(function(t,e){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)};function n(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}const r=[],u={add:(t,e)=>(t._dragDropEventId=e.data.identifier,-1===r.indexOf(t)&&(r.push(t),!0)),getItem(t){let e,i=null;for(let n=0;n<r.length;n++)if(r[n]===t){i=r[n],e=n;break}return null!==i&&(r.splice(e,1),i)},getEventItem(t,e){let i,n=null;const u=t.data.identifier;for(let t=0;t<r.length;t++)if(r[t]._dragDropEventId===u){if(e!==r[t].dragGroup)return!1;n=r[t],i=t;break}return null!==n&&(r.splice(i,1),n)}};var o,s=function(){function t(){this.reset(),this.dirtyId=0}return t.prototype.reset=function(){this.left=-1,this.top=-1,this.right=-1,this.bottom=-1},t}();(o=t.MeasureMode||(t.MeasureMode={}))[o.UNBOUNDED=0]="UNBOUNDED",o[o.EXACTLY=1]="EXACTLY",o[o.AT_MOST=2]="AT_MOST";
/*!
     * @pixi/runner - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/runner is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
var a=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,i,n,r,u,o,s){if(arguments.length>8)throw new Error("max arguments reached");var a=this,h=a.name,D=a.items;this._aliasCount++;for(var l=0,c=D.length;l<c;l++)D[l][h](t,e,i,n,r,u,o,s);return D===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),t}();Object.defineProperties(a.prototype,{dispatch:{value:a.prototype.emit},run:{value:a.prototype.emit}});const h=/iPhone/i,D=/iPod/i,l=/iPad/i,c=/\bAndroid(?:.+)Mobile\b/i,d=/Android/i,p=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,f=/Silk/i,g=/Windows Phone/i,m=/\bWindows(?:.+)ARM\b/i,C=/BlackBerry/i,y=/BB10/i,v=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,E=/Mobile(?:.+)Firefox\b/i;function F(t,e){return t.test(e)}
/*!
     * @pixi/settings - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/settings is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
var x=function(t){let e=(t=t||("undefined"!=typeof navigator?navigator.userAgent:"")).split("[FBAN");void 0!==e[1]&&(t=e[0]),e=t.split("Twitter"),void 0!==e[1]&&(t=e[0]);const i={apple:{phone:F(h,t)&&!F(g,t),ipod:F(D,t),tablet:!F(h,t)&&F(l,t)&&!F(g,t),device:(F(h,t)||F(D,t)||F(l,t))&&!F(g,t)},amazon:{phone:F(p,t),tablet:!F(p,t)&&F(f,t),device:F(p,t)||F(f,t)},android:{phone:!F(g,t)&&F(p,t)||!F(g,t)&&F(c,t),tablet:!F(g,t)&&!F(p,t)&&!F(c,t)&&(F(f,t)||F(d,t)),device:!F(g,t)&&(F(p,t)||F(f,t)||F(c,t)||F(d,t))||F(/\bokhttp\b/i,t)},windows:{phone:F(g,t),tablet:F(m,t),device:F(g,t)||F(m,t)},other:{blackberry:F(C,t),blackberry10:F(y,t),opera:F(v,t),firefox:F(E,t),chrome:F(_,t),device:F(C,t)||F(y,t)||F(v,t)||F(E,t)||F(_,t)},any:!1,phone:!1,tablet:!1};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}();var b={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(x.tablet||x.phone){if(e=!1,x.apple.device){var i=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(i)parseInt(i[1],10)>=11&&(e=!0)}if(x.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n)parseInt(n[1],10)>=7&&(e=!0)}}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:x.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!x.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};function w(t,e){return t(e={exports:{}},e.exports),e.exports}var A=w((function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function u(t,e,n,u,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,u||t,o),a=i?i+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(i=!1)),s.prototype.eventNames=function(){var t,n,r=[];if(0===this._eventsCount)return r;for(n in t=this._events)e.call(t,n)&&r.push(i?n.slice(1):n);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,u=n.length,o=new Array(u);r<u;r++)o[r]=n[r].fn;return o},s.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},s.prototype.emit=function(t,e,n,r,u,o){var s=i?i+t:t;if(!this._events[s])return!1;var a,h,D=this._events[s],l=arguments.length;if(D.fn){switch(D.once&&this.removeListener(t,D.fn,void 0,!0),l){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,e),!0;case 3:return D.fn.call(D.context,e,n),!0;case 4:return D.fn.call(D.context,e,n,r),!0;case 5:return D.fn.call(D.context,e,n,r,u),!0;case 6:return D.fn.call(D.context,e,n,r,u,o),!0}for(h=1,a=new Array(l-1);h<l;h++)a[h-1]=arguments[h];D.fn.apply(D.context,a)}else{var c,d=D.length;for(h=0;h<d;h++)switch(D[h].once&&this.removeListener(t,D[h].fn,void 0,!0),l){case 1:D[h].fn.call(D[h].context);break;case 2:D[h].fn.call(D[h].context,e);break;case 3:D[h].fn.call(D[h].context,e,n);break;case 4:D[h].fn.call(D[h].context,e,n,r);break;default:if(!a)for(c=1,a=new Array(l-1);c<l;c++)a[c-1]=arguments[c];D[h].fn.apply(D[h].context,a)}}return!0},s.prototype.on=function(t,e,i){return u(this,t,e,i,!1)},s.prototype.once=function(t,e,i){return u(this,t,e,i,!0)},s.prototype.removeListener=function(t,e,n,r){var u=i?i+t:t;if(!this._events[u])return this;if(!e)return o(this,u),this;var s=this._events[u];if(s.fn)s.fn!==e||r&&!s.once||n&&s.context!==n||o(this,u);else{for(var a=0,h=[],D=s.length;a<D;a++)(s[a].fn!==e||r&&!s[a].once||n&&s[a].context!==n)&&h.push(s[a]);h.length?this._events[u]=1===h.length?h[0]:h:o(this,u)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&o(this,e)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=i,s.EventEmitter=s,t.exports=s})),T=/[^\x20-\x7E]/,M=/[\x2E\u3002\uFF0E\uFF61]/g,B={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=Math.floor,S=String.fromCharCode;
/*! https://mths.be/punycode v1.4.1 by @mathias */function O(t){throw new RangeError(B[t])}function P(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function L(t,e,i){var n=0;for(t=i?I(t/700):t>>1,t+=I(t/e);t>455;n+=36)t=I(t/35);return I(n+36*t/(t+38))}function R(t){return function(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]);var r=function(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}((t=t.replace(M,".")).split("."),e).join(".");return n+r}(t,(function(t){return T.test(t)?"xn--"+function(t){var e,i,n,r,u,o,s,a,h,D,l,c,d,p,f,g=[];for(c=(t=function(t){for(var e,i,n=[],r=0,u=t.length;r<u;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<u?56320==(64512&(i=t.charCodeAt(r++)))?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--):n.push(e);return n}(t)).length,e=128,i=0,u=72,o=0;o<c;++o)(l=t[o])<128&&g.push(S(l));for(n=r=g.length,r&&g.push("-");n<c;){for(s=2147483647,o=0;o<c;++o)(l=t[o])>=e&&l<s&&(s=l);for(s-e>I((2147483647-i)/(d=n+1))&&O("overflow"),i+=(s-e)*d,e=s,o=0;o<c;++o)if((l=t[o])<e&&++i>2147483647&&O("overflow"),l==e){for(a=i,h=36;!(a<(D=h<=u?1:h>=u+26?26:h-u));h+=36)f=a-D,p=36-D,g.push(S(P(D+f%p,0))),a=I(f/p);g.push(S(P(a,0))),u=L(i,d,n==r),i=0,++n}++i,++e}return g.join("")}(t):t}))}function N(t){return null===t}function k(t){return"string"==typeof t}function U(t){return"object"==typeof t&&null!==t}function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var j=function(t,e,i,n){e=e||"&",i=i||"=";var r={};if("string"!=typeof t||0===t.length)return r;var u=/\+/g;t=t.split(e);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s=t.length;o>0&&s>o&&(s=o);for(var a=0;a<s;++a){var h,D,l,c,d=t[a].replace(u,"%20"),p=d.indexOf(i);p>=0?(h=d.substr(0,p),D=d.substr(p+1)):(h=d,D=""),l=decodeURIComponent(h),c=decodeURIComponent(D),X(r,l)?Array.isArray(r[l])?r[l].push(c):r[l]=[r[l],c]:r[l]=c}return r},H=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},G=function(t,e,i,n){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(n){var r=encodeURIComponent(H(n))+i;return Array.isArray(t[n])?t[n].map((function(t){return r+encodeURIComponent(H(t))})).join(e):r+encodeURIComponent(H(t[n]))})).join(e):n?encodeURIComponent(H(n))+i+encodeURIComponent(H(t)):""},Y=w((function(t,e){e.decode=e.parse=j,e.encode=e.stringify=G})),V=(Y.decode,Y.parse),z=(Y.encode,Y.stringify);function W(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var q,K,$,Z,Q,J,tt,et,it,nt,rt,ut,ot,at,ht=/^([a-z0-9.+-]+:)/i,Dt=/:[0-9]*$/,lt=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,ct=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),dt=["'"].concat(ct),pt=["%","/","?",";","#"].concat(dt),ft=["/","?","#"],gt=/^[+a-z0-9A-Z_-]{0,63}$/,mt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ct={javascript:!0,"javascript:":!0},yt={javascript:!0,"javascript:":!0},vt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function _t(t,e,i){if(t&&U(t)&&t instanceof W)return t;var n=new W;return n.parse(t,e,i),n}function Et(t){var e=t.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var i=t.protocol||"",n=t.pathname||"",r=t.hash||"",u=!1,o="";t.host?u=e+t.host:t.hostname&&(u=e+(-1===t.hostname.indexOf(":")?t.hostname:"["+this.hostname+"]"),t.port&&(u+=":"+t.port)),t.query&&U(t.query)&&Object.keys(t.query).length&&(o=z(t.query));var s=t.search||o&&"?"+o||"";return i&&":"!==i.substr(-1)&&(i+=":"),t.slashes||(!i||vt[i])&&!1!==u?(u="//"+(u||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):u||(u=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),i+u+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r}function Ft(t){var e=t.host,i=Dt.exec(e);i&&(":"!==(i=i[0])&&(t.port=i.substr(1)),e=e.substr(0,e.length-i.length)),e&&(t.hostname=e)}
/*!
     * @pixi/constants - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/constants is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */W.prototype.parse=function(t,e,i){return function(t,e,i,n){if(!k(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),u=-1!==r&&r<e.indexOf("#")?"?":"#",o=e.split(u);o[0]=o[0].replace(/\\/g,"/");var s=e=o.join(u);if(s=s.trim(),!n&&1===e.split("#").length){var a=lt.exec(s);if(a)return t.path=s,t.href=s,t.pathname=a[1],a[2]?(t.search=a[2],t.query=i?V(t.search.substr(1)):t.search.substr(1)):i&&(t.search="",t.query={}),t}var h,D,l,c,d=ht.exec(s);if(d){var p=(d=d[0]).toLowerCase();t.protocol=p,s=s.substr(d.length)}if(n||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var f="//"===s.substr(0,2);!f||d&&yt[d]||(s=s.substr(2),t.slashes=!0)}if(!yt[d]&&(f||d&&!vt[d])){var g,m,C=-1;for(h=0;h<ft.length;h++)-1!==(D=s.indexOf(ft[h]))&&(-1===C||D<C)&&(C=D);for(-1!==(m=-1===C?s.lastIndexOf("@"):s.lastIndexOf("@",C))&&(g=s.slice(0,m),s=s.slice(m+1),t.auth=decodeURIComponent(g)),C=-1,h=0;h<pt.length;h++)-1!==(D=s.indexOf(pt[h]))&&(-1===C||D<C)&&(C=D);-1===C&&(C=s.length),t.host=s.slice(0,C),s=s.slice(C),Ft(t),t.hostname=t.hostname||"";var y="["===t.hostname[0]&&"]"===t.hostname[t.hostname.length-1];if(!y){var v=t.hostname.split(/\./);for(h=0,l=v.length;h<l;h++){var _=v[h];if(_&&!_.match(gt)){for(var E="",F=0,x=_.length;F<x;F++)_.charCodeAt(F)>127?E+="x":E+=_[F];if(!E.match(gt)){var b=v.slice(0,h),w=v.slice(h+1),A=_.match(mt);A&&(b.push(A[1]),w.unshift(A[2])),w.length&&(s="/"+w.join(".")+s),t.hostname=b.join(".");break}}}}t.hostname.length>255?t.hostname="":t.hostname=t.hostname.toLowerCase(),y||(t.hostname=R(t.hostname)),c=t.port?":"+t.port:"";var T=t.hostname||"";t.host=T+c,t.href+=t.host,y&&(t.hostname=t.hostname.substr(1,t.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!Ct[p])for(h=0,l=dt.length;h<l;h++){var M=dt[h];if(-1!==s.indexOf(M)){var B=encodeURIComponent(M);B===M&&(B=escape(M)),s=s.split(M).join(B)}}var I=s.indexOf("#");-1!==I&&(t.hash=s.substr(I),s=s.slice(0,I));var S=s.indexOf("?");-1!==S?(t.search=s.substr(S),t.query=s.substr(S+1),i&&(t.query=V(t.query)),s=s.slice(0,S)):i&&(t.search="",t.query={});s&&(t.pathname=s);vt[p]&&t.hostname&&!t.pathname&&(t.pathname="/");if(t.pathname||t.search){c=t.pathname||"";var O=t.search||"";t.path=c+O}return t.href=Et(t),t}(this,t,e,i)},W.prototype.format=function(){return Et(this)},W.prototype.resolve=function(t){return this.resolveObject(_t(t,!1,!0)).format()},W.prototype.resolveObject=function(t){if(k(t)){var e=new W;e.parse(t,!1,!0),t=e}for(var i,n=new W,r=Object.keys(this),u=0;u<r.length;u++){var o=r[u];n[o]=this[o]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var h=s[a];"protocol"!==h&&(n[h]=t[h])}return vt[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!vt[t.protocol]){for(var D=Object.keys(t),l=0;l<D.length;l++){var c=D[l];n[c]=t[c]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||yt[t.protocol])n.pathname=t.pathname;else{for(i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var d=n.pathname||"",p=n.search||"";n.path=d+p}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var f,g=n.pathname&&"/"===n.pathname.charAt(0),m=t.host||t.pathname&&"/"===t.pathname.charAt(0),C=m||g||n.host&&t.pathname,y=C,v=n.pathname&&n.pathname.split("/")||[],_=n.protocol&&!vt[n.protocol];if(i=t.pathname&&t.pathname.split("/")||[],_&&(n.hostname="",n.port=null,n.host&&(""===v[0]?v[0]=n.host:v.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),C=C&&(""===i[0]||""===v[0])),m)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,v=i;else if(i.length)v||(v=[]),v.pop(),v=v.concat(i),n.search=t.search,n.query=t.query;else if(null!=t.search)return _&&(n.hostname=n.host=v.shift(),(f=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=f.shift(),n.host=n.hostname=f.shift())),n.search=t.search,n.query=t.query,N(n.pathname)&&N(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!v.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=v.slice(-1)[0],F=(n.host||t.host||v.length>1)&&("."===E||".."===E)||""===E,x=0,b=v.length;b>=0;b--)"."===(E=v[b])?v.splice(b,1):".."===E?(v.splice(b,1),x++):x&&(v.splice(b,1),x--);if(!C&&!y)for(;x--;x)v.unshift("..");!C||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),F&&"/"!==v.join("/").substr(-1)&&v.push("");var w=""===v[0]||v[0]&&"/"===v[0].charAt(0);return _&&(n.hostname=n.host=w?"":v.length?v.shift():"",(f=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=f.shift(),n.host=n.hostname=f.shift())),(C=C||n.host&&v.length)&&!w&&v.unshift(""),v.length?n.pathname=v.join("/"):(n.pathname=null,n.path=null),N(n.pathname)&&N(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},W.prototype.parseHost=function(){return Ft(this)},function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(q||(q={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(K||(K={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}($||($={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Z||(Z={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Q||(Q={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(J||(J={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(tt||(tt={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(et||(et={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(it||(it={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON"}(nt||(nt={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(rt||(rt={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(ut||(ut={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ot||(ot={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(at||(at={})),
/*!
     * @pixi/utils - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/utils is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
b.RETINA_PREFIX=/@([0-9\.]+)x/,b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var xt=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[$.NORMAL_NPM]=$.NORMAL,t[$.ADD_NPM]=$.ADD,t[$.SCREEN_NPM]=$.SCREEN,e[$.NORMAL]=$.NORMAL_NPM,e[$.ADD]=$.ADD_NPM,e[$.SCREEN]=$.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}();function bt(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function wt(t){return!(t&t-1||!t)}function At(t){var e=(t>65535?1:0)<<4,i=((t>>>=e)>255?1:0)<<3;return e|=i,e|=i=((t>>>=i)>15?1:0)<<2,(e|=i=((t>>>=i)>3?1:0)<<1)|(t>>>=i)>>1}var Tt=0;function Mt(){return++Tt}var Bt,It,St={},Ot=Object.create(null),Pt=Object.create(null);!function(){function t(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||b.RESOLUTION,this.resize(t,e)}t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!0,configurable:!0})}();function Lt(t,e){var i=b.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}
/*!
     * @pixi/ticker - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/ticker is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */b.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(It||(It={}));var Rt,Nt=function(){function t(t,e,i,n){void 0===e&&(e=null),void 0===i&&(i=0),void 0===n&&(n=!1),this.fn=t,this.context=e,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),kt=function(){function t(){var t=this;this._head=new Nt(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/b.TARGET_FPMS,this.elapsedMS=1/b.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,i){return void 0===i&&(i=It.NORMAL),this._addListener(new Nt(t,e,i))},t.prototype.addOnce=function(t,e,i){return void 0===i&&(i=It.NORMAL),this._addListener(new Nt(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*b.TARGET_FPMS;for(var n=this._head,r=n.next;r;)r=r.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,b.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!0,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!0,configurable:!0}),t}(),Ut=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t}(),Xt=function(){function t(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this._x=i,this._y=n,this.cb=t,this.scope=e}return t.prototype.clone=function(e,i){return void 0===e&&(e=this.cb),void 0===i&&(i=this.scope),new t(e,i,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!0,configurable:!0}),t}(),jt=2*Math.PI,Ht=180/Math.PI,Gt=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(Rt||(Rt={}));var Yt=function(){function t(t,e,i,n,r,u){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=1),void 0===r&&(r=0),void 0===u&&(u=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=u}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,n,r,u){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=u,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new Ut;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new Ut;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,r=t.y;return e.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,u=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=u*e-this.ty*i,this.ty=u*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,i,n,r,u,o,s,a){return this.a=Math.cos(o+a)*r,this.b=Math.sin(o+a)*r,this.c=-Math.sin(o-s)*u,this.d=Math.cos(o-s)*u,this.tx=t-(i*this.a+n*this.c),this.ty=e-(i*this.b+n*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,u=-Math.atan2(-n,r),o=Math.atan2(i,e),s=Math.abs(u+o);return s<1e-5||Math.abs(jt-s)<1e-5?(t.rotation=o,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=u,t.skew.y=o),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,u=t*n-e*i;return this.a=n/u,this.b=-e/u,this.c=-i/u,this.d=t/u,this.tx=(i*this.ty-n*r)/u,this.ty=-(t*this.ty-e*r)/u,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!0,configurable:!0}),t}(),Vt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Wt=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],qt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Kt=[],$t=[],Zt=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];Kt.push(e);for(var i=0;i<16;i++)for(var n=Zt(Vt[t]*Vt[i]+Wt[t]*zt[i]),r=Zt(zt[t]*Vt[i]+qt[t]*zt[i]),u=Zt(Vt[t]*Wt[i]+Wt[t]*qt[i]),o=Zt(zt[t]*Wt[i]+qt[t]*qt[i]),s=0;s<16;s++)if(Vt[s]===n&&zt[s]===r&&Wt[s]===u&&qt[s]===o){e.push(s);break}}for(t=0;t<16;t++){var a=new Yt;a.set(Vt[t],zt[t],Wt[t],qt[t],0,0),$t.push(a)}}();var Qt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Vt[t]},uY:function(t){return zt[t]},vX:function(t){return Wt[t]},vY:function(t){return qt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Kt[t][e]},sub:function(t,e){return Kt[t][Qt.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Qt.S:Qt.N:2*Math.abs(e)<=Math.abs(t)?t>0?Qt.E:Qt.W:e>0?t>0?Qt.SE:Qt.SW:t>0?Qt.NE:Qt.NW},matrixAppendRotationInv:function(t,e,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=$t[Qt.inv(e)];r.tx=i,r.ty=n,t.append(r)}},Jt=function(){function t(){this.worldTransform=new Yt,this.localTransform=new Yt,this.position=new Xt(this.onChange,this,0,0),this.scale=new Xt(this.onChange,this,1,1),this.pivot=new Xt(this.onChange,this,0,0),this.skew=new Xt(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!0,configurable:!0}),t.IDENTITY=new t,t}(),te=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(n),this.type=Rt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),n=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=n,this.height=Math.max(r-n,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,n=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=n-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=n,this.height=r-n,this},t}();
/*!
     * @pixi/display - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/display is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
b.SORTABLE_CHILDREN=!1;var ee=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};ee.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},ee.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},ee.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?te.EMPTY:((t=t||new te(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},ee.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},ee.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,u=t[0],o=t[1];e=u<e?u:e,i=o<i?o:i,n=u>n?u:n,r=o>r?o:r,e=(u=t[2])<e?u:e,i=(o=t[3])<i?o:i,n=u>n?u:n,r=o>r?o:r,e=(u=t[4])<e?u:e,i=(o=t[5])<i?o:i,n=u>n?u:n,r=o>r?o:r,e=(u=t[6])<e?u:e,i=(o=t[7])<i?o:i,n=u>n?u:n,r=o>r?o:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},ee.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},ee.prototype.addFrameMatrix=function(t,e,i,n,r){var u=t.a,o=t.b,s=t.c,a=t.d,h=t.tx,D=t.ty,l=this.minX,c=this.minY,d=this.maxX,p=this.maxY,f=u*e+s*i+h,g=o*e+a*i+D;l=f<l?f:l,c=g<c?g:c,d=f>d?f:d,p=g>p?g:p,l=(f=u*n+s*i+h)<l?f:l,c=(g=o*n+a*i+D)<c?g:c,d=f>d?f:d,p=g>p?g:p,l=(f=u*e+s*r+h)<l?f:l,c=(g=o*e+a*r+D)<c?g:c,d=f>d?f:d,p=g>p?g:p,l=(f=u*n+s*r+h)<l?f:l,c=(g=o*n+a*r+D)<c?g:c,d=f>d?f:d,p=g>p?g:p,this.minX=l,this.minY=c,this.maxX=d,this.maxY=p},ee.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,u=this.maxX,o=this.maxY,s=e;s<i;s+=2){var a=t[s],h=t[s+1];n=a<n?a:n,r=h<r?h:r,u=a>u?a:u,o=h>o?h:o}this.minX=n,this.minY=r,this.maxX=u,this.maxY=o},ee.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},ee.prototype.addVerticesMatrix=function(t,e,i,n,r,u){var o=t.a,s=t.b,a=t.c,h=t.d,D=t.tx,l=t.ty;r=r||0,u=u||0;for(var c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=i;g<n;g+=2){var m=e[g],C=e[g+1],y=o*m+a*C+D,v=h*C+s*m+l;c=Math.min(c,y-r),p=Math.max(p,y+r),d=Math.min(d,v-u),f=Math.max(f,v+u)}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},ee.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},ee.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,u=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=u){var o=this.minX,s=this.minY,a=this.maxX,h=this.maxY;this.minX=i<o?i:o,this.minY=n<s?n:s,this.maxX=r>a?r:a,this.maxY=u>h?u:h}},ee.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},ee.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,u=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=u){var o=this.minX,s=this.minY,a=this.maxX,h=this.maxY;this.minX=i<o?i:o,this.minY=n<s?n:s,this.maxX=r>a?r:a,this.maxY=u>h?u:h}},ee.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},ee.prototype.addFramePad=function(t,e,i,n,r,u){t-=r,e-=u,i+=r,n+=u,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n};var ie=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Jt,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ee,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},angle:{configurable:!0},zIndex:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return e.mixin=function(t){for(var i=Object.keys(t),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.calculateBounds=function(){},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&(this.calculateBounds(),this._lastBoundsID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new te),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new te),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=i,this.transform=e,n},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,n,r,u,o,s,a){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===u&&(u=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=u,this.skew.y=o,this.pivot.x=s,this.pivot.y=a,this},e.prototype.destroy=function(){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.angle.get=function(){return this.transform.rotation*Ht},i.angle.set=function(t){this.transform.rotation=t*Gt},i.zIndex.get=function(){return this._zIndex},i.zIndex.set=function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){if(this._mask){var e=this._mask.maskObject||this._mask;e.renderable=!0,e.isMask=!1}if(this._mask=t,this._mask){var i=this._mask.maskObject||this._mask;i.renderable=!1,i.isMask=!0}},Object.defineProperties(e.prototype,i),e}(A);ie.prototype.displayObjectUpdateTransform=ie.prototype.updateTransform;
/*!
     * @pixi/core - v5.2.1
     * Compiled Tue, 28 Jan 2020 23:33:11 UTC
     *
     * @pixi/core is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */
var ne=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new a("setRealSize",2),this.onUpdate=new a("update"),this.onError=new a("onError",1)},re={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};ne.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},ne.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},ne.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},re.valid.get=function(){return!!this._width&&!!this._height},ne.prototype.update=function(){this.destroyed||this.onUpdate.run()},ne.prototype.load=function(){return Promise.resolve()},re.width.get=function(){return this._width},re.height.get=function(){return this._height},ne.prototype.upload=function(t,e,i){return!1},ne.prototype.style=function(t,e,i){return!1},ne.prototype.dispose=function(){},ne.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},Object.defineProperties(ne.prototype,re);var ue=function(t){function e(e){var i=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;t.call(this,i,n),this.source=e,this.noSubImage=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=function(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,Bt||(Bt=document.createElement("a")),Bt.href=t;var i=_t(Bt.href),n=!i.port&&""===e.port||i.port===e.port;return i.hostname===e.hostname&&n&&i.protocol===e.protocol?"":"anonymous"}(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,n){var r=t.gl,u=e.realWidth,o=e.realHeight;return n=n||this.source,r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===rt.UNPACK),this.noSubImage||e.target!==r.TEXTURE_2D||i.width!==u||i.height!==o?(i.width=u,i.height=o,r.texImage2D(e.target,0,e.format,e.format,e.type,n)):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e.format,e.type,n),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source.naturalWidth||this.source.videoWidth||this.source.width,i=this.source.naturalHeight||this.source.videoHeight||this.source.height;this.resize(e,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(ne),oe=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var n=new Image;t.crossOrigin(n,e,i.crossorigin),n.src=e,e=n}t.call(this,e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(void 0!==i.createBitmap?i.createBitmap:b.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,this.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load||(this._load=new Promise((function(t){e.url=e.source.src;var i=e.source,n=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(t){return e.onError.run(t)})}))),this._load},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha===rt.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,n){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,i,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,i,n,this.bitmap),!this.preserveBitmap){var r=!0;for(var u in i._glTextures){var o=i._glTextures[u];if(o!==n&&o.dirtyId!==i.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(ue),se=[];function ae(t,e){if(!t)return null;var i="";if("string"==typeof t){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(i=n[1].toLowerCase())}for(var r=se.length-1;r>=0;--r){var u=se[r];if(u.test&&u.test(t,i))return new u(t,e)}return new oe(t,e)}var he=function(t){function e(e,i){var n=i||{},r=n.width,u=n.height;if(!r||!u)throw new Error("BufferResource width or height invalid");t.call(this,r,u),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===rt.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,i.internalFormat,e.width,e.height,0,e.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(ne),De={scaleMode:et.NEAREST,format:Q.RGBA,alphaMode:rt.NPM},le=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var n=(i=i||{}).alphaMode,r=i.mipmap,u=i.anisotropicLevel,o=i.scaleMode,s=i.width,a=i.height,h=i.wrapMode,D=i.format,l=i.type,c=i.target,d=i.resolution,p=i.resourceOptions;!e||e instanceof ne||((e=ae(e,p)).internal=!0),this.width=s||0,this.height=a||0,this.resolution=d||b.RESOLUTION,this.mipmap=void 0!==r?r:b.MIPMAP_TEXTURES,this.anisotropicLevel=void 0!==u?u:b.ANISOTROPIC_LEVEL,this.wrapMode=h||b.WRAP_MODE,this.scaleMode=void 0!==o?o:b.SCALE_MODE,this.format=D||Q.RGBA,this.type=l||tt.UNSIGNED_BYTE,this.target=c||J.TEXTURE_2D,this.alphaMode=void 0!==n?n:rt.UNPACK,void 0!==i.premultiplyAlpha&&(this.premultiplyAlpha=i.premultiplyAlpha),this.uid=Mt(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return Math.ceil(this.width*this.resolution-1e-4)},i.realHeight.get=function(){return Math.ceil(this.height*this.resolution-1e-4)},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=wt(this.realWidth)&&wt(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Pt[this.cacheId],delete Ot[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i,n){void 0===n&&(n=b.STRICT_TEXTURE_CACHE);var r="string"==typeof t,u=null;r?u=t:(t._pixiId||(t._pixiId="pixiid_"+Mt()),u=t._pixiId);var o=Pt[u];if(r&&n&&!o)throw new Error('The cacheId "'+u+'" does not exist in BaseTextureCache.');return o||((o=new e(t,i)).cacheId=u,e.addToCache(o,u)),o},e.fromBuffer=function(t,i,n,r){t=t||new Float32Array(i*n*4);var u=new he(t,{width:i,height:n}),o=t instanceof Float32Array?tt.FLOAT:tt.UNSIGNED_BYTE;return new e(u,Object.assign(De,r||{width:i,height:n,type:o}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Pt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),Pt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Pt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Pt[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete Pt[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(A);le._globalBatch=0;var ce=function(t){function e(e,i){var n;i=i||{};var r=e;Array.isArray(e)&&(n=e,r=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var u=0;u<r;u++){var o=new le;this.items.push(o),this.itemDirtyIds.push(-1)}if(this.length=r,this._load=null,n)for(var s=0;s<r;s++)this.addResourceAt(ae(n[s],i),s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=J.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})),i=e.map((function(t){return t.load()}));return this._load=Promise.all(i).then((function(){var i=e[0],n=i.width,r=i.height;return t.resize(n,r),Promise.resolve(t)})),this._load},e.prototype.upload=function(t,e,i){var n=this.length,r=this.itemDirtyIds,u=this.items,o=t.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,n,0,e.format,e.type,null);for(var s=0;s<n;s++){var a=u[s];r[s]<a.dirtyId&&(r[s]=a.dirtyId,a.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,s,a.resource.width,a.resource.height,1,e.format,e.type,a.resource.source))}return!0},e}(ne),de=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){var e=window.OffscreenCanvas;return!!(e&&t instanceof e)||t instanceof HTMLCanvasElement},e}(ue),pe=function(t){function e(i,n){if(n=n||{},t.call(this,i,n),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6");for(var r=0;r<e.SIDES;r++)this.items[r].target=J.TEXTURE_CUBE_MAP_POSITIVE_X+r;!1!==n.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=J.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,n){for(var r=this.itemDirtyIds,u=0;u<e.SIDES;u++){var o=this.items[u];r[u]<o.dirtyId&&(r[u]=o.dirtyId,o.valid&&o.resource.upload(t,o,n))}return!0},e}(ce);pe.SIDES=6;var fe=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this._width=0,this._height=0,this.svg=e,this.scale=i.scale||1,this._overrideWidth=i.width,this._overrideHeight=i.height,this._resolve=null,this._crossorigin=i.crossorigin,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var e=this,i=new Image;t.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(t){i.onerror=null,e.onError.run(t)},i.onload=function(){var t=i.width,n=i.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=t*e.scale,u=n*e.scale;(e._overrideWidth||e._overrideHeight)&&(r=e._overrideWidth||e._overrideHeight/n*t,u=e._overrideHeight||e._overrideWidth/t*n),r=Math.round(r),u=Math.round(u);var o=e.source;o.width=r,o.height=u,o._pixiId="canvas_"+Mt(),o.getContext("2d").drawImage(i,0,0,t,n,0,0,r,u),e._resolve(),e._resolve=null}},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),n={};return i&&(n[i[1]]=Math.round(parseFloat(i[3])),n[i[5]]=Math.round(parseFloat(i[7]))),n},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml;base64")||"string"==typeof t&&0===t.indexOf("<svg")},e}(ue);fe.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var ge=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var n=document.createElement("video");n.setAttribute("preload","auto"),n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(n,e[0].src||e[0],i.crossorigin);for(var r=0;r<e.length;++r){var u=document.createElement("source"),o=e[r],s=o.src,a=o.mime,h=(s=s||e[r]).split("?").shift().toLowerCase(),D=h.substr(h.lastIndexOf(".")+1);a=a||"video/"+D,u.src=s,u.type=a,n.appendChild(u)}e=n}t.call(this,e),this.noSubImage=!0,this._autoUpdate=!0,this._isAutoUpdating=!1,this._updateFPS=i.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0},updateFPS:{configurable:!0}};return e.prototype.update=function(e){if(void 0===e&&(e=0),!this.destroyed){var i=kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this,e),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){t.valid?i(t):(t._resolve=i,e.load())})),this._load},e.prototype._onError=function(){this.source.removeEventListener("error",this._onError,!0),this.onError.run(event)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(kt.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(kt.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&kt.shared.remove(this.update,this),this.source&&(this.source.removeEventListener("error",this._onError,!0),this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(kt.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(kt.shared.add(this.update,this),this._isAutoUpdating=!0))},i.updateFPS.get=function(){return this._updateFPS},i.updateFPS.set=function(t){t!==this._updateFPS&&(this._updateFPS=t)},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(ue);ge.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var me=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return!!window.createImageBitmap&&t instanceof ImageBitmap},e}(ue);se.push(oe,me,de,ge,fe,he,pe,ce);var Ce=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var n=t.gl;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===rt.UNPACK),i.width===e.width&&i.height===e.height?n.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,n.texImage2D(e.target,0,n.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(he),ye=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new a("disposeFramebuffer",2)},ve={colorTexture:{configurable:!0}};ve.colorTexture.get=function(){return this.colorTextures[0]},ye.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new le(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},ye.prototype.addDepthTexture=function(t){return this.depthTexture=t||new le(new Ce(null,{width:this.width,height:this.height}),{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:Q.DEPTH_COMPONENT,type:tt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},ye.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},ye.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},ye.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var n=this.colorTextures[i],r=n.resolution;n.setSize(t/r,e/r)}if(this.depthTexture){var u=this.depthTexture.resolution;this.depthTexture.setSize(t/u,e/u)}}},ye.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Object.defineProperties(ye.prototype,ve);var _e=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)};_e.prototype.set=function(t,e,i){var n=e.width,r=e.height;if(i){var u=t.width/2/n,o=t.height/2/r,s=t.x/n+u,a=t.y/r+o;i=Qt.add(i,Qt.NW),this.x0=s+u*Qt.uX(i),this.y0=a+o*Qt.uY(i),i=Qt.add(i,2),this.x1=s+u*Qt.uX(i),this.y1=a+o*Qt.uY(i),i=Qt.add(i,2),this.x2=s+u*Qt.uX(i),this.y2=a+o*Qt.uY(i),i=Qt.add(i,2),this.x3=s+u*Qt.uX(i),this.y3=a+o*Qt.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3};var Ee=new _e,Fe=function(t){function e(i,n,r,u,o,s){if(t.call(this),this.noFrame=!1,n||(this.noFrame=!0,n=new te(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=n,this.trim=u,this.valid=!1,this.requiresUpdate=!1,this._uvs=Ee,this.uvMatrix=null,this.orig=r||n,this._rotate=Number(o||0),!0===o)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Ut(s.x,s.y):new Ut(0,0),this._updateID=0,this.textureCacheIds=[],i.valid?this.noFrame?i.valid&&this.onBaseTextureUpdated(i):this.frame=n:i.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&i.on("update",this.onBaseTextureUpdated,this)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var i=this.baseTexture.resource;i&&Ot[i.url]&&e.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===Ee&&(this._uvs=new _e),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i,n){void 0===i&&(i={}),void 0===n&&(n=b.STRICT_TEXTURE_CACHE);var r="string"==typeof t,u=null;r?u=t:(t._pixiId||(t._pixiId="pixiid_"+Mt()),u=t._pixiId);var o=Ot[u];if(r&&n&&!o)throw new Error('The cacheId "'+u+'" does not exist in TextureCache.');return o||(i.resolution||(i.resolution=Lt(t)),(o=new e(new le(t,i))).baseTexture.cacheId=u,le.addToCache(o.baseTexture,u),e.addToCache(o,u)),o},e.fromBuffer=function(t,i,n,r){return new e(le.fromBuffer(t,i,n,r))},e.fromLoader=function(t,i,n){var r=new oe(t);r.url=i;var u=new e(new le(r,{scaleMode:b.SCALE_MODE,resolution:Lt(i)}));return n||(n=i),le.addToCache(u.baseTexture,n),e.addToCache(u,n),n!==i&&(le.addToCache(u.baseTexture,i),e.addToCache(u,i)),u},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),Ot[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),Ot[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=Ot[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete Ot[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)Ot[t.textureCacheIds[n]]===t&&delete Ot[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},i.resolution.get=function(){return this.baseTexture.resolution},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,n=t.width,r=t.height,u=e+n>this.baseTexture.width,o=i+r>this.baseTexture.height;if(u||o){var s=u&&o?"and":"or",a="X: "+e+" + "+n+" = "+(e+n)+" > "+this.baseTexture.width,h="Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+a+" "+s+" "+h)}this.valid=n&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(A);function xe(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Fe.EMPTY=new Fe(new le),xe(Fe.EMPTY),xe(Fe.EMPTY.baseTexture),Fe.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new Fe(new le(new de(t)))}(),xe(Fe.WHITE),xe(Fe.WHITE.baseTexture);var be=function(t,e,i,n,r,u,o){void 0===i&&(i=!1),void 0===n&&(n=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=n,this.stride=r,this.start=u,this.instance=o};be.prototype.destroy=function(){this.buffer=null},be.from=function(t,e,i,n,r){return new be(t,e,i,n,r)};var we=0,Ae=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=we++,this.disposeRunner=new a("disposeBuffer",2)};function Te(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Ae.prototype.update=function(t){this.data=t||this.data,this._updateID++},Ae.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Ae.prototype.destroy=function(){this.dispose(),this.data=null},Ae.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Ae(t)};var Me={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Be={5126:4,5123:2,5121:1},Ie=0,Se={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Oe=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ie++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new a("disposeGeometry",2),this.refCount=0};Oe.prototype.addAttribute=function(t,e,i,n,r,u,o,s){if(void 0===n&&(n=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Ae(e));var a=t.split("|");if(a.length>1){for(var h=0;h<a.length;h++)this.addAttribute(a[h],e,i,n,r);return this}var D=this.buffers.indexOf(e);return-1===D&&(this.buffers.push(e),D=this.buffers.length-1),this.attributes[t]=new be(D,i,n,r,u,o,s),this.instanced=this.instanced||s,this},Oe.prototype.getAttribute=function(t){return this.attributes[t]},Oe.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},Oe.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ae(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},Oe.prototype.getIndex=function(){return this.indexBuffer},Oe.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],n=new Ae;for(t in this.attributes){var r=this.attributes[t],u=this.buffers[r.buffer];e.push(u.data),i.push(r.size*Be[r.type]/4),r.buffer=0}for(n.data=function(t,e){for(var i=0,n=0,r={},u=0;u<t.length;u++)n+=e[u],i+=t[u].length;for(var o=new ArrayBuffer(4*i),s=null,a=0,h=0;h<t.length;h++){var D=e[h],l=t[h],c=Te(l);r[c]||(r[c]=new Me[c](o)),s=r[c];for(var d=0;d<l.length;d++){s[(d/D|0)*n+a+d%D]=l[d]}a+=D}return new Float32Array(o)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},Oe.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},Oe.prototype.dispose=function(){this.disposeRunner.run(this,!1)},Oe.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},Oe.prototype.clone=function(){for(var t=new Oe,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ae(this.buffers[e].data.slice());for(var i in this.attributes){var n=this.attributes[i];t.attributes[i]=new be(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},Oe.merge=function(t){for(var e,i=new Oe,n=[],r=[],u=[],o=0;o<t.length;o++){e=t[o];for(var s=0;s<e.buffers.length;s++)r[s]=r[s]||0,r[s]+=e.buffers[s].data.length,u[s]=0}for(var a=0;a<e.buffers.length;a++)n[a]=new(Se[Te(e.buffers[a].data)])(r[a]),i.buffers[a]=new Ae(n[a]);for(var h=0;h<t.length;h++){e=t[h];for(var D=0;D<e.buffers.length;D++)n[D].set(e.buffers[D].data,u[D]),u[D]+=e.buffers[D].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var l=0,c=0,d=0,p=0,f=0;f<e.buffers.length;f++)if(e.buffers[f]!==e.indexBuffer){p=f;break}for(var g in e.attributes){var m=e.attributes[g];(0|m.buffer)===p&&(c+=m.size*Be[m.type]/4)}for(var C=0;C<t.length;C++){for(var y=t[C].indexBuffer.data,v=0;v<y.length;v++)i.indexBuffer.data[v+d]+=l;l+=e.buffers[p].data.length/c,d+=y.length}}return i};var Pe=0,Le=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Pe++,this.static=!!e};Le.prototype.update=function(){this.dirtyId++},Le.prototype.add=function(t,e,i){this.uniforms[t]=new Le(e,i)},Le.from=function(t,e){return new Le(t,e)};var Re=function(t){this.renderer=t};function Ne(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),n}function ke(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return Ue(2*e);case"bvec3":return Ue(3*e);case"bvec4":return Ue(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function Ue(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}Re.prototype.flush=function(){},Re.prototype.destroy=function(){this.renderer=null},Re.prototype.start=function(){},Re.prototype.stop=function(){this.flush()},Re.prototype.render=function(t){},b.PREFER_ENV=x.any?q.WEBGL:q.WEBGL2,b.STRICT_TEXTURE_CACHE=!1;var Xe,je={},He=je;function Ge(){if(He===je||He&&He.isContextLost()){var t,e=document.createElement("canvas");b.PREFER_ENV>=q.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),He=t}return He}function Ye(t,e,i){if("precision"!==t.substring(0,9)){var n=e;return e===ot.HIGH&&i!==ot.HIGH&&(n=ot.MEDIUM),"precision "+n+" float;\n"+t}return i!==ot.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var Ve={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ze(t){return Ve[t]}var We=null,qe={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function Ke(t,e){if(!We){var i=Object.keys(qe);We={};for(var n=0;n<i.length;++n){var r=i[n];We[t[r]]=qe[r]}}return We[e]}var $e=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ze(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var Qe=0,Je={},ti=function t(e,i,n){void 0===n&&(n="pixi-shader"),this.id=Qe++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),Je[n]?(Je[n]++,n+="-"+Je[n]):Je[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=Ye(this.vertexSrc,b.PRECISION_VERTEX,ot.HIGH),this.fragmentSrc=Ye(this.fragmentSrc,b.PRECISION_FRAGMENT,function(){if(!Xe){Xe=ot.MEDIUM;var t=Ge();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Xe=e.precision?ot.HIGH:ot.MEDIUM}}return Xe}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null},ii={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};ti.prototype.extractData=function(t,e){var i=Ge();if(i){var n=function(t,e,i,n){var r=Ne(t,t.VERTEX_SHADER,e),u=Ne(t,t.FRAGMENT_SHADER,i),o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,u),n)for(var s in n)t.bindAttribLocation(o,n[s],s);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||(console.warn(e),console.error(t.getShaderInfoLog(r))),t.getShaderParameter(u,t.COMPILE_STATUS)||(console.warn(i),console.error(t.getShaderInfoLog(u))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(o,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(o)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(o)),t.deleteProgram(o),o=null),t.deleteShader(r),t.deleteShader(u),o}(i,t,e);this.attributeData=this.getAttributeData(n,i),this.uniformData=this.getUniformData(n,i),i.deleteProgram(n)}else this.uniformData={},this.attributeData={}},ti.prototype.getAttributeData=function(t,e){for(var i={},n=[],r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),u=0;u<r;u++){var o=e.getActiveAttrib(t,u),s=Ke(e,o.type),a={type:s,name:o.name,size:ze(s),location:0};i[o.name]=a,n.push(a)}n.sort((function(t,e){return t.name>e.name?1:-1}));for(var h=0;h<n.length;h++)n[h].location=h;return i},ti.prototype.getUniformData=function(t,e){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var u=e.getActiveUniform(t,r),o=u.name.replace(/\[.*?\]/,""),s=u.name.match(/\[.*?\]/,""),a=Ke(e,u.type);i[o]={type:a,size:u.size,isArray:s,value:ke(a,u.size)}}return i},ii.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},ii.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},ti.from=function(t,e,i){var n=t+e,r=St[n];return r||(St[n]=r=new ti(t,e,i)),r},Object.defineProperties(ti,ii);var ni=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Le?e:new Le(e):new Le({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},ri={uniforms:{configurable:!0}};ni.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var n=e.uniforms[i];if(n.group&&this.checkUniformExists(t,n))return!0}return!1},ni.prototype.destroy=function(){this.uniformGroup=null},ri.uniforms.get=function(){return this.uniformGroup.uniforms},ni.from=function(t,e,i){var n=ti.from(t,e);return new ni(n,i)},Object.defineProperties(ni.prototype,ri);var ui=function(){this.data=0,this.blendMode=$.NORMAL,this.polygonOffset=0,this.blend=!0},oi={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};oi.blend.get=function(){return!!(1&this.data)},oi.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},oi.offsets.get=function(){return!!(2&this.data)},oi.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},oi.culling.get=function(){return!!(4&this.data)},oi.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},oi.depthTest.get=function(){return!!(8&this.data)},oi.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},oi.clockwiseFrontFace.get=function(){return!!(16&this.data)},oi.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},oi.blendMode.get=function(){return this._blendMode},oi.blendMode.set=function(t){this.blend=t!==$.NONE,this._blendMode=t},oi.polygonOffset.get=function(){return this._polygonOffset},oi.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},ui.for2d=function(){var t=new ui;return t.depthTest=!1,t.blend=!0,t},Object.defineProperties(ui.prototype,oi);var si=function(t){function e(i,n,r){var u=ti.from(i||e.defaultVertexSrc,n||e.defaultFragmentSrc);t.call(this,u,r),this.padding=0,this.resolution=b.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new ui}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},n={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n,r)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},n.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},n.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,n),e}(ni);si.SOURCE_KEY_MAP={};var ai=new Yt,hi=function(t,e){this._texture=t,this.mapCoord=new Yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._updateID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1},Di={texture:{configurable:!0}};Di.texture.get=function(){return this._texture},Di.texture.set=function(t){this._texture=t,this._updateID=-1},hi.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],u=t[n+1];e[n]=r*i.a+u*i.c+i.tx,e[n+1]=r*i.b+u*i.d+i.ty}return e},hi.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._updateID===e._updateID)return!1;this._updateID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(ai.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(ai));var u=e.baseTexture,o=this.uClampFrame,s=this.clampMargin/u.resolution,a=this.clampOffset;return o[0]=(e._frame.x+s+a)/u.width,o[1]=(e._frame.y+s+a)/u.height,o[2]=(e._frame.x+e._frame.width-s+a)/u.width,o[3]=(e._frame.y+e._frame.height-s+a)/u.height,this.uClampOffset[0]=a/u.realWidth,this.uClampOffset[1]=a/u.realHeight,this.isSimple=e._frame.width===u.width&&e._frame.height===u.height&&0===e.rotate,!0},Object.defineProperties(hi.prototype,Di);new te,new Yt;var li=function(){this.texArray=null,this.blend=0,this.type=Z.TRIANGLES,this.start=0,this.size=0,this.data=null},ci=function(){this.elements=[],this.ids=[],this.count=0};ci.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0};var di=function(t){this.rawBinaryData=new ArrayBuffer(t),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)},pi={int8View:{configurable:!0},uint8View:{configurable:!0},int16View:{configurable:!0},uint16View:{configurable:!0},int32View:{configurable:!0}};pi.int8View.get=function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},pi.uint8View.get=function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},pi.int16View.get=function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},pi.uint16View.get=function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},pi.int32View.get=function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},di.prototype.view=function(t){return this[t+"View"]},di.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},di.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},Object.defineProperties(di.prototype,pi);var fi=function(t){function e(e){t.call(this,e),this.shaderGenerator=null,this.geometryClass=null,this.vertexSize=null,this.state=ui.for2d(),this.size=4*b.SPRITE_BATCH_SIZE,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;b.PREFER_ENV===q.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var n=$e.replace(/%forloop%/gi,Ze(t));if(e.shaderSource(i,n),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,i=e._textureArrayPool,n=this.size/4,r=Math.floor(n/this.MAX_TEXTURES)+1;t.length<n;)t.push(new li);for(;i.length<r;)i.push(new ci);for(var u=0;u<this.MAX_TEXTURES;u++)this._tempBoundTextures[u]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,i=this.MAX_TEXTURES,n=e._textureArrayPool,r=this.renderer.batch,u=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++le._globalBatch,a=0,h=n[0],D=0;r.copyBoundTextures(u,i);for(var l=0;l<this._bufferSize;++l){var c=t[l];t[l]=null,c._batchEnabled!==s&&(h.count>=i&&(r.boundArray(h,u,s,i),this.buildDrawCalls(h,D,l),D=l,h=n[++a],++s),c._batchEnabled=s,c.touched=o,h.elements[h.count++]=c)}h.count>0&&(r.boundArray(h,u,s,i),this.buildDrawCalls(h,D,this._bufferSize),++a,++s);for(var d=0;d<u.length;d++)u[d]=null;le._globalBatch=s},e.prototype.buildDrawCalls=function(t,i,n){var r=this._bufferedElements,u=this._attributeBuffer,o=this._indexBuffer,s=this.vertexSize,a=e._drawCallPool,h=this._dcIndex,D=this._aIndex,l=this._iIndex,c=a[h];c.start=this._iIndex,c.texArray=t;for(var d=i;d<n;++d){var p=r[d],f=p._texture.baseTexture,g=xt[f.alphaMode?1:0][p.blendMode];r[d]=null,i<d&&c.blend!==g&&(c.size=l-c.start,i=d,(c=a[++h]).texArray=t,c.start=l),this.packInterleavedGeometry(p,u,o,D,l),D+=p.vertexData.length/2*s,l+=p.indices.length,c.blend=g}i<n&&(c.size=l-c.start,++h),this._dcIndex=h,this._aIndex=D,this._iIndex=l},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,i=0;i<t.count;i++)e.bind(t.elements[i],t.ids[i]),t.elements[i]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,i=this._indexBuffer;b.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,i=this.renderer,n=i.gl,r=i.state,u=e._drawCallPool,o=null,s=0;s<t;s++){var a=u[s],h=a.texArray,D=a.type,l=a.size,c=a.start,d=a.blend;o!==h&&(o=h,this.bindAndClearTexArray(h)),this.state.blendMode=d,r.set(this.state),n.drawElements(D,l,n.UNSIGNED_SHORT,2*c)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),b.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=bt(Math.ceil(t/8)),i=At(e),n=8*e;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var r=this._aBuffers[n];return r||(this._aBuffers[n]=r=new di(n*this.vertexSize*4)),r},e.prototype.getIndexBuffer=function(t){var e=bt(Math.ceil(t/12)),i=At(e),n=12*e;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var r=this._iBuffers[i];return r||(this._iBuffers[i]=r=new Uint16Array(n)),r},e.prototype.packInterleavedGeometry=function(t,e,i,n,r){for(var u=e.uint32View,o=e.float32View,s=n/this.vertexSize,a=t.uvs,h=t.indices,D=t.vertexData,l=t._texture.baseTexture._batchLocation,c=Math.min(t.worldAlpha,1),d=c<1&&t._texture.baseTexture.alphaMode?function(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,n=t>>8&255,r=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((n=n*e+.5|0)<<8)+(r=r*e+.5|0)}(t._tintRGB,c):t._tintRGB+(255*c<<24),p=0;p<D.length;p+=2)o[n++]=D[p],o[n++]=D[p+1],o[n++]=a[p],o[n++]=a[p+1],u[n++]=d,o[n++]=l;for(var f=0;f<h.length;f++)i[r++]=s+h[f]},e}(Re);fi._drawCallPool=[],fi._textureArrayPool=[];var gi=function(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')};gi.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=Le.from({uSamplers:e},!0);var n=this.fragTemplate;n=(n=n.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new ti(this.vertexSrc,n)}var r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Yt,default:this.defaultGroupCache[t]};return new ni(this.programCache[t],r)},gi.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"};var mi=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this._buffer=new Ae(null,e,!1),this._indexBuffer=new Ae(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,tt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,tt.FLOAT).addAttribute("aColor",this._buffer,4,!0,tt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,tt.FLOAT).addIndex(this._indexBuffer)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Oe),Ci="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",yi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",vi=function(){},_i={defaultVertexSrc:{configurable:!0},defaultFragmentTemplate:{configurable:!0}};vi.create=function(t){var e=Object.assign({vertex:Ci,fragment:yi,geometryClass:mi,vertexSize:6},t),i=e.vertex,n=e.fragment,r=e.vertexSize,u=e.geometryClass;return function(t){function e(e){t.call(this,e),this.shaderGenerator=new gi(i,n),this.geometryClass=u,this.vertexSize=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(fi)},_i.defaultVertexSrc.get=function(){return Ci},_i.defaultFragmentTemplate.get=function(){return yi},Object.defineProperties(vi,_i);vi.create();
/*!
     * @pixi/filter-kawase-blur - v3.1.0
     * Compiled Wed, 11 Mar 2020 20:38:18 UTC
     *
     * @pixi/filter-kawase-blur is licensed under the MIT License.
     * http://www.opensource.org/licenses/mit-license
     */var Ei,Fi,xi=function(t){function e(e,i,n){void 0===e&&(e=4),void 0===i&&(i=3),void 0===n&&(n=!1),t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",n?"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}\n":"\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform vec2 uOffset;\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n\n    // Sample top left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample top right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));\n\n    // Sample bottom right pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Sample bottom left pixel\n    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));\n\n    // Average\n    color *= 0.25;\n\n    gl_FragColor = color;\n}"),this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new Ut,this.pixelSize=1,this._clamp=n,this._kernels=null,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={kernels:{configurable:!0},clamp:{configurable:!0},pixelSize:{configurable:!0},quality:{configurable:!0},blur:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){var r,u=this.pixelSize.x/e._frame.width,o=this.pixelSize.y/e._frame.height;if(1===this._quality||0===this._blur)r=this._kernels[0]+.5,this.uniforms.uOffset[0]=r*u,this.uniforms.uOffset[1]=r*o,t.applyFilter(this,e,i,n);else{for(var s,a=t.getFilterTexture(),h=e,D=a,l=this._quality-1,c=0;c<l;c++)r=this._kernels[c]+.5,this.uniforms.uOffset[0]=r*u,this.uniforms.uOffset[1]=r*o,t.applyFilter(this,h,D,1),s=h,h=D,D=s;r=this._kernels[l]+.5,this.uniforms.uOffset[0]=r*u,this.uniforms.uOffset[1]=r*o,t.applyFilter(this,h,i,n),t.returnFilterTexture(a)}},e.prototype._generateKernels=function(){var t=this._blur,e=this._quality,i=[t];if(t>0)for(var n=t,r=t/e,u=1;u<e;u++)n-=r,i.push(n);this._kernels=i},i.kernels.get=function(){return this._kernels},i.kernels.set=function(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max.apply(Math,t)):(this._kernels=[0],this._quality=1)},i.clamp.get=function(){return this._clamp},i.pixelSize.set=function(t){"number"==typeof t?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof Ut?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)},i.pixelSize.get=function(){return this._pixelSize},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()},i.blur.get=function(){return this._blur},i.blur.set=function(t){this._blur=t,this._generateKernels()},Object.defineProperties(e.prototype,i),e}(si),bi="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",wi="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform vec3 color;\n\nuniform vec2 shift;\nuniform vec4 inputSize;\n\nvoid main(void){\n    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);\n\n    // Premultiply alpha\n    sample.rgb = color.rgb * sample.a;\n\n    // alpha user alpha\n    sample *= alpha;\n\n    gl_FragColor = sample;\n}",Ai=function(t){function e(e){e&&e.constructor!==Object&&(console.warn("DropShadowFilter now uses options instead of (rotation, distance, blur, color, alpha)"),e={rotation:e},void 0!==arguments[1]&&(e.distance=arguments[1]),void 0!==arguments[2]&&(e.blur=arguments[2]),void 0!==arguments[3]&&(e.color=arguments[3]),void 0!==arguments[4]&&(e.alpha=arguments[4])),e=Object.assign({rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:b.RESOLUTION},e),t.call(this);var i=e.kernels,n=e.blur,r=e.quality,u=e.pixelSize,o=e.resolution;this._tintFilter=new t(bi,wi),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new Ut,this._tintFilter.resolution=o,this._blurFilter=i?new xi(i):new xi(n,r),this.pixelSize=u,this.resolution=o;var s=e.shadowOnly,a=e.rotation,h=e.distance,D=e.alpha,l=e.color;this.shadowOnly=s,this.rotation=a,this.distance=h,this.alpha=D,this.color=l,this._updatePadding()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={resolution:{configurable:!0},distance:{configurable:!0},rotation:{configurable:!0},alpha:{configurable:!0},color:{configurable:!0},kernels:{configurable:!0},blur:{configurable:!0},quality:{configurable:!0},pixelSize:{configurable:!0}};return e.prototype.apply=function(t,e,i,n){var r=t.getFilterTexture();this._tintFilter.apply(t,e,r,1),this._blurFilter.apply(t,r,i,n),!0!==this.shadowOnly&&t.applyFilter(this,e,i,0),t.returnFilterTexture(r)},e.prototype._updatePadding=function(){this.padding=this.distance+2*this.blur},e.prototype._updateShift=function(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))},i.resolution.get=function(){return this._resolution},i.resolution.set=function(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)},i.distance.get=function(){return this._distance},i.distance.set=function(t){this._distance=t,this._updatePadding(),this._updateShift()},i.rotation.get=function(){return this.angle/Gt},i.rotation.set=function(t){this.angle=t*Gt,this._updateShift()},i.alpha.get=function(){return this._tintFilter.uniforms.alpha},i.alpha.set=function(t){this._tintFilter.uniforms.alpha=t},i.color.get=function(){return(255*(t=this._tintFilter.uniforms.color)[0]<<16)+(255*t[1]<<8)+(255*t[2]|0);var t},i.color.set=function(t){var e,i;e=t,(i=(i=this._tintFilter.uniforms.color)||[])[0]=(e>>16&255)/255,i[1]=(e>>8&255)/255,i[2]=(255&e)/255},i.kernels.get=function(){return this._blurFilter.kernels},i.kernels.set=function(t){this._blurFilter.kernels=t},i.blur.get=function(){return this._blurFilter.blur},i.blur.set=function(t){this._blurFilter.blur=t,this._updatePadding()},i.quality.get=function(){return this._blurFilter.quality},i.quality.set=function(t){this._blurFilter.quality=t},i.pixelSize.get=function(){return this._blurFilter.pixelSize},i.pixelSize.set=function(t){this._blurFilter.pixelSize=t},Object.defineProperties(e.prototype,i),e}(si),Ti=function(){function t(t){this.target=t,this.isEnabled=!1}return t.prototype.getTarget=function(){return this.target},t}(),Mi=function(t){function i(i,n,r,u){var o=t.call(this,i)||this;return o.startEvent=function(t,e,i){if(void 0===t&&(t=o._includeHover),void 0===e&&(e=o._rightMouseButton),void 0===i&&(i=o._doubleClick),!o.isEnabled){o._includeHover=t,o.rightMouseButton=e,o._doubleClick=i;var n=o.target;n.insetContainer.on(o.evMouseDown,o.onMouseDownImpl),o._rightMouseButton||n.insetContainer.on("touchstart",o.onMouseDownImpl),o._includeHover&&(n.insetContainer.on("mouseover",o.onMouseOverImpl),n.insetContainer.on("mouseout",o.onMouseOutImpl)),o.isEnabled=!0}},o.stopEvent=function(){if(o.isEnabled){var t=o.target;o.bound&&(t.insetContainer.removeListener(o.evMouseUp,o.onMouseUpImpl),t.insetContainer.removeListener(o.evMouseUpOutside,o.onMouseUpOutsideImpl),o._rightMouseButton||(t.insetContainer.removeListener("touchend",o.onMouseUpImpl),t.insetContainer.removeListener("touchendoutside",o.onMouseUpOutsideImpl)),o.bound=!1),t.insetContainer.removeListener(o.evMouseDown,o.onMouseDownImpl),o._rightMouseButton||t.insetContainer.removeListener("touchstart",o.onMouseDownImpl),o._includeHover&&(t.insetContainer.removeListener("mouseover",o.onMouseOverImpl),t.insetContainer.removeListener("mouseout",o.onMouseOutImpl),t.insetContainer.removeListener("mousemove",o.onMouseMoveImpl),t.insetContainer.removeListener("touchmove",o.onMouseMoveImpl)),o.isEnabled=!1}},o.onMouseDownImpl=function(t){var e=o,i=e.target,n=e.evMouseUp,r=e.onMouseUpImpl,u=e.evMouseUpOutside,s=e.onMouseUpOutsideImpl,a=e._rightMouseButton;if(o.mouse.copyFrom(t.data.global),o.id=t.data.identifier,o.onPress.call(o.target,t,!0),o.bound||(i.insetContainer.on(n,r),i.insetContainer.on(u,s),a||(i.insetContainer.on("touchend",r),i.insetContainer.on("touchendoutside",s)),o.bound=!0),o._doubleClick){var h=performance.now();h-o.time<210?o.onClick.call(i,t):o.time=h}t.data.originalEvent.preventDefault()},o.onMouseUpCommonImpl=function(t){var e=o,i=e.target,n=e.evMouseUp,r=e.onMouseUpImpl,u=e.evMouseUpOutside,s=e.onMouseUpOutsideImpl;t.data.identifier===o.id&&(o.offset.set(t.data.global.x-o.mouse.x,t.data.global.y-o.mouse.y),o.bound&&(i.insetContainer.removeListener(n,r),i.insetContainer.removeListener(u,s),o._rightMouseButton||(i.insetContainer.removeListener("touchend",r),i.insetContainer.removeListener("touchendoutside",s)),o.bound=!1),o.onPress.call(i,t,!1))},o.onMouseUpImpl=function(t){t.data.identifier===o.id&&(o.onMouseUpCommonImpl(t),o.target.dragThreshold&&(o.movementX=Math.abs(o.offset.x),o.movementY=Math.abs(o.offset.y),Math.max(o.movementX,o.movementY)>o.target.dragThreshold)||o._doubleClick||o.onClick.call(o.target,t))},o.onMouseUpOutsideImpl=function(t){t.data.identifier===o.id&&o.onMouseUpCommonImpl(t)},o.onMouseOverImpl=function(t){o.ishover||(o.ishover=!0,o.target.insetContainer.on("mousemove",o.onMouseMoveImpl),o.target.insetContainer.on("touchmove",o.onMouseMoveImpl),o.onHover.call(o.target,t,!0))},o.onMouseOutImpl=function(t){o.ishover&&(o.ishover=!1,o.target.insetContainer.removeListener("mousemove",o.onMouseMoveImpl),o.target.insetContainer.removeListener("touchmove",o.onMouseMoveImpl),o.onHover.call(o.target,t,!1))},o.onMouseMoveImpl=function(t){o.onMove.call(o.target,t)},o.bound=!1,o.id=0,o.ishover=!1,o.mouse=new e.Point,o.offset=new e.Point,o.movementX=0,o.movementY=0,o._includeHover=void 0===n||n,o.rightMouseButton=void 0!==r&&r,o._doubleClick=void 0!==u&&u,i.interactive=!0,o.time=0,o.startEvent(),o.onHover=function(){return null},o.onPress=function(){return null},o.onClick=function(){return null},o.onMove=function(){return null},o}return n(i,t),Object.defineProperty(i.prototype,"rightMouseButton",{get:function(){return this._rightMouseButton},set:function(t){this._rightMouseButton=t,this.evMouseDown=this._rightMouseButton?"rightdown":"mousedown",this.evMouseUp=this._rightMouseButton?"rightup":"mouseup",this.evMouseUpOutside=this._rightMouseButton?"rightupoutside":"mouseupoutside"},enumerable:!0,configurable:!0}),i}(Ti),Bi=function(t){function i(i){var n=t.call(this,i)||this;return n.onDragStartImpl=function(t){var e=n.target;n.id=t.data.identifier,n.onPress(t,!0),n.isBound||(n.dragStart.copyFrom(t.data.global),e.stage.on("mousemove",n.onDragMoveImpl),e.stage.on("touchmove",n.onDragMoveImpl),e.stage.on("mouseup",n.onDragEndImpl),e.stage.on("mouseupoutside",n.onDragEndImpl),e.stage.on("touchend",n.onDragEndImpl),e.stage.on("touchendoutside",n.onDragEndImpl),e.stage.on("touchcancel",n.onDragEndImpl),n.isBound=!0),t.data.originalEvent.preventDefault()},n.onDragMoveImpl=function(t){if(t.data.identifier===n.id){var e=n,i=e.lastCursor,r=e.dragOffset,u=e.dragStart,o=e.target;if(n.lastCursor.copyFrom(t.data.global),n.dragOffset.set(i.x-u.x,i.y-u.y),!n.isDragging){if(n.movementX=Math.abs(r.x),n.movementY=Math.abs(r.y),0===n.movementX&&0===n.movementY||Math.max(n.movementX,n.movementY)<o.dragThreshold)return;if(null!==o.dragRestrictAxis&&(n.cancel=!1,("x"===o.dragRestrictAxis&&n.movementY>n.movementX||"y"===o.dragRestrictAxis&&n.movementY<=n.movementX)&&(n.cancel=!0),n.cancel))return void n.onDragEndImpl(t);n.onDragStart(t),n.isDragging=!0}n.onDragMove(t,r)}},n.onDragEndImpl=function(t){if(t.data.identifier===n.id){var e=n.target;n.isBound&&(e.stage.removeListener("mousemove",n.onDragMoveImpl),e.stage.removeListener("touchmove",n.onDragMoveImpl),e.stage.removeListener("mouseup",n.onDragEndImpl),e.stage.removeListener("mouseupoutside",n.onDragEndImpl),e.stage.removeListener("touchend",n.onDragEndImpl),e.stage.removeListener("touchendoutside",n.onDragEndImpl),e.stage.removeListener("touchcancel",n.onDragEndImpl),n.isDragging=!1,n.isBound=!1,n.onDragEnd(t),n.onPress(t,!1))}},n.isBound=!1,n.isDragging=!1,n.id=0,n.dragStart=new e.Point,n.dragOffset=new e.Point,n.lastCursor=new e.Point,n.movementX=0,n.movementY=0,n.cancel=!1,n.target.interactive=!0,n.onPress=function(){return null},n.onDragStart=function(){return null},n.onDragMove=function(){return null},n.onDragEnd=function(){return null},n.startEvent(),n}return n(i,t),i.prototype.startEvent=function(){if(!this.isEnabled){var t=this.target;t.insetContainer.on("mousedown",this.onDragStartImpl),t.insetContainer.on("touchstart",this.onDragStartImpl),this.isEnabled=!0}},i.prototype.stopEvent=function(){if(this.isEnabled){var t=this.target;this.isBound&&(t.stage.removeListener("mousemove",this.onDragMoveImpl),t.stage.removeListener("touchmove",this.onDragMoveImpl),t.stage.removeListener("mouseup",this.onDragEndImpl),t.stage.removeListener("mouseupoutside",this.onDragEndImpl),t.stage.removeListener("touchend",this.onDragEndImpl),t.stage.removeListener("touchendoutside",this.onDragEndImpl),this.isBound=!1),t.insetContainer.removeListener("mousedown",this.onDragStartImpl),t.insetContainer.removeListener("touchstart",this.onDragStartImpl),this.isEnabled=!1}},i}(Ti),Ii=function(){function t(e){this.target=e;for(var i=function(e){Object.defineProperty(n,e,{get:function(){return this["_"+e]||(this["_"+e]=new t.MANAGER_MAP[e](this.target)),this["_"+e]}})},n=this,r=0,u=Object.keys(t.MANAGER_MAP);r<u.length;r++){i(u[r])}}return t.MANAGER_MAP={click:Mi,dnd:Bi},t}(),Si=function(i){function r(){var t=i.call(this)||this;return t.insetContainer=new e.Container,t.contentContainer=t.insetContainer.addChild(new e.Container),t.widgetChildren=[],t.stage=null,t.layoutMeasure=new s,t.initialized=!1,t.dragInitialized=!1,t.dropInitialized=!1,t.dirty=!0,t._oldWidth=-1,t._oldHeight=-1,t.pixelPerfect=!0,t._paddingLeft=0,t._paddingTop=0,t._paddingRight=0,t._paddingBottom=0,t._elevation=0,t.tint=0,t.blendMode=e.BLEND_MODES.NORMAL,t.draggable=!1,t.droppable=!1,t}return n(r,i),Object.defineProperty(r.prototype,"measuredWidth",{get:function(){return this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"measuredHeight",{get:function(){return this._measuredHeight},enumerable:!0,configurable:!0}),r.prototype.getMeasuredWidth=function(){return this._measuredWidth},r.prototype.getMeasuredHeight=function(){return this._measuredHeight},r.prototype.onMeasure=function(e,i,n,r){var u=this.contentContainer.width+this.paddingHorizontal,o=this.contentContainer.height+this.paddingVertical;switch(n){case t.MeasureMode.EXACTLY:this._measuredWidth=e;break;case t.MeasureMode.UNBOUNDED:this._measuredWidth=u;break;case t.MeasureMode.AT_MOST:this._measuredWidth=Math.min(e,u)}switch(r){case t.MeasureMode.EXACTLY:this._measuredHeight=i;break;case t.MeasureMode.UNBOUNDED:this._measuredHeight=o;break;case t.MeasureMode.AT_MOST:this._measuredHeight=Math.min(i,o)}},r.prototype.measure=function(t,e,i,n){this.onMeasure(t,e,i,n)},r.prototype.layout=function(t,e,i,n,r){void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e),this.layoutMeasure.left=t,this.layoutMeasure.top=e,this.layoutMeasure.right=i,this.layoutMeasure.bottom=n,this._width=i-t,this._height=n-e,this.background&&(this.background.x=0,this.background.y=0,this.background.width=i-t,this.background.height=n-e),this.insetContainer.x=t,this.insetContainer.y=e,this.contentContainer.x=this._paddingLeft,this.contentContainer.y=this._paddingTop},r.prototype.setLayoutOptions=function(t){return this.layoutOptions=t,this},Object.defineProperty(r.prototype,"eventBroker",{get:function(){return this._eventBroker||(this._eventBroker=new Ii(this)),this._eventBroker},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingHorizontal",{get:function(){return this._paddingLeft+this._paddingRight},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingVertical",{get:function(){return this._paddingTop+this._paddingBottom},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"interactive",{get:function(){return this.insetContainer.interactive},set:function(t){this.insetContainer.interactive=!0,this.contentContainer.interactive=!0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.insetContainer.alpha},set:function(t){this.insetContainer.alpha=t},enumerable:!0,configurable:!0}),r.prototype.setPadding=function(t,e,i,n){return void 0===e&&(e=t),void 0===i&&(i=t),void 0===n&&(n=e),this._paddingLeft=t,this._paddingTop=e,this._paddingRight=i,this._paddingBottom=n,this.dirty=!0,this},r.prototype.getBackground=function(){return this.background},r.prototype.setBackground=function(t){return this.background||this.insetContainer.removeChild(this.background),"string"==typeof t&&(t=e.utils.string2hex(t)),"number"==typeof t&&(t=(new e.Graphics).beginFill(t).drawRect(0,0,1,1).endFill()),this.background=t,t&&this.insetContainer.addChildAt(t,0),this},r.prototype.getBackgroundAlpha=function(){return this.background?this.background.alpha:1},r.prototype.setBackgroundAlpha=function(t){return this.background||this.setBackground(16777215),this.background.alpha=t,this},r.prototype.getElevation=function(){return this._elevation},r.prototype.setElevation=function(t){if(this._elevation=t,0===t&&this._dropShadow){var e=this.insetContainer.filters.indexOf(this._dropShadow);e>0&&this.insetContainer.filters.splice(e,1)}else t>0&&(this._dropShadow||(this.insetContainer.filters||(this.insetContainer.filters=[]),this._dropShadow=new Ai({distance:t}),this.insetContainer.filters.push(this._dropShadow)),this._dropShadow.distance=t);return this},r.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.contentContainer.addChild(t.insetContainer),this.widgetChildren.push(t);return this},r.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{var n=this.widgetChildren.indexOf(t);if(-1!==n){t.parent,t.container.parent;t.insetContainer.parent.removeChild(t.insetContainer),this.widgetChildren.splice(n,1),t.parent=null}}},r.prototype.makeDraggable=function(){return this.draggable=!0,this.initialized&&this.initDraggable(),this},r.prototype.clearDraggable=function(){this.dragInitialized&&(this.dragInitialized=!1,this.eventBroker.dnd.stopEvent())},r.prototype.initialize=function(){this.initialized||(this.draggable&&this.initDraggable(),this.droppable&&this.initDroppable(),this.initialized=!0)},r.prototype.initDraggable=function(){var t=this;if(!this.dragInitialized){this.dragInitialized=!0;var i=new e.Point,n=new e.Point,r=this.eventBroker.dnd,o=this.insetContainer;r.onDragStart=function(e){var n=u.add(t,e);!t.isDragging&&n&&(t.isDragging=!0,o.interactive=!1,i.copyFrom(o.position),t.emit("draggablestart",e))},r.onDragMove=function(e,r){t.isDragging&&(n.set(i.x+r.x,i.y+r.y),o.x=n.x,o.y=n.y,t.emit("draggablemove",e))},r.onDragEnd=function(e){t.isDragging&&(t.isDragging=!1,u.getItem(t),setTimeout((function(){t.insetContainer.interactive=!0,t.insetContainer.position.copyFrom(i),t.emit("draggableend",e)}),0))}}},r.prototype.makeDroppable=function(){return this.droppable=!0,this.initialized&&this.initDroppable(),this},r.prototype.clearDroppable=function(){this.dropInitialized&&(this.dropInitialized=!1,this.contentContainer.removeListener("mouseup",this.onDrop),this.contentContainer.removeListener("touchend",this.onDrop))},r.prototype.initDroppable=function(){var t=this;if(!this.dropInitialized){this.dropInitialized=!0;var e=this.contentContainer;this.contentContainer.interactive=!0,this.onDrop=function(e){var i=u.getEventItem(e,t.dropGroup);if(i&&i.isDragging){i.isDragging=!1,i.insetContainer.interactive=!0;var n=null!==t.droppableReparent?t.droppableReparent:self;n.container.toLocal(i.container.position,i.container.parent,i),n.container!=i.container.parent&&n.addChild(i)}},e.on("mouseup",this.onDrop),e.on("touchend",this.onDrop)}},r}(e.utils.EventEmitter),Oi={},Pi={},Li={},Ri={registrer:function(t,e,i){var n=i||"default",r=Oi[n];r||(r=Oi[n]=[]),-1===r.indexOf(t)&&(t._tabIndex=void 0!==e?e:-1,t._tabGroup=r,r.push(t),r.sort((function(t,e){return t._tabIndex<e._tabIndex?-1:t._tabIndex>e._tabIndex?1:0})))},set:function(t){this.blur(),Ei=t},clear:function(){Ei=void 0},blur:function(){Ei&&"function"==typeof Ei.blur&&Ei.blur()},fireTab:function(){if(Ei){var t=Ei._tabGroup.indexOf(Ei)+1;t>=Ei._tabGroup.length&&(t=0),Ei._tabGroup[t].focus()}},fireNext:function(){if(Ei){var t=Ei._tabGroup.indexOf(Ei)+1;t>=Ei._tabGroup.length&&(t=Ei._tabGroup.length-1),Ei._tabGroup[t].focus()}},firePrev:function(){if(Ei){var t=Ei._tabGroup.indexOf(Ei)-1;t<0&&(t=0),Ei._tabGroup[t].focus()}},registrerCheckGroup:function(t){var e=t.checkGroup,i=Pi[e];i||(i=Pi[e]={}),i[t.value]=t,t.checked&&(Li[e]=t.value)},updateCheckGroupSelected:function(t){var e=Pi[t.checkGroup];for(var i in e){var n=e[i];n!==t&&(n.checked=!1)}Li[t.checkGroup]=t.value},getCheckGroupSelectedValue:function(t){return Li[t]?Li[t]:""},setCheckGroupSelectedValue:function(t,e){var i=Pi[t];if(i){var n=i[e];n&&(n.checked=!0)}}};(Fi=t.ALIGN||(t.ALIGN={}))[Fi.LEFT=0]="LEFT",Fi[Fi.TOP=0]="TOP",Fi[Fi.MIDDLE=4081]="MIDDLE",Fi[Fi.CENTER=4081]="CENTER",Fi[Fi.RIGHT=1048561]="RIGHT",Fi[Fi.BOTTOM=1048561]="BOTTOM",Fi[Fi.NONE=4294967295]="NONE";var Ni=function(){function t(e,i){void 0===e&&(e=t.WRAP_CONTENT),void 0===i&&(i=t.WRAP_CONTENT),this.width=e,this.height=i,this.markers={}}return Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this._marginLeft||0},set:function(t){this._marginLeft=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this._marginTop||0},set:function(t){this._marginTop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this._marginRight||0},set:function(t){this._marginRight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this._marginBottom||0},set:function(t){this._marginBottom=t},enumerable:!0,configurable:!0}),t.prototype.setMargin=function(t,e,i,n){this._marginLeft=t,this._marginTop=e,this._marginRight=i,this._marginBottom=n},t.FILL_PARENT=4294967281,t.WRAP_CONTENT=4294967282,t.MAX_DIMEN=4294967280,t.DEFAULT=new t,t}(),ki=function(e){function i(i,n,r,u,o,s){void 0===o&&(o=t.ALIGN.NONE),void 0===s&&(s=t.ALIGN.NONE);var a=e.call(this,Ni.WRAP_CONTENT,Ni.WRAP_CONTENT)||this;return a.anchorLeft=i,a.anchorTop=n,a.anchorBottom=u,a.anchorRight=r,a.horizontalAlign=o,a.verticalAlign=s,a}return n(i,e),i}(Ni),Ui=function(t){function i(e,n,r,u,o){void 0===r&&(r=0),void 0===u&&(u=0);var s=t.call(this,e,n)||this;return s.x=r,s.y=u,s.anchor=o||i.DEFAULT_ANCHOR.clone(),s}return n(i,t),i.DEFAULT_ANCHOR=new e.Point(0,0),i.CENTER_ANCHOR=new e.Point(.5,.5),i}(Ni),Xi=function(){function e(){}return e.prototype.onAttach=function(t){this.host=t},e.prototype.onDetach=function(){this.host=null},e.prototype.onMeasure=function(e,i,n,r){this._measuredWidth=e,this._measuredHeight=i;for(var u=this.host.widgetChildren,o=0,s=u.length;o<s;o++){var a=u[o],h=a.layoutOptions||Ni.DEFAULT,D=this.getChildMeasureMode(h.width,n),l=this.getChildMeasureMode(h.height,r),c=Math.abs(h.width)<1?h.width*e:h.width,d=Math.abs(h.height)<1?h.height*i:h.height;a.measure(D===t.MeasureMode.EXACTLY?c:e,l===t.MeasureMode.EXACTLY?d:i,D,l)}this._measuredWidth=this.measureWidthReach(e,n),this._measuredHeight=this.measureHeightReach(i,r),this.measureChildFillers()},e.prototype.getChildMeasureMode=function(e,i){return i===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:e===Ni.FILL_PARENT||e===Ni.WRAP_CONTENT?t.MeasureMode.AT_MOST:t.MeasureMode.EXACTLY},e.prototype.measureWidthReach=function(e,i){if(i===t.MeasureMode.EXACTLY)return e;for(var n=this.host.widgetChildren,r=0,u=0,o=n.length;u<o;u++){var s=n[u],a=s.getMeasuredWidth(),h=s.layoutOptions||Ni.DEFAULT,D=h.x?h.x:0,l=h.anchor?h.anchor:Ui.DEFAULT_ANCHOR,c=Math.abs(D)<1?(1-l.x)*a/(1-D):D;r=Math.max(r,c)}return i===t.MeasureMode.AT_MOST&&(r=Math.min(e,r)),r},e.prototype.measureHeightReach=function(e,i){if(i===t.MeasureMode.EXACTLY)return e;for(var n=this.host.widgetChildren,r=0,u=0,o=n.length;u<o;u++){var s=n[u],a=s.getMeasuredHeight(),h=s.layoutOptions||Ni.DEFAULT,D=h.y?h.y:0,l=h.anchor?h.anchor:Ui.DEFAULT_ANCHOR,c=Math.abs(D)<1?(1-l.y)*a/(1-D):D;r=Math.max(r,c)}return i===t.MeasureMode.AT_MOST&&(r=Math.min(e,r)),r},e.prototype.measureChildFillers=function(){for(var e=this.host.widgetChildren,i=0,n=e.length;i<n;i++){var r=e[i],u=r.layoutOptions||Ni.DEFAULT;if(u.width===Ni.FILL_PARENT||u.height===Ni.FILL_PARENT){var o=u.width===Ni.FILL_PARENT?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,s=u.height===Ni.FILL_PARENT?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST;r.measure(this._measuredWidth,this._measuredHeight,o,s)}}},e.prototype.onLayout=function(){for(var t=this.host,e=t.width,i=t.height,n=t.widgetChildren,r=0,u=n.length;r<u;r++){var o=n[r],s=o.layoutOptions||Ni.DEFAULT,a=s.x?s.x:0,h=s.y?s.y:0;Math.abs(a)<1&&(a*=e),Math.abs(h)<1&&(h*=i);var D=s.anchor||Ui.DEFAULT_ANCHOR,l=a-D.x*o.getMeasuredWidth(),c=h-D.y*o.getMeasuredHeight();o.layout(l,c,l+o.getMeasuredWidth(),c+o.getMeasuredHeight())}},e.prototype.getMeasuredWidth=function(){return this._measuredWidth},e.prototype.getMeasuredHeight=function(){return this._measuredHeight},e}(),ji=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.useLayout=function(t){this.layoutMgr&&this.layoutMgr.onDetach(),this.layoutMgr=t,t&&this.layoutMgr.onAttach(this)},e.prototype.useDefaultLayout=function(){this.useLayout(new Xi)},e.prototype.measure=function(e,i,n,r){t.prototype.measure.call(this,e,i,n,r),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onMeasure(e,i,n,r),this._measuredWidth=Math.max(this.measuredWidth,this.layoutMgr.getMeasuredWidth()),this._measuredHeight=Math.max(this.measuredHeight,this.layoutMgr.getMeasuredHeight()))},e.prototype.layout=function(e,i,n,r,u){void 0===u&&(u=!0),t.prototype.layout.call(this,e,i,n,r,u),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onLayout())},e}(Si),Hi=function(t){function e(e){void 0===e&&(e={});var i=t.call(this)||this;i.keyDownEvent=function(t){9===t.which?i._useTab&&(Ri.fireTab(),t.preventDefault()):38===t.which?i._usePrev&&(Ri.firePrev(),t.preventDefault()):40===t.which&&i._useNext&&(Ri.fireNext(),t.preventDefault()),i.emit("keydown")},i.documentMouseDown=function(){i.__down||i.blur()},i.bindEvents=function(){null!==i.stage&&i.stage.on("pointerdown",i.documentMouseDown),document.addEventListener("keydown",i.keyDownEvent)},i.clearEvents=function(){null!==i.stage&&i.stage.off("pointerdown",i.documentMouseDown),document.removeEventListener("keydown",i.keyDownEvent)},e.background&&t.prototype.setBackground.call(i,e.background);var n=e.tabIndex,r=e.tabGroup;return i._focused=!1,i._useTab=i._usePrev=i._useNext=!0,i.interactive=!0,Ri.registrer(i,n||0,r||0),i.insetContainer.on("pointerdown",(function(){i.focus(),i.__down=!0})),i.insetContainer.on("pointerup",(function(){i.__down=!1})),i.insetContainer.on("pointerupoutside",(function(){i.__down=!1})),i}return n(e,t),e.prototype.blur=function(){this._focused&&(Ri.clear(),this._focused=!1,this.clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))},e.prototype.focus=function(){this._focused||(this._focused=!0,this.bindEvents(),Ri.set(this),this.emit("focusChanged",!0),this.emit("focus"))},e}(ji),Gi=function(t){function i(i,n){var r=t.call(this)||this;return r.textDisplay=new e.Text(i,n),r.contentContainer.addChild(r.textDisplay),r}return n(i,t),i.prototype.update=function(){null!==this.tint&&(this.textDisplay.tint=this.tint),null!==this.blendMode&&(this.textDisplay.blendMode=this.blendMode)},Object.defineProperty(i.prototype,"value",{get:function(){return this.textDisplay.text},set:function(t){this.textDisplay.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),i}(Si),Yi=function(t){function i(i){var n=t.call(this,i)||this;return n.isHover=!1,"string"==typeof i.text&&(i.text=new Gi(i.text,new e.TextStyle)),n.textWidget=i.text.setLayoutOptions(new Ui(Ni.WRAP_CONTENT,Ni.WRAP_CONTENT,.5,.5,Ui.CENTER_ANCHOR)),n.textWidget&&n.addChild(n.textWidget),n.contentContainer.buttonMode=!0,n.setupClick(),n}return n(i,t),i.prototype.setupClick=function(){var i=this,n=new Mi(this);n.onHover=function(t,e){i.isHover=e,i.emit("hover",e)},n.onPress=function(t,e){e&&(i.focus(),t.data.originalEvent.preventDefault()),i.emit("press",e)},n.onClick=function(t){i.click()},this.click=function(){i.emit("click")},this.focus=function(){i._focused||Hi.prototype.focus.call(i)},this.blur=function(){i._focused&&Hi.prototype.blur.call(i)},this.initialize=function(){t.prototype.initialize.call(i),i.contentContainer.interactiveChildren=!1,setTimeout((function(){var t=i.contentContainer.getLocalBounds();i.contentContainer.hitArea=new e.Rectangle(t.x<0?t.x:0,t.y<0?t.y:0,Math.max(t.x+t.width+(t.x<0?-t.x:0),i._width),Math.max(t.y+t.height+(t.y<0?-t.y:0),i._height))}),20)}},i.prototype.update=function(){},Object.defineProperty(i.prototype,"value",{get:function(){return this.textWidget?this.textWidget.text:""},set:function(t){this.textWidget&&(this.textWidget.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.textWidget},set:function(t){this.value=t},enumerable:!0,configurable:!0}),i}(Hi),Vi=function(t){function i(){var i=t.call(this)||this;return i.hitArea=new e.Rectangle,i.insetContainer.hitArea=i.hitArea,i}return n(i,t),i.prototype.update=function(){},i.prototype.layout=function(e,i,n,r,u){t.prototype.layout.call(this,e,i,n,r,u),this.hitArea.width=this.width,this.hitArea.height=this.height},i}(ji),zi=function(t){function e(e){var i=t.call(this,e)||this;return i.change=function(t){i.checkmark&&(i.checkmark.alpha=t?1:0)},i.click=function(){i.emit("click"),null!==i.checkGroup&&i.checked||(i.checked=!i.checked,i.emit("changed",i.checked))},i.focus=function(){i._focused||t.prototype.focus.call(i)},i.blur=function(){i._focused&&t.prototype.blur.call(i)},i._checked=void 0!==e.checked&&e.checked,i._value=e.value||"",i.checkGroup=e.checkgroup||null,i.checkmark=new Vi,i.checkmark.contentContainer.addChild(e.checkmark),i.checkmark.setLayoutOptions(new Ui(Ni.WRAP_CONTENT,Ni.WRAP_CONTENT,.5,.5,Ui.CENTER_ANCHOR)),i.checkmark.alpha=i._checked?1:0,i.addChild(i.checkmark),i.contentContainer.buttonMode=!0,null!==i.checkGroup&&Ri.registrerCheckGroup(i),i}return n(e,t),e.prototype.update=function(){},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this._checked&&(null!==this.checkGroup&&t&&Ri.updateCheckGroupSelected(this),this._checked=t,this.change(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.checked&&Ri.updateCheckGroupSelected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return Ri.getCheckGroupSelectedValue(this.checkGroup)},set:function(t){Ri.setCheckGroupSelectedValue(this.checkGroup,t)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=this;t.prototype.initialize.call(this);var i=this.eventBroker.click;i.onHover=function(t,i){e.emit("hover",i)},i.onPress=function(t,i){i&&(e.focus(),t.data.originalEvent.preventDefault()),e.emit("press",i)},i.onClick=function(){e.click()}},e}(Hi);function Wi(t){this.respectDirty=!0,this._parent=t||null,this._scale=1,this._align="left",this._fontFamily="Arial",this._fontSize=26,this._fontWeight="normal",this._fontStyle="normal",this._letterSpacing=0,this._lineHeight=0,this._verticalAlign=0,this._rotation=0,this._skew=0,this._tint="#FFFFFF",this._fill="#FFFFFF",this._shadow="",this._stroke=0,this._strokeFill="",this._strokeShadow="",this._wrap=!0,this._breakWords=!1,this._overflowX="visible",this._overflowY="visible",this._ellipsis=!1;let e=null;this.ellipsisSize=function(t){return this.ellipsis?(null===e&&(e=3*(t.getCharObject(".",this).width+this.letterSpacing)),e):0}}function qi(){this.style=null,this.data=null,this.space=!1,this.newline=!1,this.emoji=!1,this.charcode=0,this.value="",this.wordIndex=-1,this.lineIndex=-1}Wi.prototype.clone=function(){const t=new Wi;return t.merge(this),t},Wi.prototype.merge=function(t){if("object"==typeof t){this.respectDirty=!1;for(const e in t){"function"!=typeof t[e]&&"respectDirty"!==e&&"_parent"!==e&&(this[e]=t[e])}this.respectDirty=!0,this._dirty=!0}},Wi.prototype.ctxKey=function(t){return[t,this.fill,this.shadow,this.stroke,this.strokeFill,this.strokeShadow].join("|")},Wi.prototype.ctxFont=function(){const t=`${Math.min(200,Math.max(1,this.fontSize||26))}px `;return("bold"===this.fontWeight?`${this.fontWeight} `:"")+("italic"===this.fontStyle||"oblique"===this.fontStyle?`${this.fontStyle} `:"")+t+this.fontFamily},Wi.prototype.constructor=Wi,Object.defineProperties(Wi.prototype,{_dirty:{set(t){this.respectDirty&&null!==this._parent&&(this._parent.dirtyStyle=t,this._parent.update())}},scale:{get(){return this._scale},set(t){t!==this._scale&&(this._scale=t,this._dirty=!0)}},align:{get(){return this._align},set(t){t!==this._align&&(this._align=t,this._dirty=!0)}},fontFamily:{get(){return this._fontFamily},set(t){t!==this._fontFamily&&(this._fontFamily=t,this._dirty=!0)}},fontSize:{get(){return this._fontSize},set(t){t!==this._fontSize&&(this._fontSize=t,this._dirty=!0)}},fontWeight:{get(){return this._fontWeight},set(t){t!==this._fontWeight&&(this._fontWeight=t,this._dirty=!0)}},fontStyle:{get(){return this._fontStyle},set(t){t!==this._fontStyle&&(this._fontStyle=t,this._dirty=!0)}},letterSpacing:{get(){return this._letterSpacing},set(t){t!==this._letterSpacing&&(this._letterSpacing=t,this._dirty=!0)}},lineHeight:{get(){return this._lineHeight},set(t){t!==this._lineHeight&&(this._lineHeight=t,this._dirty=!0)}},verticalAlign:{get(){return this._verticalAlign},set(t){t!==this._verticalAlign&&(this._verticalAlign=t,this._dirty=!0)}},rotation:{get(){return this._rotation},set(t){t!==this._rotation&&(this._rotation=t,this._dirty=!0)}},skew:{get(){return this._skew},set(t){t!==this._skew&&(this._skew=t,this._dirty=!0)}},tint:{get(){return this._tint},set(t){t!==this._tint&&(this._tint=t,this._dirty=!0)}},fill:{get(){return this._fill},set(t){t!==this._fill&&(this._fill=t,this._dirty=!0)}},shadow:{get(){return this._shadow},set(t){t!==this._shadow&&(this._shadow=t,this._dirty=!0)}},stroke:{get(){return this._stroke},set(t){t!==this._stroke&&(this._stroke=t,this._dirty=!0)}},strokeFill:{get(){return this._strokeFill},set(t){t!==this._strokeFill&&(this._strokeFill=t,this._dirty=!0)}},strokeShadow:{get(){return this._strokeShadow},set(t){t!==this._strokeShadow&&(this._strokeShadow=t,this._dirty=!0)}},wrap:{get(){return this._wrap},set(t){t!==this._wrap&&(this._wrap=t,this._dirty=!0)}},breakWords:{get(){return this._breakWords},set(t){t!==this._breakWords&&(this._breakWords=t,this._dirty=!0)}},overflowX:{get(){return this._overflowX},set(t){t!==this._overflowX&&(this._overflowX=t,this._dirty=!0)}},overflowY:{get(){return this._overflowY},set(t){t!==this._overflowY&&(this._overflowY=t,this._dirty=!0)}},ellipsis:{get(){return this._ellipsis},set(t){t!==this._ellipsis&&(this._ellipsis=t,this._dirty=!0)}}}),qi.prototype.constructor=qi;let Ki=null;function $i(t,e){e=e||{},Si.call(this,e.width||0,e.height||0),null===Ki&&(Ki=new Ji(1));const i=!e.width,n=!e.height,r=this._style=new Wi(this);r.merge(e.style);const u=this.chars=[],o=[],s=[],a=new PIXI.Container;this.container.addChild(a),this._inputText=t;let h=0,D=0;this.dirtyText=!0,this.dirtyStyle=!0,this.dirtyRender=!0;const l=[],c=[],d=[],p=[];let f=0,g=0;const m=[],C=[];this.render=function(){let t,e,r=0,u=0,h=-1;if(s.length>f)for(t=f;t<s.length;t++){const e=s[t];e&&(e.visible=!1)}let D=0,g=0,m=0;for(t=0;t<f;t++){if(e=o[t],h!==e.lineIndex){switch(h=e.lineIndex,D=l[h],g=c[h],r+=g,p[h]){case"right":u=this._width-D;break;case"center":u=.5*(this._width-D);break;default:u=0}m=Math.max(D,m)}if(!e.data.texture||e.space||e.newline){s[t]&&(s[t].visible=!1);continue}const i=e.data.texture;let n=s[t];n?n.texture=i:(n=s[t]=new PIXI.Sprite(i),n.anchor.set(.5)),n.visible=!0,n.x=e.x+u+.5*i.width,n.y=e.y+r-.5*i.height-(g-d[h]),n.tint=e.emoji?16777215:nn(e.style.tint,16777215),n.rotation=tn(e.style.rotation,0),n.skew.x=tn(e.style.skew,0),n.parent||a.addChild(n)}i&&(this.width=m),n&&(this.height=r)},this.prepareForRender=function(){const t=new PIXI.Point;let e,n,s=0,a=0,h=0,D=0,y=r.align,v=-1,_=0,E=0,F=!1,x=0,b=!1,w=!1;for(n=0;n<g;n++){const f=u[n],A=u[n-1];if(e=f.style,a=Math.max(a,r.lineHeight||e.lineHeight||f.data.lineHeight),"visible"!==e.overflowY&&a+E>this._height&&"hidden"===e.overflowY)break;f.newline&&(w=!1),f.space||f.newline?s++:f.wordIndex=s,h=Math.max(h,e.fontSize),f.lineIndex=D,e.align!==r.align&&(y=e.align),f.space&&(v=n,_=t.x);const T=Math.round(f.data.width)+tn(e.letterSpacing,0);if(!i&&!F&&!f.newline&&t.x+T>this._width){if(e.wrap)if(f.space)F=!0;else{if(-1!==v){x-=n-v,n=v-1,v=-1,t.x=_,F=!0;continue}if(e.breakWords){A&&(t.x-=A.style.letterSpacing,t.x-=A.data.width),n-=2,x--,F=!0;continue}}if("hidden"==e.overflowX&&!F&&(w=!0,e.ellipsis&&!b)){b=!0;let i=m[D];i||(i=m[D]=[new qi,new qi,new qi]);for(let n=0;n<3;n++){const r=i[n];r.value=".",r.data=Ki.getCharObject(r.value,e),r.style=e,r.x=t.x+f.data.xOffset,r.y=parseFloat(e.verticalAlign)+r.data.yOffset,r.lineIndex=D,t.x+=Math.round(r.data.width)+tn(e.letterSpacing,0),o[x]=r,x++}}}w||(f.x=t.x+f.data.xOffset,f.y=parseFloat(e.verticalAlign)+f.data.yOffset,t.x+=T,o[x]=f,x++),(F||f.newline||n===g-1)&&(A&&(t.x-=A.style.letterSpacing),f.space&&(t.x-=f.data.width,t.x-=tn(e.letterSpacing,0)),E+=a,C[D]=b,l[D]=t.x,c[D]=a,d[D]=h,p[D]=y,a=t.x=_=h=0,y=r.align,v=-1,D++,F=w=b=!1)}f=x};const y=["</i>","</b>","</font>","</center>"];this.processInputText=function(){const t=[r];let i=0,n=0;const o=Array.from(this._inputText);for(let r=0;r<o.length;r++){style=t[t.length-1];let s=o[r];s.charCodeAt(0);let a=!1,h=!1,D=!1;if(/(?:\r\n|\r|\n)/.test(s))a=!0;else if(/(\s)/.test(s))h=!0;else if(e.allowTags&&"<"===s){let e=this._inputText.substring(n);e=e.slice(0,e.indexOf(">")+1);let i=!0;if(e.length){if("<i>"===e)style=style.clone(),style.fontStyle="italic",t.push(style);else if("<b>"===e)style=style.clone(),style.fontWeight="bold",t.push(style);else if("<center>"===e)style=style.clone(),style.align="center",t.push(style);else if(-1!==y.indexOf(e))t.length>1&&t.splice(t.length-1,1);else if(e.startsWith("<font ")){const i=/(\w+)\s*=\s*((["'])(.*?)\3|([^>\s]*)(?=\s|\/>))(?=[^<]*>)/g;let n=i.exec(e);if(null!==n){for(style=style.clone();null!==n;){switch(n[1]){case"family":n[1]="fontFamily";break;case"size":n[1]="fontSize";break;case"weight":n[1]="fontWeight";break;case"style":n[1]="fontStyle";break;case"valign":n[1]="verticalAlign";break;case"spacing":n[1]="letterSpacing";break;case"color":n[1]="tint"}style[n[1]]=n[4],n=i.exec(e)}t.push(style)}}else i=!1;if(i){n+=e.length,r+=e.length-1;continue}}}else{let t=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g.exec(s);if(null!==t){for(r--,s="";null!==t&&s!==t[0];)r++,s=t[0],t=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g.exec(s+o[r+1]);D=!0}}let l=u[i];l||(l=new qi,u[i]=l),l.style=style,D&&(l.style=l.style.clone(),l.style.fontFamily=$i.settings.defaultEmojiFont),l.data=Ki.getCharObject(s,l.style),l.value=s,l.space=h,l.newline=a,l.emoji=D,i++,n+=s.length}g=i},this.lazyUpdate=null;const v=this;this.update=function(){null===v.lazyUpdate&&(v.lazyUpdate=setTimeout((function(){const t=!i&&(v._width!=h||v._height!=D||v.dirtyText);(v.dirtyText||v.dirtyStyle)&&(v.dirtyText=v.dirtyStyle=!1,v.dirtyRender=!0,v.processInputText()),(t||v.dirtyRender)&&(v.dirtyRender=!1,h=v._width,D=v.height,v.prepareForRender(),v.render()),v.lazyUpdate=null}),0))}}$i.prototype=Object.create(Si.prototype),$i.prototype.constructor=$i,$i.settings={debugSpriteSheet:!1,defaultEmojiFont:"Segoe UI Emoji"},Object.defineProperties($i.prototype,{value:{get(){return this._inputText},set(t){t!==this._inputText&&(this._inputText=t,this.dirtyText=!0,this.update())}},text:{get(){return this.value},set(t){this.value=t}},style:{get(){return this._style},set(t){const e=new Wi(this);e.merge(t),this._style.merge(e),this.dirtyStyle=!0,this.update()}}});const Zi=document.createElement("canvas"),Qi=Zi.getContext("2d");Zi.width=100,Zi.height=100;var Ji=function(t){let e,i,n,r,u,o,s,a=[];var h=function(t,e){const i=this.children=[];this.rect=new PIXI.Rectangle(0,0,t||0,e||0),this.data=null,this.insert=function(t,e,n){if(i.length>0){const r=i[0].insert(t,e,n);return null!==r?r:i[1].insert(t,e,n)}if(null!==this.data)return null;if(t>this.rect.width||e>this.rect.height)return null;if(t==this.rect.width&&e==this.rect.height)return this.data=n,n.frame.x=this.rect.x,n.frame.y=this.rect.y,this;return i.push(new h),i.push(new h),this.rect.width-t>this.rect.height-e?(i[0].rect=new PIXI.Rectangle(this.rect.x,this.rect.y,t,this.rect.height),i[1].rect=new PIXI.Rectangle(this.rect.x+t,this.rect.y,this.rect.width-t,this.rect.height)):(i[0].rect=new PIXI.Rectangle(this.rect.x,this.rect.y,this.rect.width,e),i[1].rect=new PIXI.Rectangle(this.rect.x,this.rect.y+e,this.rect.width,this.rect.height-e)),i[0].insert(t,e,n)}};const D=function(){e=document.createElement("canvas"),i=e.getContext("2d"),s=256,e.width=e.height=s,o=new h(s,s),n=[],r=PIXI.BaseTexture.fromCanvas(e),r.mipmap=!1,r.resolution=1,r.update(),$i.settings.debugSpriteSheet&&(e.className="DynamicText_SpriteSheet",document.body.appendChild(e))};this.fontFamilyCache={};const l=function(t,e){e&&r.update();for(let e=0;e<t.length;e++)c(t[e])};var c=function(t){i.drawImage(t._cache,t.frame.x,t.frame.y),t.texture.frame=t.frame,t.texture.update()};this.getCharObject=function(t,i){const n=i.ctxFont();let o=this.fontFamilyCache[n];o||(o={},this.fontFamilyCache[n]=o);const s=i.ctxKey(t);let h=o[s];if(!h){const D=g(t,i);D.rect&&(e.width<D.rect.width||e.height<D.rect.height)&&(e.width=e.height=Math.max(D.rect.width,D.rect.height),r.update()),h={metrics:D,font:n,value:t,frame:D.rect,baseTexture:D.rect?r:null,xOffset:D.bounds?D.bounds.minx:0,yOffset:D.descent||0,width:D.width||0,lineHeight:D.lineHeight||0,_cache:D.canvas,texture:D.rect?new PIXI.Texture(r,D.rect):null},o[s]=h,D.rect&&(a.push(h),void 0===u&&(u=setTimeout((function(){p(),u=void 0}),0)))}return h};const d=function(t,e){return t.frame.height<e.frame.height?1:t.frame.height>e.frame.height?-1:t.frame.width<e.frame.width?1:t.frame.width>e.frame.width?-1:0};var p=function(){a.sort(d);let e=!1,i=!1;for(let u=0;u<a.length;u++){const h=a[u];null===o.insert(h.frame.width+t,h.frame.height+t,h)?(u--,s<2048?(e=!0,f(2*s)):(l(n,e),D(),i=!0,e=!1)):(i&&(h.texture.baseTexture=r),n.push(h))}l(e||i?n:a,e),a=[]},f=function(i){e.width=e.height=s=i,o=new h(i,i),n.sort(d);for(let e=0;e<n.length;e++){const i=n[e];o.insert(i.frame.width+t,i.frame.height+t,i)}},g=function(t,e){const i=Math.max(1,(n=e.fontSize,r=26,isNaN(n)?r:parseInt(n)));var n,r;const u=1.25*i,o={fontSize:i,lineHeight:u,width:0};if(!t||/(?:\r\n|\r|\n)/.test(t))return o;const s=e.ctxFont();if(Qi.font=s,o.width=Math.round(Qi.measureText(t).width),/(\s)/.test(t))return o;const a=Math.round(.7*i),h=Math.max(5,Math.round(.7*i));Zi.width=Math.ceil(o.width)+2*h,Zi.height=1.5*i;const D=Zi.width,l=Zi.height,c=l/2+.5*a;Qi.font=s,Qi.clearRect(0,0,D,l),Qi.save();const d=function(t){const e=t.trim().split(" ");return{color:en(e[0],"#000000"),alpha:tn(e[1],.5),xOffset:tn(e[2],3),yOffset:tn(e[3],3),blur:tn(e[4],5)}},p=function(t){const e=t.trim().split(" "),i=en(e[0],"#FFFFFF"),n=tn(e[1],1);return{color:i,alpha:n,position:tn(e[2],-1),rgba:rn(i,n)}},f=function(t){const e=t.split(",").filter((function(t){return""!==t}));let n;for(n=0;n<e.length;n++)e[n]=p(e[n]);switch(e.length){case 0:return"white";case 1:return e[0].rgba?e[0].rgba:e[0].color||"#FFFFFF";default:try{const t=c+u-i,r=Qi.createLinearGradient(0,t-i,0,t);for(n=0;n<e.length;n++)r.addColorStop(-1!==e[n].position?e[n].position:n/(e.length-1),e[n].rgba||e[n].color);return r}catch(t){return"#FFFFFF"}}},g=function(i,n){const r=i.trim().split(",").filter((function(t){return""!==t}));if(r.length){for(let i=0;i<r.length;i++){const u=d(r[i]);Qi.globalAlpha=u.alpha,Qi.shadowColor=u.color,Qi.shadowOffsetX=u.xOffset+D,Qi.shadowOffsetY=u.yOffset,Qi.shadowBlur=u.blur,n?(Qi.lineWidth=e.stroke,Qi.strokeText(t,h-D,c)):Qi.fillText(t,h-D,c)}Qi.restore()}};e.shadow.length&&g(e.shadow,!1),e.stroke&&e.strokeShadow.length&&g(e.strokeShadow,!0),Qi.fillStyle=f(en(e.fill,"#000000")),Qi.fillText(t,h,c),Qi.restore(),e.stroke&&(Qi.strokeStyle=f(en(e.strokeFill,"#000000")),Qi.lineWidth=e.stroke,Qi.strokeText(t,h,c),Qi.restore());const m=Qi.getImageData(0,0,D,l).data;let C=3;const y=4*D,v=m.length;for(;C<v&&!m[C];)C+=4;const _=C/y|0;if(C<v){for(C=v-1;C>0&&!m[C];)C-=4;const t=C/y|0;for(C=3;C<v&&!m[C];)C+=y,C>=v&&(C=C-v+4);const e=C%y/4|0;let i=1;for(C=v-1;C>=0&&!m[C];)C-=y,C<0&&(C=v-1-4*i++);const n=C%y/4+1|0;o.ascent=Math.round(c-_),o.descent=Math.round(t-c),o.height=1+Math.round(t-_),o.bounds={minx:e-h,maxx:n-h,miny:0,maxy:t-_},o.rect={x:o.bounds.minx,y:-o.ascent-2,width:o.bounds.maxx-o.bounds.minx+2,height:o.ascent+o.descent+4},o.canvas=document.createElement("canvas"),o.canvas.width=o.rect.width,o.canvas.height=o.rect.height,o.canvas.getContext("2d").drawImage(Zi,-h-o.rect.x,-c-o.rect.y),o.rect.x=o.rect.y=0}return o};D()};function tn(t,e){return isNaN(t)?e:parseFloat(t)}function en(t,e){return"string"==typeof t&&t.length?t:e}function nn(t,e){if("number"==typeof t)return t;const i=parseInt(t.replace("#","0x"));return isNaN(i)?e:i}function rn(t,e){const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e=tn(e,1),!!i&&`rgba(${parseInt(i[1],16)},${parseInt(i[2],16)},${parseInt(i[3],16)},${e})`}function un(){this.getPosition=function(t){return t}}function on(t,e,i){const n=t,r=e&&i?3:i?1:2;this.getPosition=function(t){let e=1===r?1-t:2===r?t:t<.5?2*t:2*(1-t);return 1===n?e*=e:2===n?e*=e*e:3===n?e*=e*e*e:4===n&&(e*=e*e*e*e),1===r?1-e:2===r?e:t<.5?e/2:1-e/2}}un.prototype.constructor=un,on.prototype=Object.create(un.prototype),on.prototype.constructor=on;const sn={},an=.5*Math.PI;function hn(t){const e=Object.create(un.prototype);return e.getPosition=t,e}function Dn(t,e,i){return{easeIn:t,easeOut:e,easeInOut:i}}sn.Linear=new un,sn.Power0={easeNone:sn.Linear},sn.Power1=sn.Quad=Dn(new on(1,1,0),new on(1,0,1),new on(1,1,1)),sn.Power2=sn.Cubic=Dn(new on(2,1,0),new on(2,0,1),new on(2,1,1)),sn.Power3=sn.Quart=Dn(new on(3,1,0),new on(3,0,1),new on(3,1,1)),sn.Power4=sn.Quint=Dn(new on(4,1,0),new on(4,0,1),new on(4,1,1)),sn.Bounce={BounceIn:hn((function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)})),BounceOut:hn((function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375})),BounceInOut:hn((function(t){const e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}))},sn.Circ={CircIn:hn((function(t){return-(Math.sqrt(1-t*t)-1)})),CircOut:hn((function(t){return Math.sqrt(1-(t-=1)*t)})),CircInOut:hn((function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}))},sn.Expo={ExpoIn:hn((function(t){return Math.pow(2,10*(t-1))-.001})),ExpoOut:hn((function(t){return 1-Math.pow(2,-10*t)})),ExpoInOut:hn((function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}))},sn.Sine={SineIn:hn((function(t){return 1-Math.cos(t*an)})),SineOut:hn((function(t){return Math.sin(t*an)})),SineInOut:hn((function(t){return-.5*(Math.cos(Math.PI*t)-1)}))};var ln=function(){function t(t,i){var n=this;this.onMouseScrollImpl=function(t){var e=n,i=e.obj,r=e.preventDefault,u=e.delta;r&&event.preventDefault(),void 0!==t.deltaX?u.set(t.deltaX,t.deltaY):u.set(1===t.axis?60*t.detail:0,2===t.axis?60*t.detail:0),n.onMouseScroll.call(i,event,u)},this.onHoverImpl=function(t){var e=n.onMouseScrollImpl;n.bound||(document.addEventListener("mousewheel",e,!1),document.addEventListener("DOMMouseScroll",e,!1),n.bound=!0)},this.onMouseOutImpl=function(t){var e=n.onMouseScrollImpl;n.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),n.bound=!1)},this.onMouseScroll=function(t,e){},this.bound=!1,this.delta=new e.Point,this.obj=t,this.preventDefault=i,this.startEvent()}return t.prototype.stopEvent=function(){var t=this.obj,e=this.onMouseScrollImpl,i=this.onHoverImpl,n=this.onMouseOutImpl;this.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),this.bound=!1),t.contentContainer.removeListener("mouseover",i),t.contentContainer.removeListener("mouseout",n)},t.prototype.startEvent=function(){var t=this.obj,e=this.onHoverImpl,i=this.onMouseOutImpl;t.contentContainer.on("mouseover",e),t.contentContainer.on("mouseout",i)},t}();const cn={ClickManager:Mi,DragManager:Bi,InputController:Ri,MouseScrollEvent:ln};var dn={Lerp:function(t,e,i){return i>1?i=1:i<0&&(i=0),t+(e-t)*i},Round:function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},componentToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},rgbToHex:function(t,e,i){return"#"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(i)},rgbToNumber:function(t,e,i){return 65536*t+256*e+i},numberToRgb:function(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}},hexToRgb:function(t){if(null===t&&(t=16777215),!isNaN(t))return this.numberToRgb(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},pn=[],fn=[],gn={},mn={},Cn=1,yn=function(t){this.object=t,this.tweens={},this.active=!1,this.onUpdate=null},vn=function(){function t(){this._ready=!1,this.obj=null,this.parent=null,this.key="",this.time=0,this.callback=null,this.currentTime=0}return t.prototype.remove=function(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,this.parent.onUpdate=null,delete mn[this.obj._tweenObjectId])},t.prototype.set=function(t,e,i){this.obj=t.object,this.obj._currentCallbackID?this.obj._currentCallbackID++:this.obj._currentCallbackID=1,this.time=i,this.parent=t,this.callback=e,this._ready=!1,this.key="cb_"+this.obj._currentCallbackID,this.currentTime=0,this.parent.active||(this.parent.active=!0,mn[this.obj._tweenObjectId]=this.parent)},t.prototype.update=function(t){this.currentTime+=t,this.currentTime>=this.time&&(this.remove(),this.callback.call(this.parent))},t}(),_n=function(){function t(){this._ready=!1,this.parent=null,this.obj=null,this.key="",this.from=0,this.to=0,this.time=0,this.ease=0,this.currentTime=0,this.t=0,this.isColor=!1}return t.prototype.remove=function(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,delete mn[this.obj._tweenObjectId])},t.prototype.set=function(t,e,i,n,r,u){this.isColor=isNaN(i)&&"#"===i[0]||isNaN(n)&&"#"===n[0],this.parent=t,this.obj=t.object,this.key=e,this.surfix=function(t){if(isNaN(t)&&-1!==t.indexOf("%"))return"%"}(n),this.isColor?(this.to=dn.hexToRgb(n),this.from=dn.hexToRgb(i),this.currentColor={r:this.from.r,g:this.from.g,b:this.from.b}):(this.to=function(t){if(!isNaN(t))return t;if(isNaN(t)&&-1!==t.indexOf("%"))return parseFloat(t.replace("%",""))}(n),this.from=function(t,e,i,n){if(!isNaN(t)&&!isNaN(e))return t;if(isNaN(t)&&isNaN(e)&&-1!==t.indexOf("%")&&-1!==e.indexOf("%"))return parseFloat(t.replace("%",""));if(isNaN(t)&&!isNaN(e)&&-1!==t.indexOf("%"))return-1!==En.indexOf(n)?i.parent._width*(.01*parseFloat(t.replace("%",""))):-1!==Fn.indexOf(n)?i.parent._height*(.01*parseFloat(t.replace("%",""))):0;if(!isNaN(t)&&isNaN(e)&&-1!==e.indexOf("%"))return-1!==En.indexOf(n)?t/i.parent._width*100:-1!==Fn.indexOf(n)?t/i.parent._height*100:0;return 0}(i,n,this.obj,e)),this.time=r,this.currentTime=0,this.ease=u,this._ready=!1,this.parent.active||(this.parent.active=!0,mn[this.obj._tweenObjectId]=this.parent)},t.prototype.update=function(t){if(this.currentTime+=t,this.t=Math.min(this.currentTime,this.time)/this.time,this.ease&&(this.t=this.ease.getPosition(this.t)),this.isColor)this.currentColor.r=Math.round(dn.Lerp(this.from.r,this.to.r,this.t)),this.currentColor.g=Math.round(dn.Lerp(this.from.g,this.to.g,this.t)),this.currentColor.b=Math.round(dn.Lerp(this.from.b,this.to.b,this.t)),this.obj[this.key]=dn.rgbToNumber(this.currentColor.r,this.currentColor.g,this.currentColor.b);else{var e=dn.Lerp(this.from,this.to,this.t);this.obj[this.key]=this.surfix?e+this.surfix:e}this.currentTime>=this.time&&this.remove()},t}(),En=["width","minWidth","maxWidth","anchorLeft","anchorRight","left","right","x"],Fn=["height","minHeight","maxHeight","anchorTop","anchorBottom","top","bottom","y"];function xn(t){t._tweenObjectId||(t._tweenObjectId=Cn,Cn++);var e=gn[t._tweenObjectId];return e||(e=gn[t._tweenObjectId]=new yn(t)),e}function bn(){for(var t=0;t<pn.length;t++)if(pn[t]._ready)return pn[t];var e=new _n;return pn.push(e),e}function wn(){for(var t=0;t<fn.length;t++)if(fn[t]._ready)return fn[t];var e=new vn;return fn.push(e),e}var An={to:function(t,e,i,n){var r=xn(t),u=null;for(var o in i)if("onComplete"!==o)if("onUpdate"!==o){if(e){var s=i[o]===t[o];if(void 0===t[o])continue;s?r.tweens[o]&&r.tweens[o].remove():(r.tweens[o]||(r.tweens[o]=bn()),r.tweens[o].set(r,o,t[o],i[o],e,n))}}else u=i[o];else{var a=wn();a.set(r,i[o],e),r.tweens[a.key]=a}e?r.onUpdate=u:this.set(t,i)},from:function(t,e,i,n){var r=xn(t),u=null;for(var o in i)if("onComplete"!==o)if("onUpdate"!==o){if(e){var s=i[o]==t[o];if(void 0===t[o])continue;s?r.tweens[o]&&r.tweens[o].remove():(r.tweens[o]||(r.tweens[o]=bn()),r.tweens[o].set(r,o,i[o],t[o],e,n))}}else u=i[o];else{var a=wn();a.set(r,i[o],e),r.tweens[a.key]=a}e?r.onUpdate=u:this.set(t,i)},fromTo:function(t,e,i,n,r){var u=xn(t),o=null;for(var s in n)if("onComplete"!==s)if("onUpdate"!==s){if(e){var a=i[s]==n[s];if(void 0===t[s]||void 0===i[s])continue;a?(u.tweens[s]&&u.tweens[s].remove(),t[s]=n[s]):(u.tweens[s]||(u.tweens[s]=bn()),u.tweens[s].set(u,s,i[s],n[s],e,r))}}else o=n[s];else{var h=wn();h.set(u,n[s],e),u.tweens[h.key]=h}e?u.onUpdate=o:this.set(t,n)},set:function(t,e){var i=xn(t);for(var n in e)void 0!==t[n]&&(i.tweens[n]&&i.tweens[n].remove(),t[n]=e[n])},_update:function(t){for(var e in mn){var i=mn[e];for(var n in i.tweens)i.tweens[n].update(t);i.onUpdate&&i.onUpdate.call(i.object,t)}}},Tn=function(t){function i(e){var i=t.call(this,0,0)||this;return i._amt=0,i._disabled=!1,i.track=e.track,i.handle=e.handle,i.fill=e.fill||null,i._minValue=e.minValue||0,i._maxValue=e.maxValue||100,i.decimals=e.decimals||0,i.vertical=e.vertical||!1,i.onValueChange=e.onValueChange||null,i.onValueChanging=e.onValueChanging||null,i.value=e.value||50,i.handle.pivot=.5,i.addChild(i.track),i.fill&&i.track.addChild(i.fill),i.addChild(i.handle),i.handle.contentContainer.buttonMode=!0,i.vertical?(i.height="100%",i.width=i.track.width,i.track.height="100%",i.handle.horizontalAlign="center",i.fill&&(i.fill.horizontalAlign="center")):(i.width="100%",i.height=i.track.height,i.track.width="100%",i.handle.verticalAlign="middle",i.fill&&(i.fill.verticalAlign="middle")),i}return n(i,t),i.prototype.update=function(t){var e,i;void 0===t&&(t=0),this.vertical?(e=this.handle._height||this.handle.contentContainer.height,i=(this._height-e)*this._amt+.5*e,t?(An.to(this.handle,.3,{top:i},sn.Power2.easeOut),this.fill&&An.to(this.fill,.3,{height:i},sn.Power2.easeOut)):(An.set(this.handle,{top:i}),this.fill&&An.set(this.fill,{height:i}))):(e=this.handle._width||this.handle.contentContainer.width,i=(this._width-e)*this._amt+.5*e,t?(An.to(this.handle,.3,{left:i},sn.Power2.easeOut),this.fill&&An.to(this.fill,.3,{width:i},sn.Power2.easeOut)):(An.set(this.handle,{left:i}),this.fill&&An.set(this.fill,{width:i})))},i.prototype.initialize=function(){var i=this;t.prototype.initialize.call(this);var n,r=new e.Point,u=0,o=function(){i.emit("change",i.value),i._lastChange!=i.value&&(i._lastChange=i.value,"function"==typeof i.onValueChange&&i.onValueChange(i.value))},s=function(){i.emit("changing",i.value),i._lastChanging!=i.value&&(i._lastChanging=i.value,"function"==typeof i.onValueChanging&&i.onValueChanging(i.value))},a=function(t,e){i.track.contentContainer.toLocal(t,null,r,!0);var n=i.vertical?r.y-.5*i.handle._height:r.x-.5*i.handle._width,u=i.vertical?i._height-i.handle._height:i._width-i.handle._width;i._amt=u?Math.max(0,Math.min(1,n/u)):0,i.update(e),s()},h=new Bi(this.handle);h.onPress=function(t,e){t.stopPropagation()},h.onDragStart=function(t){u=i._amt,n=i.vertical?i._height-i.handle._height:i._width-i.handle._width},h.onDragMove=function(t,e){i._amt=n?Math.max(0,Math.min(1,u+(i.vertical?e.y:e.x)/n)):0,s(),i.update()},h.onDragEnd=function(){o(),this.update()};var D=new Bi(this.track);D.onPress=function(t,e){e&&a(t.data.global,!0),t.stopPropagation()},D.onDragMove=function(t){a(t.data.global,!1)},D.onDragEnd=function(){o()}},Object.defineProperty(i.prototype,"value",{get:function(){return dn.Round(dn.Lerp(this._minValue,this._maxValue,this._amt),this.decimals)},set:function(t){this._amt=(Math.max(this._minValue,Math.min(this._maxValue,t))-this._minValue)/(this._maxValue-this._minValue),"function"==typeof this.onValueChange&&this.onValueChange(this.value),"function"==typeof this.onValueChanging&&this.onValueChanging(this.value),this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minValue",{get:function(){return this._minValue},set:function(t){this._minValue=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxValue",{get:function(){return this._maxValue},set:function(t){this._maxValue=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t!==this._disabled&&(this._disabled=t,this.handle.contentContainer.buttonMode=!t,this.handle.contentContainer.interactive=!t,this.track.contentContainer.interactive=!t)},enumerable:!0,configurable:!0}),i}(Si),Mn=function(t){function e(e){var i=t.call(this,{track:e.track,handle:e.handle,fill:null,vertical:e.vertical})||this;return i.scrollingContainer=e.scrollingContainer,i.autohide=e.autohide,i._hidden=!1,i}return n(e,t),e.prototype.initialize=function(){var e=this;t.prototype.initialize.call(this),this.decimals=3,this.onValueChanging=function(t){(e.scrollingContainer._height/e.scrollingContainer.innerContainer.height||.001)<1&&e.scrollingContainer.forcePctPosition(e.vertical?"y":"x",e._amt)},this.scrollingContainer._scrollBars.push(this)},e.prototype.alignToContainer=function(){var t,e,i=this.vertical?"y":"x",n=this.vertical?"height":"width",r=this.vertical?"top":"left",u=this.scrollingContainer.innerContainer[n]?-this.scrollingContainer.innerContainer[i]/this.scrollingContainer.innerContainer[n]:0,o=this.scrollingContainer.innerContainer[n]?this.scrollingContainer["_"+n]/this.scrollingContainer.innerContainer[n]:1,s=this.scrollingContainer.innerContainer[n]-this.scrollingContainer["_"+n];this._amt=this.scrollingContainer["_"+n]&&s?-this.scrollingContainer.innerContainer[i]/s:0,o>=1?(e=this["_"+n],this.handle[r]=.5*e,this.toggleHidden(!0)):(e=this["_"+n]*o,this._amt>1?e-=(this["_"+n]-e)*(this._amt-1):this._amt<0&&(e-=(this["_"+n]-e)*-this._amt),t=this._amt<0?.5*e:this._amt>1?this["_"+n]-.5*e:u*this.scrollingContainer["_"+n]+.5*e,this.handle[r]=t,this.toggleHidden(!1)),this.handle[n]=e},e.prototype.toggleHidden=function(t){this.autohide&&(t&&!this._hidden?(An.to(this,.2,{alpha:0}),this._hidden=!0):!t&&this._hidden&&(An.to(this,.2,{alpha:1}),this._hidden=!1))},e}(Tn),Bn=function(t){function e(i){var n=t.call(this)||this;return n._disabled=!0,n._now=0,n.DeltaTime=0,n.Time=performance.now(),n.Ms=0,i&&(n.disabled=!1),e.shared=n,n}return n(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled?(this._disabled=!1,e.shared=this,this.update(performance.now(),!0)):this._disabled=!0},enumerable:!0,configurable:!0}),e.prototype.update=function(t){e.shared._now=t,e.shared.Ms=e.shared._now-e.shared.Time,e.shared.Time=e.shared._now,e.shared.DeltaTime=.001*e.shared.Ms,e.shared.emit("update",e.shared.DeltaTime),An._update(e.shared.DeltaTime),e.shared._disabled||requestAnimationFrame(e.shared.update)},e.on=function(t,i,n){e.shared.on(t,i,n)},e.once=function(t,i,n){e.shared.once(t,i,n)},e.removeListener=function(t,i){e.shared.removeListener(t,i)},e}(e.utils.EventEmitter);Bn.shared=new Bn(!0);var In,Sn=function(t){function i(i){void 0===i&&(i={});var n=t.call(this)||this;return n.forcePctPosition=function(t,e){var i=n.getInnerBounds(),r=n.innerContainer.insetContainer;n.scrollX&&"x"===t&&(r.position[t]=-(i.width-n.width)*e),n.scrollY&&"y"===t&&(r.position[t]=-(i.height-n.height)*e),n.scrollPosition[t]=n.targetPosition[t]=r.position[t]},n.focusPosition=function(t){var e,i=n.getInnerBounds(),r=n.innerContainer.insetContainer;if(n.scrollX){var u=Math.max(0,Math.min(i.width,t.x));u+r.x>n.width?(e=u-n.width,r.x=-e):u+r.x<0&&(e=u+r.x,r.x-=e)}if(n.scrollY){var o=Math.max(0,Math.min(i.height,t.y));o+r.y>n.height?(e=o-n.height,r.y=-e):o+r.y<0&&(e=o+r.y,r.y-=e)}n.lastPosition.copyFrom(r.position),n.targetPosition.copyFrom(r.position),n.scrollPosition.copyFrom(r.position),n.updateScrollBars()},n.setScrollPosition=function(t){t&&n.scrollVelocity.copyFrom(t);var e=n.innerContainer.insetContainer;n.animating||(n.animating=!0,n.lastPosition.copyFrom(e.position),n.targetPosition.copyFrom(e.position),Bn.on("update",n.updateScrollPosition,n))},n.updateScrollPosition=function(t){n.stop=!0,n.scrollX&&n.updateDirection("x",t),n.scrollY&&n.updateDirection("y",t),stop&&(Bn.removeListener("update",n.updateScrollPosition),n.animating=!1)},n.updateDirection=function(t,e){var i,r=n.getInnerBounds(),u=n,o=u.scrollPosition,s=u.scrollVelocity,a=u.targetPosition,h=u.lastPosition,D=n.innerContainer.insetContainer;if(i="y"===t?Math.round(Math.min(0,n.height-r.height)):Math.round(Math.min(0,n.width-r.width)),n.scrolling||0===Math.round(s[t])||(a[t]+=s[t],s[t]=dn.Lerp(s[t],0,(5+2.5/Math.max(n.softness,.01))*e),a[t]>0?a[t]=0:a[t]<i&&(a[t]=i)),!n.scrolling&&0===Math.round(s[t])&&(D[t]>0||D[t]<i)){var l=n.scrollPosition[t]>0?0:i;o[t]=dn.Lerp(o[t],l,(40-30*n.softness)*e),n.stop=!1}else(n.scrolling||0!==Math.round(s[t]))&&(n.scrolling&&(s[t]=n.scrollPosition[t]-h[t],h.copyFrom(o)),a[t]>0?(s[t]=0,o[t]=100*n.softness*(1-Math.exp(a[t]/-200))):a[t]<i?(s[t]=0,o[t]=i-100*n.softness*(1-Math.exp((i-a[t])/-200))):o[t]=a[t],n.stop=!1);D.position[t]=Math.round(o[t]),n.updateScrollBars()},n.mask=new e.Graphics,n.innerContainer=new Vi,n.innerBounds=new e.Rectangle,t.prototype.addChild.call(n,n.innerContainer),n.contentContainer.addChild(n.mask),n.contentContainer.mask=n.mask,n.scrollX=void 0!==i.scrollX&&i.scrollX,n.scrollY=void 0!==i.scrollY&&i.scrollY,n.dragScrolling=void 0===i.dragScrolling||i.dragScrolling,n.softness=void 0!==i.softness?Math.max(Math.min(i.softness||0,1),0):.5,n.radius=i.radius||0,n.expandMask=i.expandMask||0,n.overflowY=i.overflowY||0,n.overflowX=i.overflowX||0,n.scrollPosition=new e.Point,n.scrollVelocity=new e.Point,n.targetPosition=new e.Point,n.lastPosition=new e.Point,n.animating=!1,n.scrolling=!1,n._scrollBars=[],n.boundCached=performance.now()-1e3,n.initScrolling(),n}return n(i,t),i.prototype.initialize=function(){t.prototype.initialize.call(this),(this.scrollX||this.scrollY)&&this.initScrolling()},i.prototype.update=function(){if(t.prototype.update.call(this),this.lastWidth!==this.width||this.lastHeight!==this.height){var e=this.expandMask;this.mask.clear(),this.mask.lineStyle(0),this.mask.beginFill(16777215,1),0===this.radius?this.mask.drawRect(-e,-e,this.width+e,this.height+e):this.mask.drawRoundedRect(-e,-e,this.width+e,this.height+e,this.radius),this.mask.endFill(),this.lastWidth=this.width,this.lastHeight=this.height}this.setScrollPosition()},i.prototype.addChild=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=0;i<t.length;i++)this.innerContainer.addChild(t[i]);return this.getInnerBounds(!0),this},i.prototype.updateScrollBars=function(){for(var t=0;t<this._scrollBars.length;t++)this._scrollBars[t].alignToContainer()},i.prototype.getInnerBounds=function(t){return(t||performance.now()-this.boundCached>1e3)&&(this.innerContainer.insetContainer.getLocalBounds(this.innerBounds),this.innerContainer.insetContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this.innerContainer.height,this.innerBounds.width=this.innerBounds.x+this.innerContainer.width,this.boundCached=performance.now()),this.innerBounds},i.prototype.initScrolling=function(){var t=this,i=this.innerContainer.insetContainer,n=new e.Point,r=this.scrollPosition,u=this.targetPosition;if(this.dragScrolling){var o=new Bi(this);o.onDragStart=function(e){t.scrolling||(n.copyFrom(i.position),r.copyFrom(i.position),t.scrolling=!0,t.setScrollPosition(),t.emit("dragStart",e))},o.onDragMove=function(e,i){t.scrollX&&(u.x=n.x+i.x),t.scrollY&&(u.y=n.y+i.y)},o.onDragEnd=function(e){t.scrolling&&(t.scrolling=!1,t.emit("dragEnd",e))}}var s=new e.Point;new ln(this,!0).onMouseScroll=function(e,i){s.set(.2*-i.x,.2*-i.y),t.setScrollPosition(s)},this.updateScrollBars()},i}(Vi),On=function(t){function e(e,i,n){var r=t.call(this,0,0)||this;return r.desc=void 0!==e&&e,r.tweenTime=i||0,r.tweenEase=n,r.items=[],r}return n(e,t),e.prototype.addChild=function(e,i,n){t.prototype.addChild.call(this,e),-1===this.items.indexOf(e)&&this.items.push(e),"function"==typeof i&&(e._sortListValue=i),"function"==typeof n&&(e._sortListThenByValue=n),e._sortListRnd||(e._sortListRnd=Math.random()),this.sort()},e.prototype.removeChild=function(e){if(arguments.length>1)for(var i=0;i<arguments.length;i++)this.removeChild(arguments[i]);else{t.prototype.removeChild.call(this,e);var n=this.items.indexOf(e);-1!==n&&this.items.splice(n,1),this.sort()}},e.prototype.sort=function(t){var e=this;void 0===t&&(t=!1),clearTimeout(this._sortTimeout),t?this._sort():this._sortTimeout=setTimeout((function(){e._sort()}),0)},e.prototype._sort=function(){var t=this,e=this.desc,i=0,n=!0;this.items.sort((function(t,i){var n=t._sortListValue()<i._sortListValue()?e?1:-1:t._sortListValue()>i._sortListValue()?e?-1:1:0;return 0===n&&t._sortListThenByValue&&i._sortListThenByValue&&(n=t._sortListThenByValue()<i._sortListThenByValue()?e?1:-1:t._sortListThenByValue()>i._sortListThenByValue()?e?-1:1:0),0===n&&(n=t._sortListRnd>i._sortListRnd?1:t._sortListRnd<i._sortListRnd?-1:0),n}));for(var r=0;r<this.items.length;r++){var u=this.items[r];n=!n,this.tweenTime>0?An.fromTo(u,this.tweenTime,{x:u.x,y:u.y},{x:0,y:i},this.tweenEase):(u.x=0,u.y=i),i+=u.height,"function"==typeof u.altering&&u.altering(n)}this.tweenTime>0&&setTimeout((function(){t.updatesettings(!1,!0)}),1e3*this.tweenTime)},e}(Vi),Pn=function(t){function i(e,i,n,r,u){var o=t.call(this,e.width,e.height)||this;return o.bw=i||5,o.vs=void 0===r||r,o.hs=void 0===n||n,o.t=e.baseTexture,o.f=e.frame,o.tile=u,o.hs&&(o.setting.minWidth=2*i),o.vs&&(o.setting.minHeight=2*i),o.update=function(){this.initialized&&(vs&&hs?(str.x=sbr.x=sr.x=this._width-bw,sbl.y=sbr.y=sb.y=this._height-bw,sf.width=st.width=sb.width=this._width-2*bw,sf.height=sl.height=sr.height=this._height-2*bw):hs?(sr.x=this._width-bw,sl.height=sr.height=sf.height=this._height,sf.width=this._width-2*bw):(sb.y=this._height-bw,st.width=sb.width=sf.width=this._width,sf.height=this._height-2*bw),null!==this.tint&&(sf.tint=this.tint,vs&&hs&&(stl.tint=str.tint=sbl.tint=sbr.tint=this.tint),hs&&(sl.tint=sr.tint=this.tint),vs&&(st.tint=sb.tint=this.tint)),null!==this.blendMode&&(sf.blendMode=this.blendMode,vs&&hs&&(stl.blendMode=str.blendMode=sbl.blendMode=sbr.blendMode=this.blendMode),hs&&(sl.blendMode=sr.blendMode=this.blendMode),vs&&(st.blendMode=sb.blendMode=this.blendMode)))},o}return n(i,t),i.prototype.initialize=function(){t.prototype.initialize.call(this);var i=this.f,n=this.bw;this.vs&&this.hs?(this.ftl=new e.Rectangle(i.x,i.y,n,n),this.ftr=new e.Rectangle(i.x+i.width-n,i.y,n,n),this.fbl=new e.Rectangle(i.x,i.y+i.height-n,n,n),this.fbr=new e.Rectangle(i.x+i.width-n,i.y+i.height-n,n,n),this.ft=new e.Rectangle(i.x+n,i.y,i.width-2*n,n),this.fb=new e.Rectangle(i.x+n,i.y+i.height-n,i.width-2*n,n),this.fl=new e.Rectangle(i.x,i.y+n,n,i.height-2*n),this.fr=new e.Rectangle(i.x+i.width-n,i.y+n,n,i.height-2*n),this.ff=new e.Rectangle(i.x+n,i.y+n,i.width-2*n,i.height-2*n)):this.hs?(this.fl=new e.Rectangle(this.f.x,i.y,n,i.height),this.fr=new e.Rectangle(i.x+i.width-n,i.y,n,i.height),this.ff=new e.Rectangle(i.x+n,i.y,i.width-2*n,i.height)):(this.ft=new e.Rectangle(i.x,i.y,i.width,n),this.fb=new e.Rectangle(i.x,i.y+i.height-n,i.width,n),this.ff=new e.Rectangle(i.x,i.y+n,i.width,i.height-2*n));var r=this,u=r.t,o=r.ff,s=r.fl,a=r.fr,h=r.ft,D=r.fb;this.sf=this.tile?new e.extras.TilingSprite(new e.Texture(u,o)):new e.Sprite(new e.Texture(u,o)),this.contentContainer.addChildAt(this.sf,0),this.vs&&this.hs&&(this.stl=new e.Sprite(new e.Texture(u,this.ftl)),this.str=new e.Sprite(new e.Texture(u,this.ftr)),this.sbl=new e.Sprite(new e.Texture(u,this.fbl)),this.sbr=new e.Sprite(new e.Texture(u,this.fbr)),this.contentContainer.addChildAt(this.stl,0),this.contentContainer.addChildAt(this.str,0),this.contentContainer.addChildAt(this.sbl,0),this.contentContainer.addChildAt(this.sbr,0)),hs&&(this.sl=this.tile?new e.extras.TilingSprite(new e.Texture(u,s)):new e.Sprite(new e.Texture(u,s)),this.sr=this.tile?new e.extras.TilingSprite(new e.Texture(u,a)):new e.Sprite(new e.Texture(u,a)),this.contentContainer.addChildAt(this.sl,0),this.contentContainer.addChildAt(this.sr,0)),this.vs&&(this.st=this.tile?new e.extras.TilingSprite(new e.Texture(u,h)):new e.Sprite(new e.Texture(u,h)),this.sb=this.tile?new e.extras.TilingSprite(new e.Texture(u,D)):new e.Sprite(new e.Texture(u,D)),this.contentContainer.addChildAt(this.st,0),this.contentContainer.addChildAt(this.sb,0)),this.vs&&this.hs&&(this.st.x=n,this.sb.x=n,this.sl.y=n,this.sr.y=n,this.stl.width=n,this.str.width=n,this.sbl.width=n,this.sbr.width=n,this.stl.height=n,this.str.height=n,this.sbl.height=n,this.sbr.height=n),this.hs&&(this.sf.x=this.sl.width=this.sr.width=n),this.vs&&(this.sf.y=this.st.height=this.sb.height=n)},i.prototype.update=function(){},i}(Si),Ln=function(t){function i(i){var n=t.call(this)||this;return n.spriteDisplay=new e.Sprite(i),n.contentContainer.addChild(n.spriteDisplay),n}return n(i,t),i.prototype.update=function(){null!==this.tint&&(this.spriteDisplay.tint=this.tint),null!==this.blendMode&&(this.spriteDisplay.blendMode=this.blendMode)},i.fromImage=function(t){return new i(new e.Texture(new e.BaseTexture(t)))},i}(Si),Rn=function(i){function r(t,n){var r=i.call(this)||this;return r.__width=t,r.__height=n,r.minWidth=0,r.minHeight=0,r.widgetChildren=[],r.interactive=!0,r.stage=r,r.hitArea=new e.Rectangle(0,0,0,0),r.initialized=!0,r.resize(t,n),r}return n(r,i),r.prototype.measureAndLayout=function(){this.background&&(this.background.width=this.width,this.background.height=this.height);for(var e=0,i=this.widgetChildren.length;e<i;e++){var n=this.widgetChildren[e],r=n.layoutOptions||Ni.DEFAULT,u=r.width<Ni.MAX_DIMEN?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,o=r.height<Ni.MAX_DIMEN?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,s=Math.abs(r.width)<1?r.width*this.width:r.width,a=Math.abs(r.height)<1?r.height*this.height:r.height;n.measure(u===t.MeasureMode.EXACTLY?s:this.width,o===t.MeasureMode.EXACTLY?a:this.height,u,o);var h=r.x?r.x:0,D=r.y?r.y:0;Math.abs(h)<1&&(h*=this.width),Math.abs(D)<1&&(D*=this.height);var l=r.anchor||Ui.DEFAULT_ANCHOR,c=h-l.x*n.getMeasuredWidth(),d=D-l.y*n.getMeasuredHeight();n.layout(c,d,c+n.getMeasuredWidth(),d+n.getMeasuredHeight(),!0)}},r.prototype.getBackground=function(){return this.background},r.prototype.setBackground=function(t){this.background&&i.prototype.removeChild.call(this,this.background),this.background=t,t&&(i.prototype.addChildAt.call(this,t,0),this.background.width=this.width,this.background.height=this.height)},r.prototype.update=function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e];n.initialized||n.initialize(),this.update(n.widgetChildren),n.stage=this,n.update()}},r.prototype.render=function(t){this.update(this.widgetChildren),i.prototype.render.call(this,t)},r.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.addChild(arguments[n]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.widgetChildren.push(t),i.prototype.addChild.call(this,t.insetContainer);this.measureAndLayout()},r.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var n=0;n<e;n++)this.removeChild(arguments[n]);else{i.prototype.removeChild.call(this,t.insetContainer);var r=this.widgetChildren.indexOf(t);-1!==r&&(this.children.splice(r,1),t.parent=null)}this.measureAndLayout()},r.prototype.resize=function(t,e){if(isNaN(e)||(this.__height=e),isNaN(t)||(this.__width=t),this.minWidth||this.minHeight){var i=1,n=1;t&&t<this.minWidth&&(i=this.minWidth/t),e&&e<this.minHeight&&(n=this.minHeight/e),i>n&&i>1?(this.scale.set(1/i),this.__height*=i,this.__width*=i):n>1?(this.scale.set(1/n),this.__width*=n,this.__height*=n):1!==this.scale.x&&this.scale.set(1)}this.hitArea&&(this.hitArea.width=this.__width,this.hitArea.height=this.__height);for(var r=0;r<this.widgetChildren.length;r++)this.widgetChildren[r].updatesettings(!0,!1);this.measureAndLayout()},Object.defineProperty(r.prototype,"width",{get:function(){return this.__width},set:function(t){isNaN(t)||(this.__width=t,this.resize())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.__height},set:function(t){isNaN(t)||(this.__height=t,this.resize())},enumerable:!0,configurable:!0}),r}(e.Container);var Nn=function(t){function i(i){var n=t.call(this,i)||this;n.keyDownEvent=function(t){if(t.which!==n.ctrlKey&&t.which!==n.cmdKey||(n.ctrlDown=!0),t.which===n.shiftKey&&(n.shiftDown=!0),n.emit("keydown",t),!t.defaultPrevented){if(13===t.which)return n.insertTextAtCaret("\n"),void t.preventDefault();if(n.ctrlDown){if(65===t.which)return n.select(),void t.preventDefault();if(90===t.which)return n.value!=n._lastValue&&(n.valueEvent=n._lastValue),n.setCaretIndex(n._lastValue.length+1),void t.preventDefault()}if(8===t.which)return n.deleteSelection()||(n.caret._index>0||1===n.chars.length&&n.caret._atEnd)&&(n.caret._atEnd?(n.valueEvent=n.value.slice(0,n.chars.length-1),n.setCaretIndex(n.caret._index)):(n.valueEvent=n.value.slice(0,n.caret._index-1)+n.value.slice(n.caret._index),n.setCaretIndex(n.caret._index-1))),void t.preventDefault();if(46===t.which)return n.deleteSelection()||n.caret._atEnd||(n.valueEvent=n.value.slice(0,n.caret._index)+n.value.slice(n.caret._index+1),n.setCaretIndex(n.caret._index)),void t.preventDefault();if(37!==t.which&&39!==t.which)return!n.multiLine||38!==t.which&&40!==t.which?void 0:(n.vrdd=38===t.which,n.shiftDown?n.hasSelection?(n.de.y=Math.max(0,Math.min(n.textHeightPX,n.de.y+(n.vrdd?-n.lineHeight:n.lineHeight))),n.updateClosestIndex(n.de,!1),Math.abs(n.si-n.ei)<=1?n.setCaretIndex(n.sie?n.si+1:n.si):(n.caret._index=(n.eie?n.ei+1:n.ei)+(n.caret._down?-1:0),n.selectRange(n.caret._down?n.si:n.si-1,n.caret._index))):(n.si=n.caret._index,n.sie=!1,n.de.copyFrom(n.caret),n.de.y=Math.max(0,Math.min(n.textHeightPX,n.de.y+(n.vrdd?-n.lineHeight:n.lineHeight))),n.updateClosestIndex(n.de,!1),n.caret._index=(n.eie?n.ei+1:ei)-(n.vrdd?0:1),n.selectRange(n.vrdd?n.si-1:n.si,n.caret._index),n.caret._down=!n.vrdd):n.hasSelection?n.setCaretIndex(n.vrdd?n.selectionStart:n.selectionEnd+1):(n.ds.copyFrom(n.caret),n.ds.y+=n.vrdd?-n.lineHeight:n.lineHeight,n.ds.x+=1,n.updateClosestIndex(n.ds,!0),n.setCaretIndex(n.sie?n.si+1:n.si)),void t.preventDefault());if(n.rdd=37===t.which,n.shiftDown)if(n.hasSelection){if(n.selectionStart===n.caret._index)if(n.selectionStart===n.selectionEnd&&n.rdd===n.caret._forward)n.setCaretIndex(n.caret._forward?n.caret._index:n.caret._index+1);else{var e=n.rdd?n.caret._index-1:n.caret._index+1;n.selectRange(e,n.selectionEnd),n.caret._index=Math.min(n.chars.length-1,Math.max(0,e))}else{var i=n.rdd?n.caret._index-1:n.caret._index+1;n.selectRange(n.selectionStart,i),n.caret._index=Math.min(n.chars.length-1,Math.max(0,i))}}else{var r=n.caret._atEnd?n.caret._index+1:n.caret._index,u=n.rdd?r-1:r;n.selectRange(u,u),n.caret._index=u,n.caret._forward=!rdd}else n.hasSelection?n.setCaretIndex(n.rdd?n.selectionStart:n.selectionEnd+1):n.setCaretIndex(n.caret._index+(n.rdd?n.caret._atEnd?0:-1:1));t.preventDefault()}},n.keyUpEvent=function(t){t.which!==n.ctrlKey&&t.which!==n.cmdKey||(n.ctrlDown=!1),t.which===n.shiftKey&&(n.shiftDown=!1),n.emit("keyup",t),t.defaultPrevented},n.copyEvent=function(t){if(n.emit("copy",t),!t.defaultPrevented){if(n.hasSelection)(t.clipboardData||window.clipboardData).setData("Text",n.value.slice(n.selectionStart,n.selectionEnd+1));t.preventDefault()}},n.cutEvent=function(t){n.emit("cut",t),t.defaultPrevented||(n.hasSelection&&(n.copyEvent(t),n.deleteSelection()),t.preventDefault())},n.pasteEvent=function(t){if(n.emit("paste",t),!t.defaultPrevented){var e=t.clipboardData||window.clipboardData;n.insertTextAtCaret(e.getData("Text")),t.preventDefault()}},n.inputEvent=function(t){var e=In.value;e.length&&(n.insertTextAtCaret(e),In.value=""),t.preventDefault()},n.inputBlurEvent=function(t){n.blur()},n.focus=function(){if(!n._focused){t.prototype.focus.call(n);var e=n.contentContainer.worldTransform.tx+"px",i=n.contentContainer.worldTransform.ty+"px",r=n.contentContainer.height+"px",u=n.contentContainer.width+"px";In.setAttribute("style","position:fixed; left:"+e+"; top:"+i+"; height:"+r+"; width:"+u+";"),In.value="",In.focus(),In.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),n.innerContainer.cacheAsBitmap=!1,In.addEventListener("blur",n.inputBlurEvent,!1),document.addEventListener("keydown",n.keyDownEvent,!1),document.addEventListener("keyup",n.keyUpEvent,!1),document.addEventListener("paste",n.pasteEvent,!1),document.addEventListener("copy",n.copyEvent,!1),document.addEventListener("cut",n.cutEvent,!1),In.addEventListener("input",n.inputEvent,!1),setTimeout((function(){n.caret.visible||n.selection.visible||n.multiLine||n.setCaretIndex(n.chars.length)}),0)}},n.blur=function(){n._focused&&(t.prototype.blur.call(n),n.ctrlDown=!1,n.shiftDown=!1,n.hideCaret(),n.clearSelection(),n.chars.length>1&&(n.innerContainer.cacheAsBitmap=!0),In.removeEventListener("blur",n.inputBlurEvent),document.removeEventListener("keydown",n.keyDownEvent),document.removeEventListener("keyup",n.keyUpEvent),document.removeEventListener("paste",n.pasteEvent),document.removeEventListener("copy",n.copyEvent),document.removeEventListener("cut",n.cutEvent),In.removeEventListener("input",n.inputEvent),In.blur()),n.multiLine||n.resetScrollPosition()},n.setCaretIndex=function(t){if(n.caret._atEnd=t>=n.chars.length,n.caret._index=Math.max(0,Math.min(n.chars.length-1,t)),n.chars.length&&t>0){var e=Math.max(0,Math.min(t,n.chars.length-1)),i=n.chars[e];i&&i.wrapped?(n.caret.x=i.x,n.caret.y=i.y):(e=Math.max(0,Math.min(t-1,n.chars.length-1)),i=n.chars[e],n.caret.x=n.chars[e].x+n.chars[e].width,n.caret.y=n.chars[e].lineIndex*n.lineHeight+.5*(n.lineHeight-n.textHeight))}else n.caret.x=0,n.caret.y=.5*(n.lineHeight-n.textHeight);n.scrollToPosition(n.caret),n.showCaret()},n.select=function(){n.selectRange(0,n.chars.length-1)},n.selectWord=function(t){for(var e=n.chars.length,i=0,r=0;r<n.chars.length;r++)n.chars[r].wordIndex===t&&(r<e&&(e=r),r>i&&(i=r));n.selectRange(e,i)},n.selectRange=function(t,e){if(t>-1&&e>-1){var i=Math.min(t,e,n.chars.length-1),r=Math.min(Math.max(t,e),n.chars.length-1);i===n.selectionStart&&r===n.selectionEnd||(n.hasSelection=!0,n.selection.visible=!0,n.selectionStart=i,n.selectionEnd=r,n.hideCaret(),n.updateSelectionGraphics(),n.updateSelectionColors()),n.focus()}else n.clearSelection()},n.clearSelection=function(){n.hasSelection&&(n.hasSelection=!1,n.selection.visible=!1,n.selectionStart=-1,n.selectionEnd=-1,n.updateSelectionColors())},n.updateSelectionGraphics=function(){var t=n.chars[n.selectionStart];if(void 0!==t){var e=t.x,i=t.y,r=0,u=n.textHeight,o=t.lineIndex;n.selection.clear();for(var s=n.selectionStart;s<=n.selectionEnd;s++){var a=n.chars[s];a.lineIndex!=o&&(n.drawSelectionRect(e,i,r,u),e=a.x,i=a.y,o=a.lineIndex,r=0),r+=a.width}n.drawSelectionRect(e,i,r,u),n.innerContainer.addChildAt(n.selection,0)}},n.drawSelectionRect=function(t,e,i,r){n.selection.beginFill("0x"+n.selectedBackgroundColor.slice(1),1),n.selection.moveTo(t,e),n.selection.lineTo(t+i,e),n.selection.lineTo(t+i,e+r),n.selection.lineTo(t,e+r),n.selection.endFill()},void 0===In&&((In=document.createElement("INPUT")).setAttribute("type","text"),In.setAttribute("id","_pui_tempInput"),In.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),document.body.appendChild(In)),n.options=i,n._dirtyText=!0,n.maxLength=i.maxLength||0,n._value=n._lastValue=i.value||"",n.maxLength&&(n._value=n._value.slice(0,n.maxLength)),n.chars=[],n.multiLine=void 0!==i.multiLine&&i.multiLine,n.color=i.style&&i.style.fill?i.style.fill:"#000000",n.selectedColor=i.selectedColor||"#ffffff",n.selectedBackgroundColor=i.selectedBackgroundColor||"#318cfa",n.tempText=new e.Text("1",i.style),n.textHeight=n.tempText.height,n.lineHeight=i.lineHeight||n.textHeight||n._height,n.tempText.destroy(),n.selection=new e.Graphics,n.selection.visible=!1,n.selection._startIndex=0,n.selection._endIndex=0,n.caret=new e.Graphics,n.caret.visible=!1,n.caret._index=0,n.caret.lineStyle(i.caretWidth||1,"#ffffff",1),n.caret.moveTo(0,0),n.caret.lineTo(0,n.textHeight);var r=void 0!==i.paddingLeft?i.paddingLeft:i.padding,u=void 0!==i.paddingRight?i.paddingRight:i.padding,o=void 0!==i.paddingBottom?i.paddingBottom:i.padding,s=void 0!==i.paddingTop?i.paddingTop:i.padding;return n.textContainer=new Sn({scrollX:!n.multiLine,scrollY:n.multiLine,dragScrolling:n.multiLine,expandMask:2,softness:.2,overflowX:40,overflowY:40}).setPadding(r||3,s||3,u||3,o||3).setLayoutOptions(new Ni(Ni.FILL_PARENT,Ni.FILL_PARENT)),n.addChild(n.textContainer),n.multiLine&&(n._useNext=n._usePrev=!1,n.textContainer.dragRestrictAxis="y",n.textContainer.dragThreshold=5,n.dragRestrictAxis="x",n.dragThreshold=5),n.sp=new e.Point,n._sp=new e.Point,n.ds=new e.Point,n.de=new e.Point,n.rdd=!1,n.vrdd=!1,n.selectionStart=-1,n.selectionEnd=-1,n.hasSelection=!1,n.t=performance.now(),n.cc=0,n.textLengthPX=0,n.textHeightPX=0,n.lineIndexMax=0,n.ctrlDown=!1,n.shiftDown=!1,n.shiftKey=16,n.ctrlKey=17,n.cmdKey=91,n.setupDrag(),n}return n(i,t),i.prototype.setupDrag=function(){var t=this,e=new Bi(this);e.onPress=function(e,i){if(i){var n=performance.now()-t.t;if(t.t=performance.now(),n<250)if(t.cc++,t.cc>1)t.select();else{t.innerContainer.toLocal(t.sp,void 0,t.ds,!0),t.updateClosestIndex(t.ds,!0);var r=t.chars[t.si];r&&(-1!=r.wordIndex?t.selectWord(r.wordIndex):t.selectRange(t.si,t.si))}else t.cc=0,t.sp.copyFrom(e.data.global),t.innerContainer.toLocal(t.sp,void 0,t.ds,!0),t.chars.length&&(t.updateClosestIndex(t.ds,!0),t.setCaretIndex(t.sie?t.si+1:t.si))}e.data.originalEvent.preventDefault()},e.onDragMove=function(e,i){t.chars.length&&t._focused&&(t.de.x=t.sp.x+i.x,t.de.y=t.sp.y+i.y,t.innerContainer.toLocal(t.de,void 0,t.de,!0),t.updateClosestIndex(t.de,!1),t.si<t.ei?(t.selectRange(t.sie?t.si+1:t.si,t.eie?t.ei:t.ei-1),t.caret._index=t.eie?t.ei:t.ei-1):t.si>t.ei?(t.selectRange(t.ei,t.sie?t.si:t.si-1),t.caret._index=t.ei):t.sie===t.eie?t.setCaretIndex(t.sie?t.si+1:t.si):(t.selectRange(t.si,t.ei),t.caret._index=t.ei),t.caret._forward=t.si<=t.ei,t.caret._down=i.y>0,t.scrollToPosition(t.de))}},Object.defineProperty(i.prototype,"innerContainer",{get:function(){return this.textContainer.innerContainer.insetContainer},enumerable:!0,configurable:!0}),i.prototype.update=function(){this.width!==this._lastWidth&&(this._lastWidth=this._width,this.multiLine&&(this.updateText(),this.caret.visible&&this.setCaretIndex(this.caret._index),this.hasSelection&&this.updateSelectionGraphics())),this._dirtyText&&(this.updateText(),this._dirtyText=!1)},i.prototype.updateText=function(){this.textLengthPX=0,this.textHeightPX=0,this.lineIndexMax=0;var t=0,i=this._value.length,n=0,r=.5*(this.lineHeight-this.textHeight),u=0;if(this.chars.length>i){for(u=this.chars.length-1;u>=i;u--)this.innerContainer.removeChild(this.chars[u]),this.chars[u].destroy();this.chars.splice(i,this.chars.length-i)}var o=!1,s=!1,a=0,h=-1,D=!1;for(u=0;u<this._value.length;u++){(o||s)&&(h=u,a++);var l=this._value[u];o=" "===l,(s="\n"===l)&&(l="");var c=this.chars[u];c?c.text=l:(c=new e.Text(l,this.options.style),this.innerContainer.addChild(c),this.chars.push(c)),c.scale.x=s?0:1,c.wrapped=D,D=!1,!(s||this.multiLine&&n+c.width>=this._width-this.paddingLeft-this.paddingRight)||(t++,n=0,r+=this.lineHeight,-1===h||s)?(c.lineIndex=t,c.x=n,c.y=r,c.wordIndex=o||s?-1:a,(n+=c.width)>this.textLengthPX&&(this.textLengthPX=n),r>this.textHeightPX&&(this.textHeightPX=r)):(u=h-1,h=-1,D=!0)}this.lineIndexMax=t,this.innerContainer.addChild(this.caret),this.innerContainer.cacheAsBitmap&&(this.innerContainer.cacheAsBitmap=!1,this.innerContainer.cacheAsBitmap=!0),this.textContainer.update()},i.prototype.updateClosestIndex=function(t,e){var i=99999,n=-1,r=!1,u=0;this.lineIndexMax>0&&(u=Math.max(0,Math.min(this.lineIndexMax,Math.floor(t.y/this.lineHeight))));for(var o=0;o<this.chars.length;o++){var s=this.chars[o];if(s.lineIndex===u){var a=Math.abs(t.x-(s.x+.5*s.width));a<i&&(i=a,n=o,r=t.x>s.x+.5*s.width)}}e?(this.si=n,this.sie=r):(this.ei=n,this.eie=r)},i.prototype.deleteSelection=function(){return!!this.hasSelection&&(this.value=this.value.slice(0,this.selectionStart)+this.value.slice(this.selectionEnd+1),this.setCaretIndex(this.selectionStart),!0)},i.prototype.updateSelectionColors=function(){for(var t=0;t<this.chars.length;t++)t>=this.selectionStart&&t<=this.selectionEnd?this.chars[t].style.fill=this.selectedColor:this.chars[t].style.fill=this.color},i.prototype.scrollToPosition=function(t){this._sp.x=t.x,this._sp.y=t.y,this.multiLine&&this._sp.y>=this.lineHeight&&(this._sp.y+=this.lineHeight),this.textContainer.focusPosition(this._sp)},i.prototype.resetScrollPosition=function(){this._sp.set(0,0),this.textContainer.focusPosition(this._sp)},i.prototype.hideCaret=function(){this.caret.visible=!1,clearInterval(this.caretInterval)},i.prototype.showCaret=function(){var t=this;this.clearSelection(),clearInterval(this.caretInterval),this.caret.alpha=1,this.caret.visible=!0,this.caretInterval=setInterval((function(){t.caret.alpha=0===t.caret.alpha?1:0}),500)},i.prototype.insertTextAtCaret=function(t){if(this.multiLine||-1===t.indexOf("\n")||(t=t.replace(/\n/g,"")),this.hasSelection&&this.deleteSelection(),!this.maxLength||this.chars.length<this.maxLength)if(this.caret._atEnd)this.valueEvent+=t,this.setCaretIndex(this.chars.length);else{var e=Math.min(this.chars.length-1,this.caret._index);this.valueEvent=this.value.slice(0,e)+t+this.value.slice(e),this.setCaretIndex(e+t.length)}},Object.defineProperty(i.prototype,"valueEvent",{get:function(){return this._value},set:function(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this.value=t,this.emit("change"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this._lastValue=this._value,this._value=t,this._dirtyText=!0,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),i}(Hi),kn=function(t){function i(i,n,r){var u=this,o=new e.extras.TilingSprite(i);return(u=t.call(this,n||o.width,r||o.height)||this).sprite=o,u.contentContainer.addChild(u.sprite),u}return n(i,t),i.prototype.update=function(){null!==this.tint&&(this.sprite.tint=this.tint),null!==this.blendMode&&(this.sprite.blendMode=this.blendMode),this.sprite.width=this._width,this.sprite.height=this._height},Object.defineProperty(i.prototype,"tilePosition",{get:function(){return this.sprite.tilePosition},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tilingPosition",{set:function(t){this.sprite.tilePosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tileScale",{get:function(){return this.sprite.tileScale},set:function(t){this.sprite.tileScale=t},enumerable:!0,configurable:!0}),i}(Si),Un=function(){function e(){this.noPercents=!1}return e.prototype.onAttach=function(t){this.host=t},e.prototype.onDetach=function(){this.host=null},e.prototype.measureChild=function(e,i,n,r,u){var o,s,a=e.layoutOptions||Ni.DEFAULT,h=a.anchorLeft||0,D=a.anchorTop||0,l=a.anchorRight||0,c=a.anchorBottom||0,d=0,p=0;this.noPercents||Math.abs(h)>1&&Math.abs(l)>1?(d=Math.ceil(l)-Math.floor(h),o=t.MeasureMode.AT_MOST):Math.abs(h)<1&&Math.abs(l)<1?(d=i*(l-h),o=r===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST):Math.abs(h)<1?(d=l,o=t.MeasureMode.AT_MOST):(d=i*l-h,o=r===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST),this.noPercents||Math.abs(D)>1&&Math.abs(c)>1?(p=Math.ceil(c)-Math.floor(D),s=t.MeasureMode.AT_MOST):Math.abs(D)<1&&Math.abs(c)<1?(p=n*(c-D),s=u===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST):Math.abs(D)<1?(p=c,s=t.MeasureMode.AT_MOST):(p=n*c-D,s=u===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST),e.measure(d,p,o,s)},e.prototype.measureStretch=function(t,e,i){return this.noPercents||Math.abs(e)>1&&Math.abs(t)>1?Math.max(t,e):Math.abs(t)<1&&Math.abs(e)<1?i/(e-t):Math.abs(t)<1?e:(i+t)/e},e.prototype.measureChildren=function(t,e,i,n){for(var r=this.host.widgetChildren,u=0,o=r.length;u<o;u++)this.measureChild(r[u],t,e,i,n)},e.prototype.onMeasure=function(e,i,n,r){n===t.MeasureMode.EXACTLY&&r===t.MeasureMode.EXACTLY&&(this.measuredWidth=e,this.measuredHeight=i,this.measureChildren(this.measuredWidth,this.measuredHeight,t.MeasureMode.EXACTLY,t.MeasureMode.EXACTLY));var u=0,o=0,s=this.host.widgetChildren;this.measureChildren(e,i,n,r);for(var a=0,h=s.length;a<h;a++){var D=s[a],l=D.layoutOptions||Ni.DEFAULT,c=l.anchorLeft||0,d=l.anchorTop||0,p=l.anchorRight||0,f=l.anchorBottom||0;u=Math.max(u,this.measureStretch(c,p,D.getMeasuredWidth())),o=Math.max(o,this.measureStretch(d,f,D.getMeasuredHeight()))}n===t.MeasureMode.EXACTLY?this.measuredWidth=e:n===t.MeasureMode.AT_MOST?this.measuredWidth=Math.min(u,e):this.measuredWidth=u,r===t.MeasureMode.EXACTLY?this.measuredHeight=i:r===t.MeasureMode.AT_MOST?this.measuredHeight=Math.min(o,i):this.measuredHeight=o,this.measureChildren(this.measuredWidth,this.measuredHeight,t.MeasureMode.EXACTLY,t.MeasureMode.EXACTLY)},e.prototype.getMeasuredWidth=function(){return this.measuredWidth},e.prototype.getMeasuredHeight=function(){return this.measuredHeight},e.prototype.onLayout=function(){for(var e=this.host,i=e.widgetChildren,n=0;n<i.length;n++){var r=i[n],u=r.layoutOptions||{},o=r.measuredWidth,s=r.measuredHeight,a=u.anchorLeft||0,h=u.anchorTop||0,D=u.anchorRight||0,l=u.anchorBottom||0;a>-1&&a<=1&&(a*=e.width),h>-1&&h<=1&&(h*=e.height),D>-1&&D<=1&&(D*=e.width),l>-1&&l<=1&&(l*=e.height);var c=0,d=0;if(0!==o)switch(u.horizontalAlign||t.ALIGN.NONE){case t.ALIGN.LEFT:c=a;break;case t.ALIGN.MIDDLE:c=(D-a-o)/2;break;case t.ALIGN.RIGHT:c=D-o}else c=a,o=D-a;if(0!==s)switch(u.verticalAlign||t.ALIGN.NONE){case t.ALIGN.TOP:d=h;break;case t.ALIGN.MIDDLE:d=(l-h-s)/2;break;case t.ALIGN.RIGHT:d=l-o}else d=D,s=l-h;r.layout(c,d,c+o,d+s)}},e}();t.AnchorLayout=Un,t.AnchorLayoutOptions=ki,t.Button=Yi,t.CheckBox=zi,t.DynamicText=$i,t.DynamicTextStyle=Wi,t.Ease=sn,t.FastLayoutOptions=Ui,t.Helpers=dn,t.Insets=s,t.Interaction=cn,t.InteractiveGroup=Vi,t.LayoutOptions=Ni,t.ScrollBar=Mn,t.ScrollWidget=Sn,t.SliceSprite=Pn,t.Slider=Tn,t.SortableList=On,t.Sprite=Ln,t.Stage=Rn,t.TextInput=Nn,t.TextWidget=Gi,t.Ticker=Bn,t.TilingSprite=kn,t.Tween=An,t.Widget=Si,t.WidgetGroup=ji,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=pixi-ui.min.js.map
