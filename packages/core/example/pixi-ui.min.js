!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("pixi.js"),require("@pixi/filter-drop-shadow")):"function"==typeof define&&define.amd?define(["exports","pixi.js","@pixi/filter-drop-shadow"],e):e((t=t||self).PUXI={},t.PIXI,t.PIXI.filters)}(this,(function(t,e,u){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var u in e)e.hasOwnProperty(u)&&(t[u]=e[u])})(t,e)};function n(t,e){function u(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(u.prototype=e.prototype,new u)}const D=[],r={add:(t,e)=>(t._dragDropEventId=e.data.identifier,-1===D.indexOf(t)&&(D.push(t),!0)),getItem(t){let e,u=null;for(let i=0;i<D.length;i++)if(D[i]===t){u=D[i],e=i;break}return null!==u&&(D.splice(e,1),u)},getEventItem(t,e){let u,i=null;const n=t.data.identifier;for(let t=0;t<D.length;t++)if(D[t]._dragDropEventId===n){if(e!==D[t].dragGroup)return!1;i=D[t],u=t;break}return null!==i&&(D.splice(u,1),i)}};var o,s=function(){function t(){this.reset(),this.dirtyId=0}return t.prototype.reset=function(){this.left=-1,this.top=-1,this.right=-1,this.bottom=-1},t}();(o=t.MeasureMode||(t.MeasureMode={}))[o.UNBOUNDED=0]="UNBOUNDED",o[o.EXACTLY=1]="EXACTLY",o[o.AT_MOST=2]="AT_MOST";var a,h,l=function(){function t(t){this.target=t,this.isEnabled=!1}return t.prototype.getTarget=function(){return this.target},t}(),c=function(t){function u(u,i,n,D){var r=t.call(this,u)||this;return r.startEvent=function(t,e,u){if(void 0===t&&(t=r._includeHover),void 0===e&&(e=r._rightMouseButton),void 0===u&&(u=r._doubleClick),!r.isEnabled){r._includeHover=t,r.rightMouseButton=e,r._doubleClick=u;var i=r.target;i.insetContainer.on(r.evMouseDown,r.onMouseDownImpl),r._rightMouseButton||i.insetContainer.on("touchstart",r.onMouseDownImpl),r._includeHover&&(i.insetContainer.on("mouseover",r.onMouseOverImpl),i.insetContainer.on("mouseout",r.onMouseOutImpl)),r.isEnabled=!0}},r.stopEvent=function(){if(r.isEnabled){var t=r.target;r.bound&&(t.insetContainer.removeListener(r.evMouseUp,r.onMouseUpImpl),t.insetContainer.removeListener(r.evMouseUpOutside,r.onMouseUpOutsideImpl),r._rightMouseButton||(t.insetContainer.removeListener("touchend",r.onMouseUpImpl),t.insetContainer.removeListener("touchendoutside",r.onMouseUpOutsideImpl)),r.bound=!1),t.insetContainer.removeListener(r.evMouseDown,r.onMouseDownImpl),r._rightMouseButton||t.insetContainer.removeListener("touchstart",r.onMouseDownImpl),r._includeHover&&(t.insetContainer.removeListener("mouseover",r.onMouseOverImpl),t.insetContainer.removeListener("mouseout",r.onMouseOutImpl),t.insetContainer.removeListener("mousemove",r.onMouseMoveImpl),t.insetContainer.removeListener("touchmove",r.onMouseMoveImpl)),r.isEnabled=!1}},r.onMouseDownImpl=function(t){var e=r,u=e.target,i=e.evMouseUp,n=e.onMouseUpImpl,D=e.evMouseUpOutside,o=e.onMouseUpOutsideImpl,s=e._rightMouseButton;if(r.mouse.copyFrom(t.data.global),r.id=t.data.identifier,r.onPress.call(r.target,t,!0),r.bound||(u.insetContainer.on(i,n),u.insetContainer.on(D,o),s||(u.insetContainer.on("touchend",n),u.insetContainer.on("touchendoutside",o)),r.bound=!0),r._doubleClick){var a=performance.now();a-r.time<210?r.onClick.call(u,t):r.time=a}t.data.originalEvent.preventDefault()},r.onMouseUpCommonImpl=function(t){var e=r,u=e.target,i=e.evMouseUp,n=e.onMouseUpImpl,D=e.evMouseUpOutside,o=e.onMouseUpOutsideImpl;t.data.identifier===r.id&&(r.offset.set(t.data.global.x-r.mouse.x,t.data.global.y-r.mouse.y),r.bound&&(u.insetContainer.removeListener(i,n),u.insetContainer.removeListener(D,o),r._rightMouseButton||(u.insetContainer.removeListener("touchend",n),u.insetContainer.removeListener("touchendoutside",o)),r.bound=!1),r.onPress.call(u,t,!1))},r.onMouseUpImpl=function(t){t.data.identifier===r.id&&(r.onMouseUpCommonImpl(t),r.target.dragThreshold&&(r.movementX=Math.abs(r.offset.x),r.movementY=Math.abs(r.offset.y),Math.max(r.movementX,r.movementY)>r.target.dragThreshold)||r._doubleClick||r.onClick.call(r.target,t))},r.onMouseUpOutsideImpl=function(t){t.data.identifier===r.id&&r.onMouseUpCommonImpl(t)},r.onMouseOverImpl=function(t){r.ishover||(r.ishover=!0,r.target.insetContainer.on("mousemove",r.onMouseMoveImpl),r.target.insetContainer.on("touchmove",r.onMouseMoveImpl),r.onHover.call(r.target,t,!0))},r.onMouseOutImpl=function(t){r.ishover&&(r.ishover=!1,r.target.insetContainer.removeListener("mousemove",r.onMouseMoveImpl),r.target.insetContainer.removeListener("touchmove",r.onMouseMoveImpl),r.onHover.call(r.target,t,!1))},r.onMouseMoveImpl=function(t){r.onMove.call(r.target,t)},r.bound=!1,r.id=0,r.ishover=!1,r.mouse=new e.Point,r.offset=new e.Point,r.movementX=0,r.movementY=0,r._includeHover=void 0===i||i,r.rightMouseButton=void 0!==n&&n,r._doubleClick=void 0!==D&&D,u.interactive=!0,r.time=0,r.startEvent(),r.onHover=function(){return null},r.onPress=function(){return null},r.onClick=function(){return null},r.onMove=function(){return null},r}return n(u,t),Object.defineProperty(u.prototype,"rightMouseButton",{get:function(){return this._rightMouseButton},set:function(t){this._rightMouseButton=t,this.evMouseDown=this._rightMouseButton?"rightdown":"mousedown",this.evMouseUp=this._rightMouseButton?"rightup":"mouseup",this.evMouseUpOutside=this._rightMouseButton?"rightupoutside":"mouseupoutside"},enumerable:!0,configurable:!0}),u}(l),d=function(t){function u(u){var i=t.call(this,u)||this;return i.onDragStartImpl=function(t){var e=i.target;i.id=t.data.identifier,i.onPress(t,!0),i.isBound||(i.dragStart.copyFrom(t.data.global),e.stage.on("mousemove",i.onDragMoveImpl),e.stage.on("touchmove",i.onDragMoveImpl),e.stage.on("mouseup",i.onDragEndImpl),e.stage.on("mouseupoutside",i.onDragEndImpl),e.stage.on("touchend",i.onDragEndImpl),e.stage.on("touchendoutside",i.onDragEndImpl),e.stage.on("touchcancel",i.onDragEndImpl),i.isBound=!0),t.data.originalEvent.preventDefault()},i.onDragMoveImpl=function(t){if(t.data.identifier===i.id){var e=i,u=e.lastCursor,n=e.dragOffset,D=e.dragStart,r=e.target;if(i.lastCursor.copyFrom(t.data.global),i.dragOffset.set(u.x-D.x,u.y-D.y),!i.isDragging){if(i.movementX=Math.abs(n.x),i.movementY=Math.abs(n.y),0===i.movementX&&0===i.movementY||Math.max(i.movementX,i.movementY)<r.dragThreshold)return;if(null!==r.dragRestrictAxis&&(i.cancel=!1,("x"===r.dragRestrictAxis&&i.movementY>i.movementX||"y"===r.dragRestrictAxis&&i.movementY<=i.movementX)&&(i.cancel=!0),i.cancel))return void i.onDragEndImpl(t);i.onDragStart(t),i.isDragging=!0}i.onDragMove(t,n)}},i.onDragEndImpl=function(t){if(t.data.identifier===i.id){var e=i.target;i.isBound&&(e.stage.removeListener("mousemove",i.onDragMoveImpl),e.stage.removeListener("touchmove",i.onDragMoveImpl),e.stage.removeListener("mouseup",i.onDragEndImpl),e.stage.removeListener("mouseupoutside",i.onDragEndImpl),e.stage.removeListener("touchend",i.onDragEndImpl),e.stage.removeListener("touchendoutside",i.onDragEndImpl),e.stage.removeListener("touchcancel",i.onDragEndImpl),i.isDragging=!1,i.isBound=!1,i.onDragEnd(t),i.onPress(t,!1))}},i.isBound=!1,i.isDragging=!1,i.id=0,i.dragStart=new e.Point,i.dragOffset=new e.Point,i.lastCursor=new e.Point,i.movementX=0,i.movementY=0,i.cancel=!1,i.target.interactive=!0,i.onPress=function(){return null},i.onDragStart=function(){return null},i.onDragMove=function(){return null},i.onDragEnd=function(){return null},i.startEvent(),i}return n(u,t),u.prototype.startEvent=function(){if(!this.isEnabled){var t=this.target;t.insetContainer.on("mousedown",this.onDragStartImpl),t.insetContainer.on("touchstart",this.onDragStartImpl),this.isEnabled=!0}},u.prototype.stopEvent=function(){if(this.isEnabled){var t=this.target;this.isBound&&(t.stage.removeListener("mousemove",this.onDragMoveImpl),t.stage.removeListener("touchmove",this.onDragMoveImpl),t.stage.removeListener("mouseup",this.onDragEndImpl),t.stage.removeListener("mouseupoutside",this.onDragEndImpl),t.stage.removeListener("touchend",this.onDragEndImpl),t.stage.removeListener("touchendoutside",this.onDragEndImpl),this.isBound=!1),t.insetContainer.removeListener("mousedown",this.onDragStartImpl),t.insetContainer.removeListener("touchstart",this.onDragStartImpl),this.isEnabled=!1}},u}(l),C=function(){function t(e){this.target=e;for(var u=function(e){Object.defineProperty(i,e,{get:function(){return this["_"+e]||(this["_"+e]=new t.MANAGER_MAP[e](this.target)),this["_"+e]}})},i=this,n=0,D=Object.keys(t.MANAGER_MAP);n<D.length;n++){u(D[n])}}return t.MANAGER_MAP={click:c,dnd:d},t}(),F=function(i){function D(){var t=i.call(this)||this;return t.insetContainer=new e.Container,t.contentContainer=t.insetContainer.addChild(new e.Container),t.widgetChildren=[],t.stage=null,t.layoutMeasure=new s,t.initialized=!1,t.dragInitialized=!1,t.dropInitialized=!1,t.dirty=!0,t._oldWidth=-1,t._oldHeight=-1,t.pixelPerfect=!0,t._paddingLeft=0,t._paddingTop=0,t._paddingRight=0,t._paddingBottom=0,t._elevation=0,t.tint=0,t.blendMode=e.BLEND_MODES.NORMAL,t.draggable=!1,t.droppable=!1,t}return n(D,i),Object.defineProperty(D.prototype,"measuredWidth",{get:function(){return this._measuredWidth},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"measuredHeight",{get:function(){return this._measuredHeight},enumerable:!0,configurable:!0}),D.prototype.getMeasuredWidth=function(){return this._measuredWidth},D.prototype.getMeasuredHeight=function(){return this._measuredHeight},D.prototype.onMeasure=function(e,u,i,n){var D=this.contentContainer.width+this.paddingHorizontal,r=this.contentContainer.height+this.paddingVertical;switch(i){case t.MeasureMode.EXACTLY:this._measuredWidth=e;break;case t.MeasureMode.UNBOUNDED:this._measuredWidth=D;break;case t.MeasureMode.AT_MOST:this._measuredWidth=Math.min(e,D)}switch(n){case t.MeasureMode.EXACTLY:this._measuredHeight=u;break;case t.MeasureMode.UNBOUNDED:this._measuredHeight=r;break;case t.MeasureMode.AT_MOST:this._measuredHeight=Math.min(u,r)}},D.prototype.measure=function(t,e,u,i){this.onMeasure(t,e,u,i)},D.prototype.layout=function(t,e,u,i,n){void 0===e&&(e=t),void 0===u&&(u=t),void 0===i&&(i=e),this.layoutMeasure.left=t,this.layoutMeasure.top=e,this.layoutMeasure.right=u,this.layoutMeasure.bottom=i,this._width=u-t,this._height=i-e,this.background&&(this.background.x=0,this.background.y=0,this.background.width=u-t,this.background.height=i-e),this.insetContainer.x=t,this.insetContainer.y=e,this.contentContainer.x=this._paddingLeft,this.contentContainer.y=this._paddingTop},D.prototype.setLayoutOptions=function(t){return this.layoutOptions=t,this},Object.defineProperty(D.prototype,"eventBroker",{get:function(){return this._eventBroker||(this._eventBroker=new C(this)),this._eventBroker},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){this._paddingLeft=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){this._paddingTop=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){this._paddingRight=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){this._paddingBottom=t,this.dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingHorizontal",{get:function(){return this._paddingLeft+this._paddingRight},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"paddingVertical",{get:function(){return this._paddingTop+this._paddingBottom},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"interactive",{get:function(){return this.insetContainer.interactive},set:function(t){this.insetContainer.interactive=!0,this.contentContainer.interactive=!0},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(D.prototype,"alpha",{get:function(){return this.insetContainer.alpha},set:function(t){this.insetContainer.alpha=t},enumerable:!0,configurable:!0}),D.prototype.setPadding=function(t,e,u,i){return void 0===e&&(e=t),void 0===u&&(u=t),void 0===i&&(i=e),this._paddingLeft=t,this._paddingTop=e,this._paddingRight=u,this._paddingBottom=i,this.dirty=!0,this},D.prototype.getBackground=function(){return this.background},D.prototype.setBackground=function(t){return this.background||this.insetContainer.removeChild(this.background),"string"==typeof t&&(t=e.utils.string2hex(t)),"number"==typeof t&&(t=(new e.Graphics).beginFill(t).drawRect(0,0,1,1).endFill()),this.background=t,t&&this.insetContainer.addChildAt(t,0),this},D.prototype.getBackgroundAlpha=function(){return this.background?this.background.alpha:1},D.prototype.setBackgroundAlpha=function(t){return this.background||this.setBackground(16777215),this.background.alpha=t,this},D.prototype.getElevation=function(){return this._elevation},D.prototype.setElevation=function(t){if(this._elevation=t,0===t&&this._dropShadow){var e=this.insetContainer.filters.indexOf(this._dropShadow);e>0&&this.insetContainer.filters.splice(e,1)}else t>0&&(this._dropShadow||(this.insetContainer.filters||(this.insetContainer.filters=[]),this._dropShadow=new u.DropShadowFilter({distance:t}),this.insetContainer.filters.push(this._dropShadow)),this._dropShadow.distance=t);return this},D.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var u=0;u<e;u++)this.addChild(arguments[u]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.contentContainer.addChild(t.insetContainer),this.widgetChildren.push(t);return this},D.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var u=0;u<e;u++)this.removeChild(arguments[u]);else{var i=this.widgetChildren.indexOf(t);if(-1!==i){t.parent,t.container.parent;t.insetContainer.parent.removeChild(t.insetContainer),this.widgetChildren.splice(i,1),t.parent=null}}},D.prototype.makeDraggable=function(){return this.draggable=!0,this.initialized&&this.initDraggable(),this},D.prototype.clearDraggable=function(){this.dragInitialized&&(this.dragInitialized=!1,this.eventBroker.dnd.stopEvent())},D.prototype.initialize=function(){this.initialized||(this.draggable&&this.initDraggable(),this.droppable&&this.initDroppable(),this.initialized=!0)},D.prototype.initDraggable=function(){var t=this;if(!this.dragInitialized){this.dragInitialized=!0;var u=new e.Point,i=new e.Point,n=this.eventBroker.dnd,D=this.insetContainer;n.onDragStart=function(e){var i=r.add(t,e);!t.isDragging&&i&&(t.isDragging=!0,D.interactive=!1,u.copyFrom(D.position),t.emit("draggablestart",e))},n.onDragMove=function(e,n){t.isDragging&&(i.set(u.x+n.x,u.y+n.y),D.x=i.x,D.y=i.y,t.emit("draggablemove",e))},n.onDragEnd=function(e){t.isDragging&&(t.isDragging=!1,r.getItem(t),setTimeout((function(){t.insetContainer.interactive=!0,t.insetContainer.position.copyFrom(u),t.emit("draggableend",e)}),0))}}},D.prototype.makeDroppable=function(){return this.droppable=!0,this.initialized&&this.initDroppable(),this},D.prototype.clearDroppable=function(){this.dropInitialized&&(this.dropInitialized=!1,this.contentContainer.removeListener("mouseup",this.onDrop),this.contentContainer.removeListener("touchend",this.onDrop))},D.prototype.initDroppable=function(){var t=this;if(!this.dropInitialized){this.dropInitialized=!0;var e=this.contentContainer;this.contentContainer.interactive=!0,this.onDrop=function(e){var u=r.getEventItem(e,t.dropGroup);if(u&&u.isDragging){u.isDragging=!1,u.insetContainer.interactive=!0;var i=null!==t.droppableReparent?t.droppableReparent:self;i.container.toLocal(u.container.position,u.container.parent,u),i.container!=u.container.parent&&i.addChild(u)}},e.on("mouseup",this.onDrop),e.on("touchend",this.onDrop)}},D}(e.utils.EventEmitter),p={},f={},g={},E={registrer:function(t,e,u){var i=u||"default",n=p[i];n||(n=p[i]=[]),-1===n.indexOf(t)&&(t._tabIndex=void 0!==e?e:-1,t._tabGroup=n,n.push(t),n.sort((function(t,e){return t._tabIndex<e._tabIndex?-1:t._tabIndex>e._tabIndex?1:0})))},set:function(t){this.blur(),a=t},clear:function(){a=void 0},blur:function(){a&&"function"==typeof a.blur&&a.blur()},fireTab:function(){if(a){var t=a._tabGroup.indexOf(a)+1;t>=a._tabGroup.length&&(t=0),a._tabGroup[t].focus()}},fireNext:function(){if(a){var t=a._tabGroup.indexOf(a)+1;t>=a._tabGroup.length&&(t=a._tabGroup.length-1),a._tabGroup[t].focus()}},firePrev:function(){if(a){var t=a._tabGroup.indexOf(a)-1;t<0&&(t=0),a._tabGroup[t].focus()}},registrerCheckGroup:function(t){var e=t.checkGroup,u=f[e];u||(u=f[e]={}),u[t.value]=t,t.checked&&(g[e]=t.value)},updateCheckGroupSelected:function(t){var e=f[t.checkGroup];for(var u in e){var i=e[u];i!==t&&(i.checked=!1)}g[t.checkGroup]=t.value},getCheckGroupSelectedValue:function(t){return g[t]?g[t]:""},setCheckGroupSelectedValue:function(t,e){var u=f[t];if(u){var i=u[e];i&&(i.checked=!0)}}};(h=t.ALIGN||(t.ALIGN={}))[h.LEFT=0]="LEFT",h[h.TOP=0]="TOP",h[h.MIDDLE=4081]="MIDDLE",h[h.CENTER=4081]="CENTER",h[h.RIGHT=1048561]="RIGHT",h[h.BOTTOM=1048561]="BOTTOM",h[h.NONE=4294967295]="NONE";var m=function(){function t(e,u){void 0===e&&(e=t.WRAP_CONTENT),void 0===u&&(u=t.WRAP_CONTENT),this.width=e,this.height=u,this.markers={}}return Object.defineProperty(t.prototype,"marginLeft",{get:function(){return this._marginLeft||0},set:function(t){this._marginLeft=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginTop",{get:function(){return this._marginTop||0},set:function(t){this._marginTop=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginRight",{get:function(){return this._marginRight||0},set:function(t){this._marginRight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marginBottom",{get:function(){return this._marginBottom||0},set:function(t){this._marginBottom=t},enumerable:!0,configurable:!0}),t.prototype.setMargin=function(t,e,u,i){this._marginLeft=t,this._marginTop=e,this._marginRight=u,this._marginBottom=i},t.FILL_PARENT=4294967281,t.WRAP_CONTENT=4294967282,t.MAX_DIMEN=4294967280,t.DEFAULT=new t,t}(),v=function(e){function u(u,i,n,D,r,o){void 0===r&&(r=t.ALIGN.NONE),void 0===o&&(o=t.ALIGN.NONE);var s=e.call(this,m.WRAP_CONTENT,m.WRAP_CONTENT)||this;return s.anchorLeft=u,s.anchorTop=i,s.anchorBottom=D,s.anchorRight=n,s.horizontalAlign=r,s.verticalAlign=o,s}return n(u,e),u}(m),y=function(t){function u(e,i,n,D,r){void 0===n&&(n=0),void 0===D&&(D=0);var o=t.call(this,e,i)||this;return o.x=n,o.y=D,o.anchor=r||u.DEFAULT_ANCHOR.clone(),o}return n(u,t),u.DEFAULT_ANCHOR=new e.Point(0,0),u.CENTER_ANCHOR=new e.Point(.5,.5),u}(m),_=function(){function e(){}return e.prototype.onAttach=function(t){this.host=t},e.prototype.onDetach=function(){this.host=null},e.prototype.onMeasure=function(e,u,i,n){this._measuredWidth=e,this._measuredHeight=u;for(var D=this.host.widgetChildren,r=0,o=D.length;r<o;r++){var s=D[r],a=s.layoutOptions||m.DEFAULT,h=this.getChildMeasureMode(a.width,i),l=this.getChildMeasureMode(a.height,n),c=Math.abs(a.width)<1?a.width*e:a.width,d=Math.abs(a.height)<1?a.height*u:a.height;s.measure(h===t.MeasureMode.EXACTLY?c:e,l===t.MeasureMode.EXACTLY?d:u,h,l)}this._measuredWidth=this.measureWidthReach(e,i),this._measuredHeight=this.measureHeightReach(u,n),this.measureChildFillers()},e.prototype.getChildMeasureMode=function(e,u){return u===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:e===m.FILL_PARENT||e===m.WRAP_CONTENT?t.MeasureMode.AT_MOST:t.MeasureMode.EXACTLY},e.prototype.measureWidthReach=function(e,u){if(u===t.MeasureMode.EXACTLY)return e;for(var i=this.host.widgetChildren,n=0,D=0,r=i.length;D<r;D++){var o=i[D],s=o.getMeasuredWidth(),a=o.layoutOptions||m.DEFAULT,h=a.x?a.x:0,l=a.anchor?a.anchor:y.DEFAULT_ANCHOR,c=Math.abs(h)<1?(1-l.x)*s/(1-h):h;n=Math.max(n,c)}return u===t.MeasureMode.AT_MOST&&(n=Math.min(e,n)),n},e.prototype.measureHeightReach=function(e,u){if(u===t.MeasureMode.EXACTLY)return e;for(var i=this.host.widgetChildren,n=0,D=0,r=i.length;D<r;D++){var o=i[D],s=o.getMeasuredHeight(),a=o.layoutOptions||m.DEFAULT,h=a.y?a.y:0,l=a.anchor?a.anchor:y.DEFAULT_ANCHOR,c=Math.abs(h)<1?(1-l.y)*s/(1-h):h;n=Math.max(n,c)}return u===t.MeasureMode.AT_MOST&&(n=Math.min(e,n)),n},e.prototype.measureChildFillers=function(){for(var e=this.host.widgetChildren,u=0,i=e.length;u<i;u++){var n=e[u],D=n.layoutOptions||m.DEFAULT;if(D.width===m.FILL_PARENT||D.height===m.FILL_PARENT){var r=D.width===m.FILL_PARENT?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,o=D.height===m.FILL_PARENT?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST;n.measure(this._measuredWidth,this._measuredHeight,r,o)}}},e.prototype.onLayout=function(){for(var t=this.host,e=t.width,u=t.height,i=t.widgetChildren,n=0,D=i.length;n<D;n++){var r=i[n],o=r.layoutOptions||m.DEFAULT,s=o.x?o.x:0,a=o.y?o.y:0;Math.abs(s)<1&&(s*=e),Math.abs(a)<1&&(a*=u);var h=o.anchor||y.DEFAULT_ANCHOR,l=s-h.x*r.getMeasuredWidth(),c=a-h.y*r.getMeasuredHeight();r.layout(l,c,l+r.getMeasuredWidth(),c+r.getMeasuredHeight())}},e.prototype.getMeasuredWidth=function(){return this._measuredWidth},e.prototype.getMeasuredHeight=function(){return this._measuredHeight},e}(),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.useLayout=function(t){this.layoutMgr&&this.layoutMgr.onDetach(),this.layoutMgr=t,t&&this.layoutMgr.onAttach(this)},e.prototype.useDefaultLayout=function(){this.useLayout(new _)},e.prototype.measure=function(e,u,i,n){t.prototype.measure.call(this,e,u,i,n),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onMeasure(e,u,i,n),this._measuredWidth=Math.max(this.measuredWidth,this.layoutMgr.getMeasuredWidth()),this._measuredHeight=Math.max(this.measuredHeight,this.layoutMgr.getMeasuredHeight()))},e.prototype.layout=function(e,u,i,n,D){void 0===D&&(D=!0),t.prototype.layout.call(this,e,u,i,n,D),0!==this.widgetChildren.length&&(this.layoutMgr||this.useDefaultLayout(),this.layoutMgr.onLayout())},e}(F),B=function(t){function e(e){void 0===e&&(e={});var u=t.call(this)||this;u.keyDownEvent=function(t){9===t.which?u._useTab&&(E.fireTab(),t.preventDefault()):38===t.which?u._usePrev&&(E.firePrev(),t.preventDefault()):40===t.which&&u._useNext&&(E.fireNext(),t.preventDefault()),u.emit("keydown")},u.documentMouseDown=function(){u.__down||u.blur()},u.bindEvents=function(){null!==u.stage&&u.stage.on("pointerdown",u.documentMouseDown),document.addEventListener("keydown",u.keyDownEvent)},u.clearEvents=function(){null!==u.stage&&u.stage.off("pointerdown",u.documentMouseDown),document.removeEventListener("keydown",u.keyDownEvent)},e.background&&t.prototype.setBackground.call(u,e.background);var i=e.tabIndex,n=e.tabGroup;return u._focused=!1,u._useTab=u._usePrev=u._useNext=!0,u.interactive=!0,E.registrer(u,i||0,n||0),u.insetContainer.on("pointerdown",(function(){u.focus(),u.__down=!0})),u.insetContainer.on("pointerup",(function(){u.__down=!1})),u.insetContainer.on("pointerupoutside",(function(){u.__down=!1})),u}return n(e,t),e.prototype.blur=function(){this._focused&&(E.clear(),this._focused=!1,this.clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))},e.prototype.focus=function(){this._focused||(this._focused=!0,this.bindEvents(),E.set(this),this.emit("focusChanged",!0),this.emit("focus"))},e}(w),b=function(t){function u(u,i){var n=t.call(this)||this;return n.textDisplay=new e.Text(u,i),n.contentContainer.addChild(n.textDisplay),n}return n(u,t),u.prototype.update=function(){null!==this.tint&&(this.textDisplay.tint=this.tint),null!==this.blendMode&&(this.textDisplay.blendMode=this.blendMode)},Object.defineProperty(u.prototype,"value",{get:function(){return this.textDisplay.text},set:function(t){this.textDisplay.text=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"text",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),u}(F),x=function(t){function u(u){var i=t.call(this,u)||this;return i.isHover=!1,"string"==typeof u.text&&(u.text=new b(u.text,new e.TextStyle)),i.textWidget=u.text.setLayoutOptions(new y(m.WRAP_CONTENT,m.WRAP_CONTENT,.5,.5,y.CENTER_ANCHOR)),i.textWidget&&i.addChild(i.textWidget),i.contentContainer.buttonMode=!0,i.setupClick(),i}return n(u,t),u.prototype.setupClick=function(){var u=this,i=new c(this);i.onHover=function(t,e){u.isHover=e,u.emit("hover",e)},i.onPress=function(t,e){e&&(u.focus(),t.data.originalEvent.preventDefault()),u.emit("press",e)},i.onClick=function(t){u.click()},this.click=function(){u.emit("click")},this.focus=function(){u._focused||B.prototype.focus.call(u)},this.blur=function(){u._focused&&B.prototype.blur.call(u)},this.initialize=function(){t.prototype.initialize.call(u),u.contentContainer.interactiveChildren=!1,setTimeout((function(){var t=u.contentContainer.getLocalBounds();u.contentContainer.hitArea=new e.Rectangle(t.x<0?t.x:0,t.y<0?t.y:0,Math.max(t.x+t.width+(t.x<0?-t.x:0),u._width),Math.max(t.y+t.height+(t.y<0?-t.y:0),u._height))}),20)}},u.prototype.update=function(){},Object.defineProperty(u.prototype,"value",{get:function(){return this.textWidget?this.textWidget.text:""},set:function(t){this.textWidget&&(this.textWidget.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"text",{get:function(){return this.textWidget},set:function(t){this.value=t},enumerable:!0,configurable:!0}),u}(B),M=function(t){function u(){var u=t.call(this)||this;return u.hitArea=new e.Rectangle,u.insetContainer.hitArea=u.hitArea,u}return n(u,t),u.prototype.update=function(){},u.prototype.layout=function(e,u,i,n,D){t.prototype.layout.call(this,e,u,i,n,D),this.hitArea.width=this.width,this.hitArea.height=this.height},u}(w),A=function(t){function e(e){var u=t.call(this,e)||this;return u.change=function(t){u.checkmark&&(u.checkmark.alpha=t?1:0)},u.click=function(){u.emit("click"),null!==u.checkGroup&&u.checked||(u.checked=!u.checked,u.emit("changed",u.checked))},u.focus=function(){u._focused||t.prototype.focus.call(u)},u.blur=function(){u._focused&&t.prototype.blur.call(u)},u._checked=void 0!==e.checked&&e.checked,u._value=e.value||"",u.checkGroup=e.checkgroup||null,u.checkmark=new M,u.checkmark.contentContainer.addChild(e.checkmark),u.checkmark.setLayoutOptions(new y(m.WRAP_CONTENT,m.WRAP_CONTENT,.5,.5,y.CENTER_ANCHOR)),u.checkmark.alpha=u._checked?1:0,u.addChild(u.checkmark),u.contentContainer.buttonMode=!0,null!==u.checkGroup&&E.registrerCheckGroup(u),u}return n(e,t),e.prototype.update=function(){},Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this._checked&&(null!==this.checkGroup&&t&&E.updateCheckGroupSelected(this),this._checked=t,this.change(t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){this._value=t,this.checked&&E.updateCheckGroupSelected(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValue",{get:function(){return E.getCheckGroupSelectedValue(this.checkGroup)},set:function(t){E.setCheckGroupSelectedValue(this.checkGroup,t)},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){var e=this;t.prototype.initialize.call(this);var u=this.eventBroker.click;u.onHover=function(t,u){e.emit("hover",u)},u.onPress=function(t,u){u&&(e.focus(),t.data.originalEvent.preventDefault()),e.emit("press",u)},u.onClick=function(){e.click()}},e}(B);function T(t){this.respectDirty=!0,this._parent=t||null,this._scale=1,this._align="left",this._fontFamily="Arial",this._fontSize=26,this._fontWeight="normal",this._fontStyle="normal",this._letterSpacing=0,this._lineHeight=0,this._verticalAlign=0,this._rotation=0,this._skew=0,this._tint="#FFFFFF",this._fill="#FFFFFF",this._shadow="",this._stroke=0,this._strokeFill="",this._strokeShadow="",this._wrap=!0,this._breakWords=!1,this._overflowX="visible",this._overflowY="visible",this._ellipsis=!1;let e=null;this.ellipsisSize=function(t){return this.ellipsis?(null===e&&(e=3*(t.getCharObject(".",this).width+this.letterSpacing)),e):0}}function I(){this.style=null,this.data=null,this.space=!1,this.newline=!1,this.emoji=!1,this.charcode=0,this.value="",this.wordIndex=-1,this.lineIndex=-1}T.prototype.clone=function(){const t=new T;return t.merge(this),t},T.prototype.merge=function(t){if("object"==typeof t){this.respectDirty=!1;for(const e in t){"function"!=typeof t[e]&&"respectDirty"!==e&&"_parent"!==e&&(this[e]=t[e])}this.respectDirty=!0,this._dirty=!0}},T.prototype.ctxKey=function(t){return[t,this.fill,this.shadow,this.stroke,this.strokeFill,this.strokeShadow].join("|")},T.prototype.ctxFont=function(){const t=`${Math.min(200,Math.max(1,this.fontSize||26))}px `;return("bold"===this.fontWeight?`${this.fontWeight} `:"")+("italic"===this.fontStyle||"oblique"===this.fontStyle?`${this.fontStyle} `:"")+t+this.fontFamily},T.prototype.constructor=T,Object.defineProperties(T.prototype,{_dirty:{set(t){this.respectDirty&&null!==this._parent&&(this._parent.dirtyStyle=t,this._parent.update())}},scale:{get(){return this._scale},set(t){t!==this._scale&&(this._scale=t,this._dirty=!0)}},align:{get(){return this._align},set(t){t!==this._align&&(this._align=t,this._dirty=!0)}},fontFamily:{get(){return this._fontFamily},set(t){t!==this._fontFamily&&(this._fontFamily=t,this._dirty=!0)}},fontSize:{get(){return this._fontSize},set(t){t!==this._fontSize&&(this._fontSize=t,this._dirty=!0)}},fontWeight:{get(){return this._fontWeight},set(t){t!==this._fontWeight&&(this._fontWeight=t,this._dirty=!0)}},fontStyle:{get(){return this._fontStyle},set(t){t!==this._fontStyle&&(this._fontStyle=t,this._dirty=!0)}},letterSpacing:{get(){return this._letterSpacing},set(t){t!==this._letterSpacing&&(this._letterSpacing=t,this._dirty=!0)}},lineHeight:{get(){return this._lineHeight},set(t){t!==this._lineHeight&&(this._lineHeight=t,this._dirty=!0)}},verticalAlign:{get(){return this._verticalAlign},set(t){t!==this._verticalAlign&&(this._verticalAlign=t,this._dirty=!0)}},rotation:{get(){return this._rotation},set(t){t!==this._rotation&&(this._rotation=t,this._dirty=!0)}},skew:{get(){return this._skew},set(t){t!==this._skew&&(this._skew=t,this._dirty=!0)}},tint:{get(){return this._tint},set(t){t!==this._tint&&(this._tint=t,this._dirty=!0)}},fill:{get(){return this._fill},set(t){t!==this._fill&&(this._fill=t,this._dirty=!0)}},shadow:{get(){return this._shadow},set(t){t!==this._shadow&&(this._shadow=t,this._dirty=!0)}},stroke:{get(){return this._stroke},set(t){t!==this._stroke&&(this._stroke=t,this._dirty=!0)}},strokeFill:{get(){return this._strokeFill},set(t){t!==this._strokeFill&&(this._strokeFill=t,this._dirty=!0)}},strokeShadow:{get(){return this._strokeShadow},set(t){t!==this._strokeShadow&&(this._strokeShadow=t,this._dirty=!0)}},wrap:{get(){return this._wrap},set(t){t!==this._wrap&&(this._wrap=t,this._dirty=!0)}},breakWords:{get(){return this._breakWords},set(t){t!==this._breakWords&&(this._breakWords=t,this._dirty=!0)}},overflowX:{get(){return this._overflowX},set(t){t!==this._overflowX&&(this._overflowX=t,this._dirty=!0)}},overflowY:{get(){return this._overflowY},set(t){t!==this._overflowY&&(this._overflowY=t,this._dirty=!0)}},ellipsis:{get(){return this._ellipsis},set(t){t!==this._ellipsis&&(this._ellipsis=t,this._dirty=!0)}}}),I.prototype.constructor=I;let k=null;function L(t,e){e=e||{},F.call(this,e.width||0,e.height||0),null===k&&(k=new P(1));const u=!e.width,i=!e.height,n=this._style=new T(this);n.merge(e.style);const D=this.chars=[],r=[],o=[],s=new PIXI.Container;this.container.addChild(s),this._inputText=t;let a=0,h=0;this.dirtyText=!0,this.dirtyStyle=!0,this.dirtyRender=!0;const l=[],c=[],d=[],C=[];let p=0,f=0;const g=[],E=[];this.render=function(){let t,e,n=0,D=0,a=-1;if(o.length>p)for(t=p;t<o.length;t++){const e=o[t];e&&(e.visible=!1)}let h=0,F=0,f=0;for(t=0;t<p;t++){if(e=r[t],a!==e.lineIndex){switch(a=e.lineIndex,h=l[a],F=c[a],n+=F,C[a]){case"right":D=this._width-h;break;case"center":D=.5*(this._width-h);break;default:D=0}f=Math.max(h,f)}if(!e.data.texture||e.space||e.newline){o[t]&&(o[t].visible=!1);continue}const u=e.data.texture;let i=o[t];i?i.texture=u:(i=o[t]=new PIXI.Sprite(u),i.anchor.set(.5)),i.visible=!0,i.x=e.x+D+.5*u.width,i.y=e.y+n-.5*u.height-(F-d[a]),i.tint=e.emoji?16777215:H(e.style.tint,16777215),i.rotation=N(e.style.rotation,0),i.skew.x=N(e.style.skew,0),i.parent||s.addChild(i)}u&&(this.width=f),i&&(this.height=n)},this.prepareForRender=function(){const t=new PIXI.Point;let e,i,o=0,s=0,a=0,h=0,F=n.align,m=-1,v=0,y=0,_=!1,w=0,B=!1,b=!1;for(i=0;i<f;i++){const p=D[i],x=D[i-1];if(e=p.style,s=Math.max(s,n.lineHeight||e.lineHeight||p.data.lineHeight),"visible"!==e.overflowY&&s+y>this._height&&"hidden"===e.overflowY)break;p.newline&&(b=!1),p.space||p.newline?o++:p.wordIndex=o,a=Math.max(a,e.fontSize),p.lineIndex=h,e.align!==n.align&&(F=e.align),p.space&&(m=i,v=t.x);const M=Math.round(p.data.width)+N(e.letterSpacing,0);if(!u&&!_&&!p.newline&&t.x+M>this._width){if(e.wrap)if(p.space)_=!0;else{if(-1!==m){w-=i-m,i=m-1,m=-1,t.x=v,_=!0;continue}if(e.breakWords){x&&(t.x-=x.style.letterSpacing,t.x-=x.data.width),i-=2,w--,_=!0;continue}}if("hidden"==e.overflowX&&!_&&(b=!0,e.ellipsis&&!B)){B=!0;let u=g[h];u||(u=g[h]=[new I,new I,new I]);for(let i=0;i<3;i++){const n=u[i];n.value=".",n.data=k.getCharObject(n.value,e),n.style=e,n.x=t.x+p.data.xOffset,n.y=parseFloat(e.verticalAlign)+n.data.yOffset,n.lineIndex=h,t.x+=Math.round(n.data.width)+N(e.letterSpacing,0),r[w]=n,w++}}}b||(p.x=t.x+p.data.xOffset,p.y=parseFloat(e.verticalAlign)+p.data.yOffset,t.x+=M,r[w]=p,w++),(_||p.newline||i===f-1)&&(x&&(t.x-=x.style.letterSpacing),p.space&&(t.x-=p.data.width,t.x-=N(e.letterSpacing,0)),y+=s,E[h]=B,l[h]=t.x,c[h]=s,d[h]=a,C[h]=F,s=t.x=v=a=0,F=n.align,m=-1,h++,_=b=B=!1)}p=w};const m=["</i>","</b>","</font>","</center>"];this.processInputText=function(){const t=[n];let u=0,i=0;const r=Array.from(this._inputText);for(let n=0;n<r.length;n++){style=t[t.length-1];let o=r[n];o.charCodeAt(0);let s=!1,a=!1,h=!1;if(/(?:\r\n|\r|\n)/.test(o))s=!0;else if(/(\s)/.test(o))a=!0;else if(e.allowTags&&"<"===o){let e=this._inputText.substring(i);e=e.slice(0,e.indexOf(">")+1);let u=!0;if(e.length){if("<i>"===e)style=style.clone(),style.fontStyle="italic",t.push(style);else if("<b>"===e)style=style.clone(),style.fontWeight="bold",t.push(style);else if("<center>"===e)style=style.clone(),style.align="center",t.push(style);else if(-1!==m.indexOf(e))t.length>1&&t.splice(t.length-1,1);else if(e.startsWith("<font ")){const u=/(\w+)\s*=\s*((["'])(.*?)\3|([^>\s]*)(?=\s|\/>))(?=[^<]*>)/g;let i=u.exec(e);if(null!==i){for(style=style.clone();null!==i;){switch(i[1]){case"family":i[1]="fontFamily";break;case"size":i[1]="fontSize";break;case"weight":i[1]="fontWeight";break;case"style":i[1]="fontStyle";break;case"valign":i[1]="verticalAlign";break;case"spacing":i[1]="letterSpacing";break;case"color":i[1]="tint"}style[i[1]]=i[4],i=u.exec(e)}t.push(style)}}else u=!1;if(u){i+=e.length,n+=e.length-1;continue}}}else{let t=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g.exec(o);if(null!==t){for(n--,o="";null!==t&&o!==t[0];)n++,o=t[0],t=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g.exec(o+r[n+1]);h=!0}}let l=D[u];l||(l=new I,D[u]=l),l.style=style,h&&(l.style=l.style.clone(),l.style.fontFamily=L.settings.defaultEmojiFont),l.data=k.getCharObject(o,l.style),l.value=o,l.space=a,l.newline=s,l.emoji=h,u++,i+=o.length}f=u},this.lazyUpdate=null;const v=this;this.update=function(){null===v.lazyUpdate&&(v.lazyUpdate=setTimeout((function(){const t=!u&&(v._width!=a||v._height!=h||v.dirtyText);(v.dirtyText||v.dirtyStyle)&&(v.dirtyText=v.dirtyStyle=!1,v.dirtyRender=!0,v.processInputText()),(t||v.dirtyRender)&&(v.dirtyRender=!1,a=v._width,h=v.height,v.prepareForRender(),v.render()),v.lazyUpdate=null}),0))}}L.prototype=Object.create(F.prototype),L.prototype.constructor=L,L.settings={debugSpriteSheet:!1,defaultEmojiFont:"Segoe UI Emoji"},Object.defineProperties(L.prototype,{value:{get(){return this._inputText},set(t){t!==this._inputText&&(this._inputText=t,this.dirtyText=!0,this.update())}},text:{get(){return this.value},set(t){this.value=t}},style:{get(){return this._style},set(t){const e=new T(this);e.merge(t),this._style.merge(e),this.dirtyStyle=!0,this.update()}}});const S=document.createElement("canvas"),O=S.getContext("2d");S.width=100,S.height=100;var P=function(t){let e,u,i,n,D,r,o,s=[];var a=function(t,e){const u=this.children=[];this.rect=new PIXI.Rectangle(0,0,t||0,e||0),this.data=null,this.insert=function(t,e,i){if(u.length>0){const n=u[0].insert(t,e,i);return null!==n?n:u[1].insert(t,e,i)}if(null!==this.data)return null;if(t>this.rect.width||e>this.rect.height)return null;if(t==this.rect.width&&e==this.rect.height)return this.data=i,i.frame.x=this.rect.x,i.frame.y=this.rect.y,this;return u.push(new a),u.push(new a),this.rect.width-t>this.rect.height-e?(u[0].rect=new PIXI.Rectangle(this.rect.x,this.rect.y,t,this.rect.height),u[1].rect=new PIXI.Rectangle(this.rect.x+t,this.rect.y,this.rect.width-t,this.rect.height)):(u[0].rect=new PIXI.Rectangle(this.rect.x,this.rect.y,this.rect.width,e),u[1].rect=new PIXI.Rectangle(this.rect.x,this.rect.y+e,this.rect.width,this.rect.height-e)),u[0].insert(t,e,i)}};const h=function(){e=document.createElement("canvas"),u=e.getContext("2d"),o=256,e.width=e.height=o,r=new a(o,o),i=[],n=PIXI.BaseTexture.fromCanvas(e),n.mipmap=!1,n.resolution=1,n.update(),L.settings.debugSpriteSheet&&(e.className="DynamicText_SpriteSheet",document.body.appendChild(e))};this.fontFamilyCache={};const l=function(t,e){e&&n.update();for(let e=0;e<t.length;e++)c(t[e])};var c=function(t){u.drawImage(t._cache,t.frame.x,t.frame.y),t.texture.frame=t.frame,t.texture.update()};this.getCharObject=function(t,u){const i=u.ctxFont();let r=this.fontFamilyCache[i];r||(r={},this.fontFamilyCache[i]=r);const o=u.ctxKey(t);let a=r[o];if(!a){const h=p(t,u);h.rect&&(e.width<h.rect.width||e.height<h.rect.height)&&(e.width=e.height=Math.max(h.rect.width,h.rect.height),n.update()),a={metrics:h,font:i,value:t,frame:h.rect,baseTexture:h.rect?n:null,xOffset:h.bounds?h.bounds.minx:0,yOffset:h.descent||0,width:h.width||0,lineHeight:h.lineHeight||0,_cache:h.canvas,texture:h.rect?new PIXI.Texture(n,h.rect):null},r[o]=a,h.rect&&(s.push(a),void 0===D&&(D=setTimeout((function(){C(),D=void 0}),0)))}return a};const d=function(t,e){return t.frame.height<e.frame.height?1:t.frame.height>e.frame.height?-1:t.frame.width<e.frame.width?1:t.frame.width>e.frame.width?-1:0};var C=function(){s.sort(d);let e=!1,u=!1;for(let D=0;D<s.length;D++){const a=s[D];null===r.insert(a.frame.width+t,a.frame.height+t,a)?(D--,o<2048?(e=!0,F(2*o)):(l(i,e),h(),u=!0,e=!1)):(u&&(a.texture.baseTexture=n),i.push(a))}l(e||u?i:s,e),s=[]},F=function(u){e.width=e.height=o=u,r=new a(u,u),i.sort(d);for(let e=0;e<i.length;e++){const u=i[e];r.insert(u.frame.width+t,u.frame.height+t,u)}},p=function(t,e){const u=Math.max(1,(i=e.fontSize,n=26,isNaN(i)?n:parseInt(i)));var i,n;const D=1.25*u,r={fontSize:u,lineHeight:D,width:0};if(!t||/(?:\r\n|\r|\n)/.test(t))return r;const o=e.ctxFont();if(O.font=o,r.width=Math.round(O.measureText(t).width),/(\s)/.test(t))return r;const s=Math.round(.7*u),a=Math.max(5,Math.round(.7*u));S.width=Math.ceil(r.width)+2*a,S.height=1.5*u;const h=S.width,l=S.height,c=l/2+.5*s;O.font=o,O.clearRect(0,0,h,l),O.save();const d=function(t){const e=t.trim().split(" ");return{color:R(e[0],"#000000"),alpha:N(e[1],.5),xOffset:N(e[2],3),yOffset:N(e[3],3),blur:N(e[4],5)}},C=function(t){const e=t.trim().split(" "),u=R(e[0],"#FFFFFF"),i=N(e[1],1);return{color:u,alpha:i,position:N(e[2],-1),rgba:j(u,i)}},F=function(t){const e=t.split(",").filter((function(t){return""!==t}));let i;for(i=0;i<e.length;i++)e[i]=C(e[i]);switch(e.length){case 0:return"white";case 1:return e[0].rgba?e[0].rgba:e[0].color||"#FFFFFF";default:try{const t=c+D-u,n=O.createLinearGradient(0,t-u,0,t);for(i=0;i<e.length;i++)n.addColorStop(-1!==e[i].position?e[i].position:i/(e.length-1),e[i].rgba||e[i].color);return n}catch(t){return"#FFFFFF"}}},p=function(u,i){const n=u.trim().split(",").filter((function(t){return""!==t}));if(n.length){for(let u=0;u<n.length;u++){const D=d(n[u]);O.globalAlpha=D.alpha,O.shadowColor=D.color,O.shadowOffsetX=D.xOffset+h,O.shadowOffsetY=D.yOffset,O.shadowBlur=D.blur,i?(O.lineWidth=e.stroke,O.strokeText(t,a-h,c)):O.fillText(t,a-h,c)}O.restore()}};e.shadow.length&&p(e.shadow,!1),e.stroke&&e.strokeShadow.length&&p(e.strokeShadow,!0),O.fillStyle=F(R(e.fill,"#000000")),O.fillText(t,a,c),O.restore(),e.stroke&&(O.strokeStyle=F(R(e.strokeFill,"#000000")),O.lineWidth=e.stroke,O.strokeText(t,a,c),O.restore());const f=O.getImageData(0,0,h,l).data;let g=3;const E=4*h,m=f.length;for(;g<m&&!f[g];)g+=4;const v=g/E|0;if(g<m){for(g=m-1;g>0&&!f[g];)g-=4;const t=g/E|0;for(g=3;g<m&&!f[g];)g+=E,g>=m&&(g=g-m+4);const e=g%E/4|0;let u=1;for(g=m-1;g>=0&&!f[g];)g-=E,g<0&&(g=m-1-4*u++);const i=g%E/4+1|0;r.ascent=Math.round(c-v),r.descent=Math.round(t-c),r.height=1+Math.round(t-v),r.bounds={minx:e-a,maxx:i-a,miny:0,maxy:t-v},r.rect={x:r.bounds.minx,y:-r.ascent-2,width:r.bounds.maxx-r.bounds.minx+2,height:r.ascent+r.descent+4},r.canvas=document.createElement("canvas"),r.canvas.width=r.rect.width,r.canvas.height=r.rect.height,r.canvas.getContext("2d").drawImage(S,-a-r.rect.x,-c-r.rect.y),r.rect.x=r.rect.y=0}return r};h()};function N(t,e){return isNaN(t)?e:parseFloat(t)}function R(t,e){return"string"==typeof t&&t.length?t:e}function H(t,e){if("number"==typeof t)return t;const u=parseInt(t.replace("#","0x"));return isNaN(u)?e:u}function j(t,e){const u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e=N(e,1),!!u&&`rgba(${parseInt(u[1],16)},${parseInt(u[2],16)},${parseInt(u[3],16)},${e})`}function W(){this.getPosition=function(t){return t}}function U(t,e,u){const i=t,n=e&&u?3:u?1:2;this.getPosition=function(t){let e=1===n?1-t:2===n?t:t<.5?2*t:2*(1-t);return 1===i?e*=e:2===i?e*=e*e:3===i?e*=e*e*e:4===i&&(e*=e*e*e*e),1===n?1-e:2===n?e:t<.5?e/2:1-e/2}}W.prototype.constructor=W,U.prototype=Object.create(W.prototype),U.prototype.constructor=U;const X={},G=.5*Math.PI;function z(t){const e=Object.create(W.prototype);return e.getPosition=t,e}function V(t,e,u){return{easeIn:t,easeOut:e,easeInOut:u}}X.Linear=new W,X.Power0={easeNone:X.Linear},X.Power1=X.Quad=V(new U(1,1,0),new U(1,0,1),new U(1,1,1)),X.Power2=X.Cubic=V(new U(2,1,0),new U(2,0,1),new U(2,1,1)),X.Power3=X.Quart=V(new U(3,1,0),new U(3,0,1),new U(3,1,1)),X.Power4=X.Quint=V(new U(4,1,0),new U(4,0,1),new U(4,1,1)),X.Bounce={BounceIn:z((function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)})),BounceOut:z((function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375})),BounceInOut:z((function(t){const e=t<.5;return(t=e?1-2*t:2*t-1)<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5}))},X.Circ={CircIn:z((function(t){return-(Math.sqrt(1-t*t)-1)})),CircOut:z((function(t){return Math.sqrt(1-(t-=1)*t)})),CircInOut:z((function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}))},X.Expo={ExpoIn:z((function(t){return Math.pow(2,10*(t-1))-.001})),ExpoOut:z((function(t){return 1-Math.pow(2,-10*t)})),ExpoInOut:z((function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))}))},X.Sine={SineIn:z((function(t){return 1-Math.cos(t*G)})),SineOut:z((function(t){return Math.sin(t*G)})),SineInOut:z((function(t){return-.5*(Math.cos(Math.PI*t)-1)}))};var Y=function(){function t(t,u){var i=this;this.onMouseScrollImpl=function(t){var e=i,u=e.obj,n=e.preventDefault,D=e.delta;n&&event.preventDefault(),void 0!==t.deltaX?D.set(t.deltaX,t.deltaY):D.set(1===t.axis?60*t.detail:0,2===t.axis?60*t.detail:0),i.onMouseScroll.call(u,event,D)},this.onHoverImpl=function(t){var e=i.onMouseScrollImpl;i.bound||(document.addEventListener("mousewheel",e,!1),document.addEventListener("DOMMouseScroll",e,!1),i.bound=!0)},this.onMouseOutImpl=function(t){var e=i.onMouseScrollImpl;i.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),i.bound=!1)},this.onMouseScroll=function(t,e){},this.bound=!1,this.delta=new e.Point,this.obj=t,this.preventDefault=u,this.startEvent()}return t.prototype.stopEvent=function(){var t=this.obj,e=this.onMouseScrollImpl,u=this.onHoverImpl,i=this.onMouseOutImpl;this.bound&&(document.removeEventListener("mousewheel",e),document.removeEventListener("DOMMouseScroll",e),this.bound=!1),t.contentContainer.removeListener("mouseover",u),t.contentContainer.removeListener("mouseout",i)},t.prototype.startEvent=function(){var t=this.obj,e=this.onHoverImpl,u=this.onMouseOutImpl;t.contentContainer.on("mouseover",e),t.contentContainer.on("mouseout",u)},t}();const K={ClickManager:c,DragManager:d,InputController:E,MouseScrollEvent:Y};var $={Lerp:function(t,e,u){return u>1?u=1:u<0&&(u=0),t+(e-t)*u},Round:function(t,e){var u=Math.pow(10,e);return Math.round(t*u)/u},componentToHex:function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},rgbToHex:function(t,e,u){return"#"+this.componentToHex(t)+this.componentToHex(e)+this.componentToHex(u)},rgbToNumber:function(t,e,u){return 65536*t+256*e+u},numberToRgb:function(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}},hexToRgb:function(t){if(null===t&&(t=16777215),!isNaN(t))return this.numberToRgb(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,u,i){return e+e+u+u+i+i}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},q=[],Q=[],J={},Z={},tt=1,et=function(t){this.object=t,this.tweens={},this.active=!1,this.onUpdate=null},ut=function(){function t(){this._ready=!1,this.obj=null,this.parent=null,this.key="",this.time=0,this.callback=null,this.currentTime=0}return t.prototype.remove=function(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,this.parent.onUpdate=null,delete Z[this.obj._tweenObjectId])},t.prototype.set=function(t,e,u){this.obj=t.object,this.obj._currentCallbackID?this.obj._currentCallbackID++:this.obj._currentCallbackID=1,this.time=u,this.parent=t,this.callback=e,this._ready=!1,this.key="cb_"+this.obj._currentCallbackID,this.currentTime=0,this.parent.active||(this.parent.active=!0,Z[this.obj._tweenObjectId]=this.parent)},t.prototype.update=function(t){this.currentTime+=t,this.currentTime>=this.time&&(this.remove(),this.callback.call(this.parent))},t}(),it=function(){function t(){this._ready=!1,this.parent=null,this.obj=null,this.key="",this.from=0,this.to=0,this.time=0,this.ease=0,this.currentTime=0,this.t=0,this.isColor=!1}return t.prototype.remove=function(){this._ready=!0,delete this.parent.tweens[this.key],Object.keys(this.parent.tweens).length||(this.parent.active=!1,delete Z[this.obj._tweenObjectId])},t.prototype.set=function(t,e,u,i,n,D){this.isColor=isNaN(u)&&"#"===u[0]||isNaN(i)&&"#"===i[0],this.parent=t,this.obj=t.object,this.key=e,this.surfix=function(t){if(isNaN(t)&&-1!==t.indexOf("%"))return"%"}(i),this.isColor?(this.to=$.hexToRgb(i),this.from=$.hexToRgb(u),this.currentColor={r:this.from.r,g:this.from.g,b:this.from.b}):(this.to=function(t){if(!isNaN(t))return t;if(isNaN(t)&&-1!==t.indexOf("%"))return parseFloat(t.replace("%",""))}(i),this.from=function(t,e,u,i){if(!isNaN(t)&&!isNaN(e))return t;if(isNaN(t)&&isNaN(e)&&-1!==t.indexOf("%")&&-1!==e.indexOf("%"))return parseFloat(t.replace("%",""));if(isNaN(t)&&!isNaN(e)&&-1!==t.indexOf("%"))return-1!==nt.indexOf(i)?u.parent._width*(.01*parseFloat(t.replace("%",""))):-1!==Dt.indexOf(i)?u.parent._height*(.01*parseFloat(t.replace("%",""))):0;if(!isNaN(t)&&isNaN(e)&&-1!==e.indexOf("%"))return-1!==nt.indexOf(i)?t/u.parent._width*100:-1!==Dt.indexOf(i)?t/u.parent._height*100:0;return 0}(u,i,this.obj,e)),this.time=n,this.currentTime=0,this.ease=D,this._ready=!1,this.parent.active||(this.parent.active=!0,Z[this.obj._tweenObjectId]=this.parent)},t.prototype.update=function(t){if(this.currentTime+=t,this.t=Math.min(this.currentTime,this.time)/this.time,this.ease&&(this.t=this.ease.getPosition(this.t)),this.isColor)this.currentColor.r=Math.round($.Lerp(this.from.r,this.to.r,this.t)),this.currentColor.g=Math.round($.Lerp(this.from.g,this.to.g,this.t)),this.currentColor.b=Math.round($.Lerp(this.from.b,this.to.b,this.t)),this.obj[this.key]=$.rgbToNumber(this.currentColor.r,this.currentColor.g,this.currentColor.b);else{var e=$.Lerp(this.from,this.to,this.t);this.obj[this.key]=this.surfix?e+this.surfix:e}this.currentTime>=this.time&&this.remove()},t}(),nt=["width","minWidth","maxWidth","anchorLeft","anchorRight","left","right","x"],Dt=["height","minHeight","maxHeight","anchorTop","anchorBottom","top","bottom","y"];function rt(t){t._tweenObjectId||(t._tweenObjectId=tt,tt++);var e=J[t._tweenObjectId];return e||(e=J[t._tweenObjectId]=new et(t)),e}function ot(){for(var t=0;t<q.length;t++)if(q[t]._ready)return q[t];var e=new it;return q.push(e),e}function at(){for(var t=0;t<Q.length;t++)if(Q[t]._ready)return Q[t];var e=new ut;return Q.push(e),e}var ht={to:function(t,e,u,i){var n=rt(t),D=null;for(var r in u)if("onComplete"!==r)if("onUpdate"!==r){if(e){var o=u[r]===t[r];if(void 0===t[r])continue;o?n.tweens[r]&&n.tweens[r].remove():(n.tweens[r]||(n.tweens[r]=ot()),n.tweens[r].set(n,r,t[r],u[r],e,i))}}else D=u[r];else{var s=at();s.set(n,u[r],e),n.tweens[s.key]=s}e?n.onUpdate=D:this.set(t,u)},from:function(t,e,u,i){var n=rt(t),D=null;for(var r in u)if("onComplete"!==r)if("onUpdate"!==r){if(e){var o=u[r]==t[r];if(void 0===t[r])continue;o?n.tweens[r]&&n.tweens[r].remove():(n.tweens[r]||(n.tweens[r]=ot()),n.tweens[r].set(n,r,u[r],t[r],e,i))}}else D=u[r];else{var s=at();s.set(n,u[r],e),n.tweens[s.key]=s}e?n.onUpdate=D:this.set(t,u)},fromTo:function(t,e,u,i,n){var D=rt(t),r=null;for(var o in i)if("onComplete"!==o)if("onUpdate"!==o){if(e){var s=u[o]==i[o];if(void 0===t[o]||void 0===u[o])continue;s?(D.tweens[o]&&D.tweens[o].remove(),t[o]=i[o]):(D.tweens[o]||(D.tweens[o]=ot()),D.tweens[o].set(D,o,u[o],i[o],e,n))}}else r=i[o];else{var a=at();a.set(D,i[o],e),D.tweens[a.key]=a}e?D.onUpdate=r:this.set(t,i)},set:function(t,e){var u=rt(t);for(var i in e)void 0!==t[i]&&(u.tweens[i]&&u.tweens[i].remove(),t[i]=e[i])},_update:function(t){for(var e in Z){var u=Z[e];for(var i in u.tweens)u.tweens[i].update(t);u.onUpdate&&u.onUpdate.call(u.object,t)}}},lt=function(t){function u(e){var u=t.call(this,0,0)||this;return u._amt=0,u._disabled=!1,u.track=e.track,u.handle=e.handle,u.fill=e.fill||null,u._minValue=e.minValue||0,u._maxValue=e.maxValue||100,u.decimals=e.decimals||0,u.vertical=e.vertical||!1,u.onValueChange=e.onValueChange||null,u.onValueChanging=e.onValueChanging||null,u.value=e.value||50,u.handle.pivot=.5,u.addChild(u.track),u.fill&&u.track.addChild(u.fill),u.addChild(u.handle),u.handle.contentContainer.buttonMode=!0,u.vertical?(u.height="100%",u.width=u.track.width,u.track.height="100%",u.handle.horizontalAlign="center",u.fill&&(u.fill.horizontalAlign="center")):(u.width="100%",u.height=u.track.height,u.track.width="100%",u.handle.verticalAlign="middle",u.fill&&(u.fill.verticalAlign="middle")),u}return n(u,t),u.prototype.update=function(t){var e,u;void 0===t&&(t=0),this.vertical?(e=this.handle._height||this.handle.contentContainer.height,u=(this._height-e)*this._amt+.5*e,t?(ht.to(this.handle,.3,{top:u},X.Power2.easeOut),this.fill&&ht.to(this.fill,.3,{height:u},X.Power2.easeOut)):(ht.set(this.handle,{top:u}),this.fill&&ht.set(this.fill,{height:u}))):(e=this.handle._width||this.handle.contentContainer.width,u=(this._width-e)*this._amt+.5*e,t?(ht.to(this.handle,.3,{left:u},X.Power2.easeOut),this.fill&&ht.to(this.fill,.3,{width:u},X.Power2.easeOut)):(ht.set(this.handle,{left:u}),this.fill&&ht.set(this.fill,{width:u})))},u.prototype.initialize=function(){var u=this;t.prototype.initialize.call(this);var i,n=new e.Point,D=0,r=function(){u.emit("change",u.value),u._lastChange!=u.value&&(u._lastChange=u.value,"function"==typeof u.onValueChange&&u.onValueChange(u.value))},o=function(){u.emit("changing",u.value),u._lastChanging!=u.value&&(u._lastChanging=u.value,"function"==typeof u.onValueChanging&&u.onValueChanging(u.value))},s=function(t,e){u.track.contentContainer.toLocal(t,null,n,!0);var i=u.vertical?n.y-.5*u.handle._height:n.x-.5*u.handle._width,D=u.vertical?u._height-u.handle._height:u._width-u.handle._width;u._amt=D?Math.max(0,Math.min(1,i/D)):0,u.update(e),o()},a=new d(this.handle);a.onPress=function(t,e){t.stopPropagation()},a.onDragStart=function(t){D=u._amt,i=u.vertical?u._height-u.handle._height:u._width-u.handle._width},a.onDragMove=function(t,e){u._amt=i?Math.max(0,Math.min(1,D+(u.vertical?e.y:e.x)/i)):0,o(),u.update()},a.onDragEnd=function(){r(),this.update()};var h=new d(this.track);h.onPress=function(t,e){e&&s(t.data.global,!0),t.stopPropagation()},h.onDragMove=function(t){s(t.data.global,!1)},h.onDragEnd=function(){r()}},Object.defineProperty(u.prototype,"value",{get:function(){return $.Round($.Lerp(this._minValue,this._maxValue,this._amt),this.decimals)},set:function(t){this._amt=(Math.max(this._minValue,Math.min(this._maxValue,t))-this._minValue)/(this._maxValue-this._minValue),"function"==typeof this.onValueChange&&this.onValueChange(this.value),"function"==typeof this.onValueChanging&&this.onValueChanging(this.value),this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"minValue",{get:function(){return this._minValue},set:function(t){this._minValue=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxValue",{get:function(){return this._maxValue},set:function(t){this._maxValue=t,this.update()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t!==this._disabled&&(this._disabled=t,this.handle.contentContainer.buttonMode=!t,this.handle.contentContainer.interactive=!t,this.track.contentContainer.interactive=!t)},enumerable:!0,configurable:!0}),u}(F),ct=function(t){function e(e){var u=t.call(this,{track:e.track,handle:e.handle,fill:null,vertical:e.vertical})||this;return u.scrollingContainer=e.scrollingContainer,u.autohide=e.autohide,u._hidden=!1,u}return n(e,t),e.prototype.initialize=function(){var e=this;t.prototype.initialize.call(this),this.decimals=3,this.onValueChanging=function(t){(e.scrollingContainer._height/e.scrollingContainer.innerContainer.height||.001)<1&&e.scrollingContainer.forcePctPosition(e.vertical?"y":"x",e._amt)},this.scrollingContainer._scrollBars.push(this)},e.prototype.alignToContainer=function(){var t,e,u=this.vertical?"y":"x",i=this.vertical?"height":"width",n=this.vertical?"top":"left",D=this.scrollingContainer.innerContainer[i]?-this.scrollingContainer.innerContainer[u]/this.scrollingContainer.innerContainer[i]:0,r=this.scrollingContainer.innerContainer[i]?this.scrollingContainer["_"+i]/this.scrollingContainer.innerContainer[i]:1,o=this.scrollingContainer.innerContainer[i]-this.scrollingContainer["_"+i];this._amt=this.scrollingContainer["_"+i]&&o?-this.scrollingContainer.innerContainer[u]/o:0,r>=1?(e=this["_"+i],this.handle[n]=.5*e,this.toggleHidden(!0)):(e=this["_"+i]*r,this._amt>1?e-=(this["_"+i]-e)*(this._amt-1):this._amt<0&&(e-=(this["_"+i]-e)*-this._amt),t=this._amt<0?.5*e:this._amt>1?this["_"+i]-.5*e:D*this.scrollingContainer["_"+i]+.5*e,this.handle[n]=t,this.toggleHidden(!1)),this.handle[i]=e},e.prototype.toggleHidden=function(t){this.autohide&&(t&&!this._hidden?(ht.to(this,.2,{alpha:0}),this._hidden=!0):!t&&this._hidden&&(ht.to(this,.2,{alpha:1}),this._hidden=!1))},e}(lt),dt=function(t){function e(u){var i=t.call(this)||this;return i._disabled=!0,i._now=0,i.DeltaTime=0,i.Time=performance.now(),i.Ms=0,u&&(i.disabled=!1),e.shared=i,i}return n(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){this._disabled?(this._disabled=!1,e.shared=this,this.update(performance.now(),!0)):this._disabled=!0},enumerable:!0,configurable:!0}),e.prototype.update=function(t){e.shared._now=t,e.shared.Ms=e.shared._now-e.shared.Time,e.shared.Time=e.shared._now,e.shared.DeltaTime=.001*e.shared.Ms,e.shared.emit("update",e.shared.DeltaTime),ht._update(e.shared.DeltaTime),e.shared._disabled||requestAnimationFrame(e.shared.update)},e.on=function(t,u,i){e.shared.on(t,u,i)},e.once=function(t,u,i){e.shared.once(t,u,i)},e.removeListener=function(t,u){e.shared.removeListener(t,u)},e}(e.utils.EventEmitter);dt.shared=new dt(!0);var Ct,Ft=function(t){function u(u){void 0===u&&(u={});var i=t.call(this)||this;return i.forcePctPosition=function(t,e){var u=i.getInnerBounds(),n=i.innerContainer.insetContainer;i.scrollX&&"x"===t&&(n.position[t]=-(u.width-i.width)*e),i.scrollY&&"y"===t&&(n.position[t]=-(u.height-i.height)*e),i.scrollPosition[t]=i.targetPosition[t]=n.position[t]},i.focusPosition=function(t){var e,u=i.getInnerBounds(),n=i.innerContainer.insetContainer;if(i.scrollX){var D=Math.max(0,Math.min(u.width,t.x));D+n.x>i.width?(e=D-i.width,n.x=-e):D+n.x<0&&(e=D+n.x,n.x-=e)}if(i.scrollY){var r=Math.max(0,Math.min(u.height,t.y));r+n.y>i.height?(e=r-i.height,n.y=-e):r+n.y<0&&(e=r+n.y,n.y-=e)}i.lastPosition.copyFrom(n.position),i.targetPosition.copyFrom(n.position),i.scrollPosition.copyFrom(n.position),i.updateScrollBars()},i.setScrollPosition=function(t){t&&i.scrollVelocity.copyFrom(t);var e=i.innerContainer.insetContainer;i.animating||(i.animating=!0,i.lastPosition.copyFrom(e.position),i.targetPosition.copyFrom(e.position),dt.on("update",i.updateScrollPosition,i))},i.updateScrollPosition=function(t){i.stop=!0,i.scrollX&&i.updateDirection("x",t),i.scrollY&&i.updateDirection("y",t),stop&&(dt.removeListener("update",i.updateScrollPosition),i.animating=!1)},i.updateDirection=function(t,e){var u,n=i.getInnerBounds(),D=i,r=D.scrollPosition,o=D.scrollVelocity,s=D.targetPosition,a=D.lastPosition,h=i.innerContainer.insetContainer;if(u="y"===t?Math.round(Math.min(0,i.height-n.height)):Math.round(Math.min(0,i.width-n.width)),i.scrolling||0===Math.round(o[t])||(s[t]+=o[t],o[t]=$.Lerp(o[t],0,(5+2.5/Math.max(i.softness,.01))*e),s[t]>0?s[t]=0:s[t]<u&&(s[t]=u)),!i.scrolling&&0===Math.round(o[t])&&(h[t]>0||h[t]<u)){var l=i.scrollPosition[t]>0?0:u;r[t]=$.Lerp(r[t],l,(40-30*i.softness)*e),i.stop=!1}else(i.scrolling||0!==Math.round(o[t]))&&(i.scrolling&&(o[t]=i.scrollPosition[t]-a[t],a.copyFrom(r)),s[t]>0?(o[t]=0,r[t]=100*i.softness*(1-Math.exp(s[t]/-200))):s[t]<u?(o[t]=0,r[t]=u-100*i.softness*(1-Math.exp((u-s[t])/-200))):r[t]=s[t],i.stop=!1);h.position[t]=Math.round(r[t]),i.updateScrollBars()},i.mask=new e.Graphics,i.innerContainer=new M,i.innerBounds=new e.Rectangle,t.prototype.addChild.call(i,i.innerContainer),i.contentContainer.addChild(i.mask),i.contentContainer.mask=i.mask,i.scrollX=void 0!==u.scrollX&&u.scrollX,i.scrollY=void 0!==u.scrollY&&u.scrollY,i.dragScrolling=void 0===u.dragScrolling||u.dragScrolling,i.softness=void 0!==u.softness?Math.max(Math.min(u.softness||0,1),0):.5,i.radius=u.radius||0,i.expandMask=u.expandMask||0,i.overflowY=u.overflowY||0,i.overflowX=u.overflowX||0,i.scrollPosition=new e.Point,i.scrollVelocity=new e.Point,i.targetPosition=new e.Point,i.lastPosition=new e.Point,i.animating=!1,i.scrolling=!1,i._scrollBars=[],i.boundCached=performance.now()-1e3,i.initScrolling(),i}return n(u,t),u.prototype.initialize=function(){t.prototype.initialize.call(this),(this.scrollX||this.scrollY)&&this.initScrolling()},u.prototype.update=function(){if(t.prototype.update.call(this),this.lastWidth!==this.width||this.lastHeight!==this.height){var e=this.expandMask;this.mask.clear(),this.mask.lineStyle(0),this.mask.beginFill(16777215,1),0===this.radius?this.mask.drawRect(-e,-e,this.width+e,this.height+e):this.mask.drawRoundedRect(-e,-e,this.width+e,this.height+e,this.radius),this.mask.endFill(),this.lastWidth=this.width,this.lastHeight=this.height}this.setScrollPosition()},u.prototype.addChild=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var u=0;u<t.length;u++)this.innerContainer.addChild(t[u]);return this.getInnerBounds(!0),this},u.prototype.updateScrollBars=function(){for(var t=0;t<this._scrollBars.length;t++)this._scrollBars[t].alignToContainer()},u.prototype.getInnerBounds=function(t){return(t||performance.now()-this.boundCached>1e3)&&(this.innerContainer.insetContainer.getLocalBounds(this.innerBounds),this.innerContainer.insetContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this.innerContainer.height,this.innerBounds.width=this.innerBounds.x+this.innerContainer.width,this.boundCached=performance.now()),this.innerBounds},u.prototype.initScrolling=function(){var t=this,u=this.innerContainer.insetContainer,i=new e.Point,n=this.scrollPosition,D=this.targetPosition;if(this.dragScrolling){var r=new d(this);r.onDragStart=function(e){t.scrolling||(i.copyFrom(u.position),n.copyFrom(u.position),t.scrolling=!0,t.setScrollPosition(),t.emit("dragStart",e))},r.onDragMove=function(e,u){t.scrollX&&(D.x=i.x+u.x),t.scrollY&&(D.y=i.y+u.y)},r.onDragEnd=function(e){t.scrolling&&(t.scrolling=!1,t.emit("dragEnd",e))}}var o=new e.Point;new Y(this,!0).onMouseScroll=function(e,u){o.set(.2*-u.x,.2*-u.y),t.setScrollPosition(o)},this.updateScrollBars()},u}(M),pt=function(t){function e(e,u,i){var n=t.call(this,0,0)||this;return n.desc=void 0!==e&&e,n.tweenTime=u||0,n.tweenEase=i,n.items=[],n}return n(e,t),e.prototype.addChild=function(e,u,i){t.prototype.addChild.call(this,e),-1===this.items.indexOf(e)&&this.items.push(e),"function"==typeof u&&(e._sortListValue=u),"function"==typeof i&&(e._sortListThenByValue=i),e._sortListRnd||(e._sortListRnd=Math.random()),this.sort()},e.prototype.removeChild=function(e){if(arguments.length>1)for(var u=0;u<arguments.length;u++)this.removeChild(arguments[u]);else{t.prototype.removeChild.call(this,e);var i=this.items.indexOf(e);-1!==i&&this.items.splice(i,1),this.sort()}},e.prototype.sort=function(t){var e=this;void 0===t&&(t=!1),clearTimeout(this._sortTimeout),t?this._sort():this._sortTimeout=setTimeout((function(){e._sort()}),0)},e.prototype._sort=function(){var t=this,e=this.desc,u=0,i=!0;this.items.sort((function(t,u){var i=t._sortListValue()<u._sortListValue()?e?1:-1:t._sortListValue()>u._sortListValue()?e?-1:1:0;return 0===i&&t._sortListThenByValue&&u._sortListThenByValue&&(i=t._sortListThenByValue()<u._sortListThenByValue()?e?1:-1:t._sortListThenByValue()>u._sortListThenByValue()?e?-1:1:0),0===i&&(i=t._sortListRnd>u._sortListRnd?1:t._sortListRnd<u._sortListRnd?-1:0),i}));for(var n=0;n<this.items.length;n++){var D=this.items[n];i=!i,this.tweenTime>0?ht.fromTo(D,this.tweenTime,{x:D.x,y:D.y},{x:0,y:u},this.tweenEase):(D.x=0,D.y=u),u+=D.height,"function"==typeof D.altering&&D.altering(i)}this.tweenTime>0&&setTimeout((function(){t.updatesettings(!1,!0)}),1e3*this.tweenTime)},e}(M),ft=function(t){function u(e,u,i,n,D){var r=t.call(this,e.width,e.height)||this;return r.bw=u||5,r.vs=void 0===n||n,r.hs=void 0===i||i,r.t=e.baseTexture,r.f=e.frame,r.tile=D,r.hs&&(r.setting.minWidth=2*u),r.vs&&(r.setting.minHeight=2*u),r.update=function(){this.initialized&&(vs&&hs?(str.x=sbr.x=sr.x=this._width-bw,sbl.y=sbr.y=sb.y=this._height-bw,sf.width=st.width=sb.width=this._width-2*bw,sf.height=sl.height=sr.height=this._height-2*bw):hs?(sr.x=this._width-bw,sl.height=sr.height=sf.height=this._height,sf.width=this._width-2*bw):(sb.y=this._height-bw,st.width=sb.width=sf.width=this._width,sf.height=this._height-2*bw),null!==this.tint&&(sf.tint=this.tint,vs&&hs&&(stl.tint=str.tint=sbl.tint=sbr.tint=this.tint),hs&&(sl.tint=sr.tint=this.tint),vs&&(st.tint=sb.tint=this.tint)),null!==this.blendMode&&(sf.blendMode=this.blendMode,vs&&hs&&(stl.blendMode=str.blendMode=sbl.blendMode=sbr.blendMode=this.blendMode),hs&&(sl.blendMode=sr.blendMode=this.blendMode),vs&&(st.blendMode=sb.blendMode=this.blendMode)))},r}return n(u,t),u.prototype.initialize=function(){t.prototype.initialize.call(this);var u=this.f,i=this.bw;this.vs&&this.hs?(this.ftl=new e.Rectangle(u.x,u.y,i,i),this.ftr=new e.Rectangle(u.x+u.width-i,u.y,i,i),this.fbl=new e.Rectangle(u.x,u.y+u.height-i,i,i),this.fbr=new e.Rectangle(u.x+u.width-i,u.y+u.height-i,i,i),this.ft=new e.Rectangle(u.x+i,u.y,u.width-2*i,i),this.fb=new e.Rectangle(u.x+i,u.y+u.height-i,u.width-2*i,i),this.fl=new e.Rectangle(u.x,u.y+i,i,u.height-2*i),this.fr=new e.Rectangle(u.x+u.width-i,u.y+i,i,u.height-2*i),this.ff=new e.Rectangle(u.x+i,u.y+i,u.width-2*i,u.height-2*i)):this.hs?(this.fl=new e.Rectangle(this.f.x,u.y,i,u.height),this.fr=new e.Rectangle(u.x+u.width-i,u.y,i,u.height),this.ff=new e.Rectangle(u.x+i,u.y,u.width-2*i,u.height)):(this.ft=new e.Rectangle(u.x,u.y,u.width,i),this.fb=new e.Rectangle(u.x,u.y+u.height-i,u.width,i),this.ff=new e.Rectangle(u.x,u.y+i,u.width,u.height-2*i));var n=this,D=n.t,r=n.ff,o=n.fl,s=n.fr,a=n.ft,h=n.fb;this.sf=this.tile?new e.extras.TilingSprite(new e.Texture(D,r)):new e.Sprite(new e.Texture(D,r)),this.contentContainer.addChildAt(this.sf,0),this.vs&&this.hs&&(this.stl=new e.Sprite(new e.Texture(D,this.ftl)),this.str=new e.Sprite(new e.Texture(D,this.ftr)),this.sbl=new e.Sprite(new e.Texture(D,this.fbl)),this.sbr=new e.Sprite(new e.Texture(D,this.fbr)),this.contentContainer.addChildAt(this.stl,0),this.contentContainer.addChildAt(this.str,0),this.contentContainer.addChildAt(this.sbl,0),this.contentContainer.addChildAt(this.sbr,0)),hs&&(this.sl=this.tile?new e.extras.TilingSprite(new e.Texture(D,o)):new e.Sprite(new e.Texture(D,o)),this.sr=this.tile?new e.extras.TilingSprite(new e.Texture(D,s)):new e.Sprite(new e.Texture(D,s)),this.contentContainer.addChildAt(this.sl,0),this.contentContainer.addChildAt(this.sr,0)),this.vs&&(this.st=this.tile?new e.extras.TilingSprite(new e.Texture(D,a)):new e.Sprite(new e.Texture(D,a)),this.sb=this.tile?new e.extras.TilingSprite(new e.Texture(D,h)):new e.Sprite(new e.Texture(D,h)),this.contentContainer.addChildAt(this.st,0),this.contentContainer.addChildAt(this.sb,0)),this.vs&&this.hs&&(this.st.x=i,this.sb.x=i,this.sl.y=i,this.sr.y=i,this.stl.width=i,this.str.width=i,this.sbl.width=i,this.sbr.width=i,this.stl.height=i,this.str.height=i,this.sbl.height=i,this.sbr.height=i),this.hs&&(this.sf.x=this.sl.width=this.sr.width=i),this.vs&&(this.sf.y=this.st.height=this.sb.height=i)},u.prototype.update=function(){},u}(F),gt=function(t){function u(u){var i=t.call(this)||this;return i.spriteDisplay=new e.Sprite(u),i.contentContainer.addChild(i.spriteDisplay),i}return n(u,t),u.prototype.update=function(){null!==this.tint&&(this.spriteDisplay.tint=this.tint),null!==this.blendMode&&(this.spriteDisplay.blendMode=this.blendMode)},u.fromImage=function(t){return new u(new e.Texture(new e.BaseTexture(t)))},u}(F),Et=function(u){function i(t,i){var n=u.call(this)||this;return n.__width=t,n.__height=i,n.minWidth=0,n.minHeight=0,n.widgetChildren=[],n.interactive=!0,n.stage=n,n.hitArea=new e.Rectangle(0,0,0,0),n.initialized=!0,n.resize(t,i),n}return n(i,u),i.prototype.measureAndLayout=function(){this.background&&(this.background.width=this.width,this.background.height=this.height);for(var e=0,u=this.widgetChildren.length;e<u;e++){var i=this.widgetChildren[e],n=i.layoutOptions||m.DEFAULT,D=n.width<m.MAX_DIMEN?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,r=n.height<m.MAX_DIMEN?t.MeasureMode.EXACTLY:t.MeasureMode.AT_MOST,o=Math.abs(n.width)<1?n.width*this.width:n.width,s=Math.abs(n.height)<1?n.height*this.height:n.height;i.measure(D===t.MeasureMode.EXACTLY?o:this.width,r===t.MeasureMode.EXACTLY?s:this.height,D,r);var a=n.x?n.x:0,h=n.y?n.y:0;Math.abs(a)<1&&(a*=this.width),Math.abs(h)<1&&(h*=this.height);var l=n.anchor||y.DEFAULT_ANCHOR,c=a-l.x*i.getMeasuredWidth(),d=h-l.y*i.getMeasuredHeight();i.layout(c,d,c+i.getMeasuredWidth(),d+i.getMeasuredHeight(),!0)}},i.prototype.getBackground=function(){return this.background},i.prototype.setBackground=function(t){this.background&&u.prototype.removeChild.call(this,this.background),this.background=t,t&&(u.prototype.addChildAt.call(this,t,0),this.background.width=this.width,this.background.height=this.height)},i.prototype.update=function(t){for(var e=0,u=t.length;e<u;e++){var i=t[e];i.initialized||i.initialize(),this.update(i.widgetChildren),i.stage=this,i.update()}},i.prototype.render=function(t){this.update(this.widgetChildren),u.prototype.render.call(this,t)},i.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,this.widgetChildren.push(t),u.prototype.addChild.call(this,t.insetContainer);this.measureAndLayout()},i.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{u.prototype.removeChild.call(this,t.insetContainer);var n=this.widgetChildren.indexOf(t);-1!==n&&(this.children.splice(n,1),t.parent=null)}this.measureAndLayout()},i.prototype.resize=function(t,e){if(isNaN(e)||(this.__height=e),isNaN(t)||(this.__width=t),this.minWidth||this.minHeight){var u=1,i=1;t&&t<this.minWidth&&(u=this.minWidth/t),e&&e<this.minHeight&&(i=this.minHeight/e),u>i&&u>1?(this.scale.set(1/u),this.__height*=u,this.__width*=u):i>1?(this.scale.set(1/i),this.__width*=i,this.__height*=i):1!==this.scale.x&&this.scale.set(1)}this.hitArea&&(this.hitArea.width=this.__width,this.hitArea.height=this.__height);for(var n=0;n<this.widgetChildren.length;n++)this.widgetChildren[n].updatesettings(!0,!1);this.measureAndLayout()},Object.defineProperty(i.prototype,"width",{get:function(){return this.__width},set:function(t){isNaN(t)||(this.__width=t,this.resize())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.__height},set:function(t){isNaN(t)||(this.__height=t,this.resize())},enumerable:!0,configurable:!0}),i}(e.Container);var mt=function(t){function u(u){var i=t.call(this,u)||this;i.keyDownEvent=function(t){if(t.which!==i.ctrlKey&&t.which!==i.cmdKey||(i.ctrlDown=!0),t.which===i.shiftKey&&(i.shiftDown=!0),i.emit("keydown",t),!t.defaultPrevented){if(13===t.which)return i.insertTextAtCaret("\n"),void t.preventDefault();if(i.ctrlDown){if(65===t.which)return i.select(),void t.preventDefault();if(90===t.which)return i.value!=i._lastValue&&(i.valueEvent=i._lastValue),i.setCaretIndex(i._lastValue.length+1),void t.preventDefault()}if(8===t.which)return i.deleteSelection()||(i.caret._index>0||1===i.chars.length&&i.caret._atEnd)&&(i.caret._atEnd?(i.valueEvent=i.value.slice(0,i.chars.length-1),i.setCaretIndex(i.caret._index)):(i.valueEvent=i.value.slice(0,i.caret._index-1)+i.value.slice(i.caret._index),i.setCaretIndex(i.caret._index-1))),void t.preventDefault();if(46===t.which)return i.deleteSelection()||i.caret._atEnd||(i.valueEvent=i.value.slice(0,i.caret._index)+i.value.slice(i.caret._index+1),i.setCaretIndex(i.caret._index)),void t.preventDefault();if(37!==t.which&&39!==t.which)return!i.multiLine||38!==t.which&&40!==t.which?void 0:(i.vrdd=38===t.which,i.shiftDown?i.hasSelection?(i.de.y=Math.max(0,Math.min(i.textHeightPX,i.de.y+(i.vrdd?-i.lineHeight:i.lineHeight))),i.updateClosestIndex(i.de,!1),Math.abs(i.si-i.ei)<=1?i.setCaretIndex(i.sie?i.si+1:i.si):(i.caret._index=(i.eie?i.ei+1:i.ei)+(i.caret._down?-1:0),i.selectRange(i.caret._down?i.si:i.si-1,i.caret._index))):(i.si=i.caret._index,i.sie=!1,i.de.copyFrom(i.caret),i.de.y=Math.max(0,Math.min(i.textHeightPX,i.de.y+(i.vrdd?-i.lineHeight:i.lineHeight))),i.updateClosestIndex(i.de,!1),i.caret._index=(i.eie?i.ei+1:ei)-(i.vrdd?0:1),i.selectRange(i.vrdd?i.si-1:i.si,i.caret._index),i.caret._down=!i.vrdd):i.hasSelection?i.setCaretIndex(i.vrdd?i.selectionStart:i.selectionEnd+1):(i.ds.copyFrom(i.caret),i.ds.y+=i.vrdd?-i.lineHeight:i.lineHeight,i.ds.x+=1,i.updateClosestIndex(i.ds,!0),i.setCaretIndex(i.sie?i.si+1:i.si)),void t.preventDefault());if(i.rdd=37===t.which,i.shiftDown)if(i.hasSelection){if(i.selectionStart===i.caret._index)if(i.selectionStart===i.selectionEnd&&i.rdd===i.caret._forward)i.setCaretIndex(i.caret._forward?i.caret._index:i.caret._index+1);else{var e=i.rdd?i.caret._index-1:i.caret._index+1;i.selectRange(e,i.selectionEnd),i.caret._index=Math.min(i.chars.length-1,Math.max(0,e))}else{var u=i.rdd?i.caret._index-1:i.caret._index+1;i.selectRange(i.selectionStart,u),i.caret._index=Math.min(i.chars.length-1,Math.max(0,u))}}else{var n=i.caret._atEnd?i.caret._index+1:i.caret._index,D=i.rdd?n-1:n;i.selectRange(D,D),i.caret._index=D,i.caret._forward=!rdd}else i.hasSelection?i.setCaretIndex(i.rdd?i.selectionStart:i.selectionEnd+1):i.setCaretIndex(i.caret._index+(i.rdd?i.caret._atEnd?0:-1:1));t.preventDefault()}},i.keyUpEvent=function(t){t.which!==i.ctrlKey&&t.which!==i.cmdKey||(i.ctrlDown=!1),t.which===i.shiftKey&&(i.shiftDown=!1),i.emit("keyup",t),t.defaultPrevented},i.copyEvent=function(t){if(i.emit("copy",t),!t.defaultPrevented){if(i.hasSelection)(t.clipboardData||window.clipboardData).setData("Text",i.value.slice(i.selectionStart,i.selectionEnd+1));t.preventDefault()}},i.cutEvent=function(t){i.emit("cut",t),t.defaultPrevented||(i.hasSelection&&(i.copyEvent(t),i.deleteSelection()),t.preventDefault())},i.pasteEvent=function(t){if(i.emit("paste",t),!t.defaultPrevented){var e=t.clipboardData||window.clipboardData;i.insertTextAtCaret(e.getData("Text")),t.preventDefault()}},i.inputEvent=function(t){var e=Ct.value;e.length&&(i.insertTextAtCaret(e),Ct.value=""),t.preventDefault()},i.inputBlurEvent=function(t){i.blur()},i.focus=function(){if(!i._focused){t.prototype.focus.call(i);var e=i.contentContainer.worldTransform.tx+"px",u=i.contentContainer.worldTransform.ty+"px",n=i.contentContainer.height+"px",D=i.contentContainer.width+"px";Ct.setAttribute("style","position:fixed; left:"+e+"; top:"+u+"; height:"+n+"; width:"+D+";"),Ct.value="",Ct.focus(),Ct.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),i.innerContainer.cacheAsBitmap=!1,Ct.addEventListener("blur",i.inputBlurEvent,!1),document.addEventListener("keydown",i.keyDownEvent,!1),document.addEventListener("keyup",i.keyUpEvent,!1),document.addEventListener("paste",i.pasteEvent,!1),document.addEventListener("copy",i.copyEvent,!1),document.addEventListener("cut",i.cutEvent,!1),Ct.addEventListener("input",i.inputEvent,!1),setTimeout((function(){i.caret.visible||i.selection.visible||i.multiLine||i.setCaretIndex(i.chars.length)}),0)}},i.blur=function(){i._focused&&(t.prototype.blur.call(i),i.ctrlDown=!1,i.shiftDown=!1,i.hideCaret(),i.clearSelection(),i.chars.length>1&&(i.innerContainer.cacheAsBitmap=!0),Ct.removeEventListener("blur",i.inputBlurEvent),document.removeEventListener("keydown",i.keyDownEvent),document.removeEventListener("keyup",i.keyUpEvent),document.removeEventListener("paste",i.pasteEvent),document.removeEventListener("copy",i.copyEvent),document.removeEventListener("cut",i.cutEvent),Ct.removeEventListener("input",i.inputEvent),Ct.blur()),i.multiLine||i.resetScrollPosition()},i.setCaretIndex=function(t){if(i.caret._atEnd=t>=i.chars.length,i.caret._index=Math.max(0,Math.min(i.chars.length-1,t)),i.chars.length&&t>0){var e=Math.max(0,Math.min(t,i.chars.length-1)),u=i.chars[e];u&&u.wrapped?(i.caret.x=u.x,i.caret.y=u.y):(e=Math.max(0,Math.min(t-1,i.chars.length-1)),u=i.chars[e],i.caret.x=i.chars[e].x+i.chars[e].width,i.caret.y=i.chars[e].lineIndex*i.lineHeight+.5*(i.lineHeight-i.textHeight))}else i.caret.x=0,i.caret.y=.5*(i.lineHeight-i.textHeight);i.scrollToPosition(i.caret),i.showCaret()},i.select=function(){i.selectRange(0,i.chars.length-1)},i.selectWord=function(t){for(var e=i.chars.length,u=0,n=0;n<i.chars.length;n++)i.chars[n].wordIndex===t&&(n<e&&(e=n),n>u&&(u=n));i.selectRange(e,u)},i.selectRange=function(t,e){if(t>-1&&e>-1){var u=Math.min(t,e,i.chars.length-1),n=Math.min(Math.max(t,e),i.chars.length-1);u===i.selectionStart&&n===i.selectionEnd||(i.hasSelection=!0,i.selection.visible=!0,i.selectionStart=u,i.selectionEnd=n,i.hideCaret(),i.updateSelectionGraphics(),i.updateSelectionColors()),i.focus()}else i.clearSelection()},i.clearSelection=function(){i.hasSelection&&(i.hasSelection=!1,i.selection.visible=!1,i.selectionStart=-1,i.selectionEnd=-1,i.updateSelectionColors())},i.updateSelectionGraphics=function(){var t=i.chars[i.selectionStart];if(void 0!==t){var e=t.x,u=t.y,n=0,D=i.textHeight,r=t.lineIndex;i.selection.clear();for(var o=i.selectionStart;o<=i.selectionEnd;o++){var s=i.chars[o];s.lineIndex!=r&&(i.drawSelectionRect(e,u,n,D),e=s.x,u=s.y,r=s.lineIndex,n=0),n+=s.width}i.drawSelectionRect(e,u,n,D),i.innerContainer.addChildAt(i.selection,0)}},i.drawSelectionRect=function(t,e,u,n){i.selection.beginFill("0x"+i.selectedBackgroundColor.slice(1),1),i.selection.moveTo(t,e),i.selection.lineTo(t+u,e),i.selection.lineTo(t+u,e+n),i.selection.lineTo(t,e+n),i.selection.endFill()},void 0===Ct&&((Ct=document.createElement("INPUT")).setAttribute("type","text"),Ct.setAttribute("id","_pui_tempInput"),Ct.setAttribute("style","position:fixed; left:-10px; top:-10px; width:0px; height: 0px;"),document.body.appendChild(Ct)),i.options=u,i._dirtyText=!0,i.maxLength=u.maxLength||0,i._value=i._lastValue=u.value||"",i.maxLength&&(i._value=i._value.slice(0,i.maxLength)),i.chars=[],i.multiLine=void 0!==u.multiLine&&u.multiLine,i.color=u.style&&u.style.fill?u.style.fill:"#000000",i.selectedColor=u.selectedColor||"#ffffff",i.selectedBackgroundColor=u.selectedBackgroundColor||"#318cfa",i.tempText=new e.Text("1",u.style),i.textHeight=i.tempText.height,i.lineHeight=u.lineHeight||i.textHeight||i._height,i.tempText.destroy(),i.selection=new e.Graphics,i.selection.visible=!1,i.selection._startIndex=0,i.selection._endIndex=0,i.caret=new e.Graphics,i.caret.visible=!1,i.caret._index=0,i.caret.lineStyle(u.caretWidth||1,"#ffffff",1),i.caret.moveTo(0,0),i.caret.lineTo(0,i.textHeight);var n=void 0!==u.paddingLeft?u.paddingLeft:u.padding,D=void 0!==u.paddingRight?u.paddingRight:u.padding,r=void 0!==u.paddingBottom?u.paddingBottom:u.padding,o=void 0!==u.paddingTop?u.paddingTop:u.padding;return i.textContainer=new Ft({scrollX:!i.multiLine,scrollY:i.multiLine,dragScrolling:i.multiLine,expandMask:2,softness:.2,overflowX:40,overflowY:40}).setPadding(n||3,o||3,D||3,r||3).setLayoutOptions(new m(m.FILL_PARENT,m.FILL_PARENT)),i.addChild(i.textContainer),i.multiLine&&(i._useNext=i._usePrev=!1,i.textContainer.dragRestrictAxis="y",i.textContainer.dragThreshold=5,i.dragRestrictAxis="x",i.dragThreshold=5),i.sp=new e.Point,i._sp=new e.Point,i.ds=new e.Point,i.de=new e.Point,i.rdd=!1,i.vrdd=!1,i.selectionStart=-1,i.selectionEnd=-1,i.hasSelection=!1,i.t=performance.now(),i.cc=0,i.textLengthPX=0,i.textHeightPX=0,i.lineIndexMax=0,i.ctrlDown=!1,i.shiftDown=!1,i.shiftKey=16,i.ctrlKey=17,i.cmdKey=91,i.setupDrag(),i}return n(u,t),u.prototype.setupDrag=function(){var t=this,e=new d(this);e.onPress=function(e,u){if(u){var i=performance.now()-t.t;if(t.t=performance.now(),i<250)if(t.cc++,t.cc>1)t.select();else{t.innerContainer.toLocal(t.sp,void 0,t.ds,!0),t.updateClosestIndex(t.ds,!0);var n=t.chars[t.si];n&&(-1!=n.wordIndex?t.selectWord(n.wordIndex):t.selectRange(t.si,t.si))}else t.cc=0,t.sp.copyFrom(e.data.global),t.innerContainer.toLocal(t.sp,void 0,t.ds,!0),t.chars.length&&(t.updateClosestIndex(t.ds,!0),t.setCaretIndex(t.sie?t.si+1:t.si))}e.data.originalEvent.preventDefault()},e.onDragMove=function(e,u){t.chars.length&&t._focused&&(t.de.x=t.sp.x+u.x,t.de.y=t.sp.y+u.y,t.innerContainer.toLocal(t.de,void 0,t.de,!0),t.updateClosestIndex(t.de,!1),t.si<t.ei?(t.selectRange(t.sie?t.si+1:t.si,t.eie?t.ei:t.ei-1),t.caret._index=t.eie?t.ei:t.ei-1):t.si>t.ei?(t.selectRange(t.ei,t.sie?t.si:t.si-1),t.caret._index=t.ei):t.sie===t.eie?t.setCaretIndex(t.sie?t.si+1:t.si):(t.selectRange(t.si,t.ei),t.caret._index=t.ei),t.caret._forward=t.si<=t.ei,t.caret._down=u.y>0,t.scrollToPosition(t.de))}},Object.defineProperty(u.prototype,"innerContainer",{get:function(){return this.textContainer.innerContainer.insetContainer},enumerable:!0,configurable:!0}),u.prototype.update=function(){this.width!==this._lastWidth&&(this._lastWidth=this._width,this.multiLine&&(this.updateText(),this.caret.visible&&this.setCaretIndex(this.caret._index),this.hasSelection&&this.updateSelectionGraphics())),this._dirtyText&&(this.updateText(),this._dirtyText=!1)},u.prototype.updateText=function(){this.textLengthPX=0,this.textHeightPX=0,this.lineIndexMax=0;var t=0,u=this._value.length,i=0,n=.5*(this.lineHeight-this.textHeight),D=0;if(this.chars.length>u){for(D=this.chars.length-1;D>=u;D--)this.innerContainer.removeChild(this.chars[D]),this.chars[D].destroy();this.chars.splice(u,this.chars.length-u)}var r=!1,o=!1,s=0,a=-1,h=!1;for(D=0;D<this._value.length;D++){(r||o)&&(a=D,s++);var l=this._value[D];r=" "===l,(o="\n"===l)&&(l="");var c=this.chars[D];c?c.text=l:(c=new e.Text(l,this.options.style),this.innerContainer.addChild(c),this.chars.push(c)),c.scale.x=o?0:1,c.wrapped=h,h=!1,!(o||this.multiLine&&i+c.width>=this._width-this.paddingLeft-this.paddingRight)||(t++,i=0,n+=this.lineHeight,-1===a||o)?(c.lineIndex=t,c.x=i,c.y=n,c.wordIndex=r||o?-1:s,(i+=c.width)>this.textLengthPX&&(this.textLengthPX=i),n>this.textHeightPX&&(this.textHeightPX=n)):(D=a-1,a=-1,h=!0)}this.lineIndexMax=t,this.innerContainer.addChild(this.caret),this.innerContainer.cacheAsBitmap&&(this.innerContainer.cacheAsBitmap=!1,this.innerContainer.cacheAsBitmap=!0),this.textContainer.update()},u.prototype.updateClosestIndex=function(t,e){var u=99999,i=-1,n=!1,D=0;this.lineIndexMax>0&&(D=Math.max(0,Math.min(this.lineIndexMax,Math.floor(t.y/this.lineHeight))));for(var r=0;r<this.chars.length;r++){var o=this.chars[r];if(o.lineIndex===D){var s=Math.abs(t.x-(o.x+.5*o.width));s<u&&(u=s,i=r,n=t.x>o.x+.5*o.width)}}e?(this.si=i,this.sie=n):(this.ei=i,this.eie=n)},u.prototype.deleteSelection=function(){return!!this.hasSelection&&(this.value=this.value.slice(0,this.selectionStart)+this.value.slice(this.selectionEnd+1),this.setCaretIndex(this.selectionStart),!0)},u.prototype.updateSelectionColors=function(){for(var t=0;t<this.chars.length;t++)t>=this.selectionStart&&t<=this.selectionEnd?this.chars[t].style.fill=this.selectedColor:this.chars[t].style.fill=this.color},u.prototype.scrollToPosition=function(t){this._sp.x=t.x,this._sp.y=t.y,this.multiLine&&this._sp.y>=this.lineHeight&&(this._sp.y+=this.lineHeight),this.textContainer.focusPosition(this._sp)},u.prototype.resetScrollPosition=function(){this._sp.set(0,0),this.textContainer.focusPosition(this._sp)},u.prototype.hideCaret=function(){this.caret.visible=!1,clearInterval(this.caretInterval)},u.prototype.showCaret=function(){var t=this;this.clearSelection(),clearInterval(this.caretInterval),this.caret.alpha=1,this.caret.visible=!0,this.caretInterval=setInterval((function(){t.caret.alpha=0===t.caret.alpha?1:0}),500)},u.prototype.insertTextAtCaret=function(t){if(this.multiLine||-1===t.indexOf("\n")||(t=t.replace(/\n/g,"")),this.hasSelection&&this.deleteSelection(),!this.maxLength||this.chars.length<this.maxLength)if(this.caret._atEnd)this.valueEvent+=t,this.setCaretIndex(this.chars.length);else{var e=Math.min(this.chars.length-1,this.caret._index);this.valueEvent=this.value.slice(0,e)+t+this.value.slice(e),this.setCaretIndex(e+t.length)}},Object.defineProperty(u.prototype,"valueEvent",{get:function(){return this._value},set:function(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this.value=t,this.emit("change"))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"value",{get:function(){return this._value},set:function(t){this.maxLength&&(t=t.slice(0,this.maxLength)),this._value!=t&&(this._lastValue=this._value,this._value=t,this._dirtyText=!0,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"text",{get:function(){return this.value},set:function(t){this.value=t},enumerable:!0,configurable:!0}),u}(B),vt=function(t){function u(u,i,n){var D=this,r=new e.extras.TilingSprite(u);return(D=t.call(this,i||r.width,n||r.height)||this).sprite=r,D.contentContainer.addChild(D.sprite),D}return n(u,t),u.prototype.update=function(){null!==this.tint&&(this.sprite.tint=this.tint),null!==this.blendMode&&(this.sprite.blendMode=this.blendMode),this.sprite.width=this._width,this.sprite.height=this._height},Object.defineProperty(u.prototype,"tilePosition",{get:function(){return this.sprite.tilePosition},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tilingPosition",{set:function(t){this.sprite.tilePosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tileScale",{get:function(){return this.sprite.tileScale},set:function(t){this.sprite.tileScale=t},enumerable:!0,configurable:!0}),u}(F),yt=function(){function e(){this.noPercents=!1}return e.prototype.onAttach=function(t){this.host=t},e.prototype.onDetach=function(){this.host=null},e.prototype.measureChild=function(e,u,i,n,D){var r,o,s=e.layoutOptions||m.DEFAULT,a=s.anchorLeft||0,h=s.anchorTop||0,l=s.anchorRight||0,c=s.anchorBottom||0,d=0,C=0;this.noPercents||Math.abs(a)>1&&Math.abs(l)>1?(d=Math.ceil(l)-Math.floor(a),r=t.MeasureMode.AT_MOST):Math.abs(a)<1&&Math.abs(l)<1?(d=u*(l-a),r=n===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST):Math.abs(a)<1?(d=l,r=t.MeasureMode.AT_MOST):(d=u*l-a,r=n===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST),this.noPercents||Math.abs(h)>1&&Math.abs(c)>1?(C=Math.ceil(c)-Math.floor(h),o=t.MeasureMode.AT_MOST):Math.abs(h)<1&&Math.abs(c)<1?(C=i*(c-h),o=D===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST):Math.abs(h)<1?(C=c,o=t.MeasureMode.AT_MOST):(C=i*c-h,o=D===t.MeasureMode.UNBOUNDED?t.MeasureMode.UNBOUNDED:t.MeasureMode.AT_MOST),e.measure(d,C,r,o)},e.prototype.measureStretch=function(t,e,u){return this.noPercents||Math.abs(e)>1&&Math.abs(t)>1?Math.max(t,e):Math.abs(t)<1&&Math.abs(e)<1?u/(e-t):Math.abs(t)<1?e:(u+t)/e},e.prototype.measureChildren=function(t,e,u,i){for(var n=this.host.widgetChildren,D=0,r=n.length;D<r;D++)this.measureChild(n[D],t,e,u,i)},e.prototype.onMeasure=function(e,u,i,n){i===t.MeasureMode.EXACTLY&&n===t.MeasureMode.EXACTLY&&(this.measuredWidth=e,this.measuredHeight=u,this.measureChildren(this.measuredWidth,this.measuredHeight,t.MeasureMode.EXACTLY,t.MeasureMode.EXACTLY));var D=0,r=0,o=this.host.widgetChildren;this.measureChildren(e,u,i,n);for(var s=0,a=o.length;s<a;s++){var h=o[s],l=h.layoutOptions||m.DEFAULT,c=l.anchorLeft||0,d=l.anchorTop||0,C=l.anchorRight||0,F=l.anchorBottom||0;D=Math.max(D,this.measureStretch(c,C,h.getMeasuredWidth())),r=Math.max(r,this.measureStretch(d,F,h.getMeasuredHeight()))}i===t.MeasureMode.EXACTLY?this.measuredWidth=e:i===t.MeasureMode.AT_MOST?this.measuredWidth=Math.min(D,e):this.measuredWidth=D,n===t.MeasureMode.EXACTLY?this.measuredHeight=u:n===t.MeasureMode.AT_MOST?this.measuredHeight=Math.min(r,u):this.measuredHeight=r,this.measureChildren(this.measuredWidth,this.measuredHeight,t.MeasureMode.EXACTLY,t.MeasureMode.EXACTLY)},e.prototype.getMeasuredWidth=function(){return this.measuredWidth},e.prototype.getMeasuredHeight=function(){return this.measuredHeight},e.prototype.onLayout=function(){for(var e=this.host,u=e.widgetChildren,i=0;i<u.length;i++){var n=u[i],D=n.layoutOptions||{},r=n.measuredWidth,o=n.measuredHeight,s=D.anchorLeft||0,a=D.anchorTop||0,h=D.anchorRight||0,l=D.anchorBottom||0;s>-1&&s<=1&&(s*=e.width),a>-1&&a<=1&&(a*=e.height),h>-1&&h<=1&&(h*=e.width),l>-1&&l<=1&&(l*=e.height);var c=0,d=0;if(0!==r)switch(D.horizontalAlign||t.ALIGN.NONE){case t.ALIGN.LEFT:c=s;break;case t.ALIGN.MIDDLE:c=(h-s-r)/2;break;case t.ALIGN.RIGHT:c=h-r}else c=s,r=h-s;if(0!==o)switch(D.verticalAlign||t.ALIGN.NONE){case t.ALIGN.TOP:d=a;break;case t.ALIGN.MIDDLE:d=(l-a-o)/2;break;case t.ALIGN.RIGHT:d=l-r}else d=h,o=l-a;n.layout(c,d,c+r,d+o)}},e}();t.AnchorLayout=yt,t.AnchorLayoutOptions=v,t.Button=x,t.CheckBox=A,t.DynamicText=L,t.DynamicTextStyle=T,t.Ease=X,t.FastLayoutOptions=y,t.Helpers=$,t.Insets=s,t.Interaction=K,t.InteractiveGroup=M,t.LayoutOptions=m,t.ScrollBar=ct,t.ScrollWidget=Ft,t.SliceSprite=ft,t.Slider=lt,t.SortableList=pt,t.Sprite=gt,t.Stage=Et,t.TextInput=mt,t.TextWidget=b,t.Ticker=dt,t.TilingSprite=vt,t.Tween=ht,t.Widget=F,t.WidgetGroup=w,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=pixi-ui.min.js.map
